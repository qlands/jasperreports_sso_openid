{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/core/core.ajax.js","webpack://jrs-ui/./src/core/core.ajax.utils.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","JSTooltip","element","options","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","jQuery","initialZIndex","toArray","memo","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","layoutModule","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","attr","timer","clearTimeout","setTimeout","show","on","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","getElementById","setAttribute","reject","t","ajax","AjaxRequester","url","params","postData","synchronous","location","toString","xmlhttp","getXMLHTTP","rsChangeFunction","processResponse","onreadystatechange","async","requestTime","Date","handleResponse","requester","checkForErrors","responseHandler","ajaxRequestEnded","JRS","className","targettedResponseHandler","fillId","fromId","callback","toLocation","html","updateUsingResponseSubset","res","responseText","trim","opentTag","substring","body","lastIndexOf","closeTag","ajaxBuffer","replace","invokeCallbacks","cumulativeResponseHandler","insert","rowCopyResponseHandler","tableId","theTable","tagName","tempDiv","Builder","copyTable","getElementsByTagName","alert","cancelRequestsBefore","LOADING_ID","open","setRequestHeader","send","prototype","DUMMY_POST_PARAM","readyState","setErrorHandler","errorHandler","getResponseHeader","confirmContinue","responseTimer","dialogs","MAX_WAIT_TIME","confirm","serverIsNotResponding","clobberingResponseHandler","fire","evalJSONResponseHandler","jSONResponse","evalJSON","e","console","log","fromLocation","toLoc","response","whatWeWant","copyTableJquery","append","scriptTags","sz","size","idx","iterate","scriptObj","get","scriptName","scriptUrl","gotCallback","callbackFn","scriptElement","createElement","jr_scripts","onload","src","appendChild","scriptString","lines","match","eval","executeScript","customArg","ajaxClobberredUpdate","ajaxUpdate","ajaxTargettedUpdate","mode","CUMULATIVE_UPDATE","ROW_COPY_UPDATE","EVAL_JSON","preFillAction","ajaxNonReturningUpdate","ajaxClobberedFormSubmit","form","getPostData","extraPostData","appendPostData","ajaxTargettedFormSubmit","ajaxErrorHandler","showMessageDialog","ajaxError","ajaxErrorHeader","doNothing","fillLocation","isAutomaticRefresh","isIPad","busyCursor","silent","showLoading","hideLoader","ajaxRequestStarted","doPost","doGet","requesterErrorHandler","forms","data","i","name","appendFormInput","appendFormValue","type","checked","option","selected","shift","encodeURIComponent","ERROR_POPUP_DIV","ERROR_POPUP_CONTENTS","ERROR_POPUP_BACK_BUTTON","ERROR_POPUP_CLOSE_BUTTON","hideErrorPopup","popOverlayObject","style","display","ajaxRequestCount","cursor","startResponseTimer","cancelResponseTimer","isValidJsonResponse","ajaxAgent","responseType","status","XMLHttpRequest","showErrorPopup","errorMessage","baseErrorHandler","Draggable","startDrag","event","isDragging","dragging","delta","currentDelta","zindex","originalZ","Element","getStyle","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","superghosting","prepare","pointer","Event","pointerX","pointerY","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","pos","cumulativeOffset","r","realOffset","deltaX","deltaY","d","_isScrollChild","p","map","mouseOffset","offset","bind","snap","Object","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","touches","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","stop","targetEvent","Droppables","isAffected","drop","jo","w","h","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","finishDrag","success","isIE","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","reset","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","initialize","observer","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set"],"mappings":"qGAAA;;;;;;;;GAkBEA,EAAQ,CAAE,SAAU,eAAd,4BAMJ,SAAUC,GAEd,OAAOA,EAAEC,GAAGC,aAAe,SAAUC,GACpC,IAAIC,EAAWC,KAAKC,IAAK,YACxBC,EAAmC,aAAbH,EACtBI,EAAgBL,EAAgB,uBAAyB,gBACzDD,EAAeG,KAAKI,UAAUC,QAAQ,WACrC,IAAIC,EAASX,EAAGK,MAChB,QAAKE,GAAoD,WAA7BI,EAAOL,IAAK,cAGjCE,EAAcI,KAAMD,EAAOL,IAAK,YAAeK,EAAOL,IAAK,cACjEK,EAAOL,IAAK,kBACVO,GAAI,GAET,MAAoB,UAAbT,GAAyBF,EAAaY,OAE5CZ,EADAF,EAAGK,KAAM,GAAIU,eAAiBC,aAtBxB,gC,mICuDR,SAASC,EAAUC,EAASC,GACxB,GAAID,EAAS,CAgBT,GAfAb,KAAKe,WAAaF,EAEdC,IACAd,KAAKgB,MAAQF,EAAQE,MACrBhB,KAAKiB,KAAOH,EAAQG,KACpBjB,KAAKkB,QAAUJ,EAAQI,QACvBlB,KAAKmB,YAAeL,EAAQK,UAC5BnB,KAAKoB,WAAaN,EAAQM,WAC1BpB,KAAKqB,iBAAmBP,EAAQO,iBAChCrB,KAAKsB,kBAAmB,GAG5BtB,KAAKuB,UAAW,EAChBvB,KAAKwB,SAAU,EAEXxB,KAAKoB,WACLpB,KAAKyB,aAAazB,KAAK0B,iBAAkB1B,KAAKoB,gBAC3C,CACH,IAAIO,EAAK3B,KAAK4B,eAAe5B,KAAK0B,kBAClC1B,KAAKoB,WAAcO,GAAMA,EAAGlB,OAAS,EAAKkB,EAAK3B,KAAK6B,oBAEpD7B,KAAKgB,MACLhB,KAAKyB,aAAazB,KAAK8B,cAAe9B,KAAKgB,OAE3ChB,KAAKgB,MAAQhB,KAAK4B,eAAe5B,KAAK8B,eAEtC9B,KAAKiB,KACLjB,KAAKyB,aAAazB,KAAK+B,aAAc/B,KAAKiB,MAE1CjB,KAAKiB,KAAOjB,KAAK4B,eAAe5B,KAAK+B,cAIrC/B,KAAKgB,QACLhB,KAAKgB,MAAQhB,KAAKgC,YAAYhC,KAAKgB,QACnChB,KAAKiB,OACLjB,KAAKiB,KAAOjB,KAAKgC,YAAYhC,KAAKiB,OAEtCjB,KAAKe,WAAWkB,UAAYjC,KAE5BkC,EAAcC,SAASC,KAAKpC,OAIpCY,EAAUyB,OAAO,YAAa,MAC9BzB,EAAUyB,OAAO,gBAAiB,gBAClCzB,EAAUyB,OAAO,eAAgB,eACjCzB,EAAUyB,OAAO,mBAAoB,mBACrCzB,EAAUyB,OAAO,sBAAuB,aACxCzB,EAAUyB,OAAO,gBAAiB,kBAClCzB,EAAUyB,OAAO,eAAgB,wBAEjCzB,EAAU0B,UAAU,gBAAgB,SAASC,EAAUC,GAChDxC,KAAKe,aACJyB,EAAQC,eAAmBD,GAC3BxC,KAAKe,WAAW2B,eAAeH,GAAUI,SAAQH,GAASA,EAAMI,KAAK5C,KAAK6C,WAAaL,OAI/F5B,EAAU0B,UAAU,kBAAkB,SAASC,GAC3C,GAAGvC,KAAKe,YAAcf,KAAKe,WAAW+B,aAAaP,GAAW,CAC1D,IAAIC,EAAQxC,KAAKe,WAAWgC,cAAcR,GAC1C,OAAOC,EAAMQ,QAAQhD,KAAK6C,WAAaL,EAAMS,MAAMjD,KAAK6C,WAAaL,EAGzE,OAAO,QAGX5B,EAAU0B,UAAU,cAAc,SAASY,EAAUC,GACjDD,EAASE,MAAK,SAAUvC,EAASwC,IACzBC,aAAWH,EAAOE,KAAWC,aAAWH,EAAOE,MAC/CxC,EAAQ0C,OAAOd,eAAmBU,EAAOE,WAKrDzC,EAAU0B,UAAU,oBAAoB,SAASzB,GAC7C,SAAS2C,EAAiBC,GACtB,OAAOC,SAASC,IAAOF,GAAMxD,IAAI,YAIrC,IAAI2D,EAAgBJ,EAAiB3C,GAChCyC,aAAWM,KAAkBN,UAAQM,KACtCA,EAAgB,KAGpB,IAAIxD,EAAUkD,YAAU,CAACtD,KAAKe,WAAY4C,IAAO3D,KAAKe,YAAYX,UAAUyD,YAa5E,OAVgBP,WAASlD,GAAS,SAAS0D,EAAMxD,GAC7C,IAAIyD,EAASP,EAAiBlD,GAM9B,OAJIgD,aAAWS,KAAYT,UAAQS,KAC/BD,EAAOE,KAAKC,IAAIH,EAAMC,IAGnBD,IACRF,GAEgB,KAGvBhD,EAAU0B,UAAU,eAAe,SAASrB,GACxC,OAAOqC,YAAUrC,GACXqC,QAAMrC,GAAM,SAAUiD,GAAO,OAAOzB,eAAmByB,MACvDzB,eAAmBxB,MAG7BL,EAAU0B,UAAU,QAAQ,SAAS6B,GAOjC,IAAIjD,EANDiD,IACCnE,KAAKkB,QAAUiD,GAGnBnE,KAAKoE,SAAWT,IAAO,IAAM3D,KAAKoB,YAAY,GAG1CpB,KAAKmB,WACLD,GAAUmD,SAAcrE,KAAKe,aACrB,IAAMf,KAAKe,WAAWuD,aAAe,EAE7CpD,EAAU,EAACqD,WAAkB,GAAGC,WAAiB,GAGjDxE,KAAKkB,UACLA,EAAQ,IAAMlB,KAAKkB,QAAQ,GAC3BA,EAAQ,IAAMlB,KAAKkB,QAAQ,IAG/BlB,KAAKoE,SAASK,SAAS,CACnB1E,SAAU,WACV2E,KAAMxD,EAAQ,GAAK,KACnByD,IAAKzD,EAAQ,GAAK,KAClB6C,OAAQ/D,KAAK4E,iBAAiB5E,KAAKoE,YAGvC,IAAIS,EAAgB7E,KAAKoE,SAASU,OAAO9E,KAAK+E,eAC1CC,EAAehF,KAAKoE,SAASU,OAAO9E,KAAKiF,cAW7C,GATGjF,KAAKgB,OACJhB,KAAKkF,WAAWL,GAAelC,SAAQ3C,KAAKgB,OAAShB,KAAKgB,MAAQ,CAAChB,KAAKgB,QAEzEhB,KAAKiB,MACJjB,KAAKkF,WAAWF,GAAcrC,SAAQ3C,KAAKiB,MAAQjB,KAAKiB,KAAO,CAACjB,KAAKiB,OAGzE0C,IAAO3D,KAAKoE,UAAUe,YAAYC,kBAE9BlE,EAAQ,GAAKlB,KAAKoE,SAASiB,YAAc1B,IAAO2B,QAAQC,QAAS,CACjE,IAAIC,EAAatE,EAAQ,GAAKlB,KAAKoE,SAASiB,YAAc,EAAInE,EAAQ,GAAKlB,KAAKoE,SAASiB,YAAc,GAEvGrF,KAAKoE,SAASK,SAAS,CAAEC,KAAMc,EAAa,OAEhD,GAAItE,EAAQ,GAAKlB,KAAKoE,SAASE,aAAeX,IAAO2B,QAAQG,SAAU,CACnE,IAAIC,EAAYxE,EAAQ,GAAKlB,KAAKoE,SAASE,aAAe,GAC1DtE,KAAKoE,SAASK,SAAS,CAAEE,IAAKe,EAAY,OAS9C,OANI1F,KAAKqB,mBAAqBrB,KAAKsB,mBAC/BtB,KAAKsB,kBAAmB,EAExBtB,KAAKqB,iBAAiBrB,OAGnBA,QAGXY,EAAU0B,UAAU,cAAc,SAASrB,GAGvC,GAFAjB,KAAKiB,KAAOjB,KAAKgC,YAAYf,GAEzBjB,KAAKoE,SAAU,CACf,IAAIY,EAAehF,KAAKoE,SAASU,OAAO9E,KAAKiF,cAE7CjF,KAAKkF,WAAWF,GAAcrC,SAAQ3C,KAAKiB,MAAQjB,KAAKiB,KAAO,CAACjB,KAAKiB,WAI7EL,EAAU0B,UAAU,QAAQ,WACpBtC,KAAKoE,UACLT,IAAO3D,KAAKoE,UAAUuB,SAASP,qBAIvCxE,EAAU0B,UAAU,WAAW,WAC3BJ,EAAc0D,cAAc5F,KAAKe,YACjCf,KAAKuB,UAAW,KAGpBX,EAAU0B,UAAU,UAAU,WAC1BtC,KAAKuB,UAAW,EAChBW,EAAc2D,cAAc7F,KAAKe,WAAYf,KAAKkB,YAGtDN,EAAU0B,UAAU,UAAU,WAC1B,IAAIe,EAAQnB,EAAcC,SAAS2D,QAAQ9F,KAAKe,WAAWkB,YAC5C,IAAXoB,IACAnB,EAAc0D,cAAc5F,KAAKe,YACjCmB,EAAcC,SAAS4D,OAAO1C,EAAO,IAEzCrD,KAAKwB,SAAU,KAGnBZ,EAAU0B,UAAU,aAAa,WAC7B,OAAOtC,KAAKwB,WAGhB,IAAIU,EAAgB,CAChB8D,gBAAiB,qBACjBC,6BAA8B,iBAE9BC,QAAQ,EACRC,QAAQ,EAERhE,SAAU,GAEV0D,cAAe,SAAShF,EAASK,GAC7B,GAAKL,EAAQoB,WAEN,IAAKpB,EAAQoB,UAAUV,UAAYL,EAAS,CAC/ClB,KAAKkG,QAAUhF,EAAQ,GACvBlB,KAAKmG,QAAUjF,EAAQ,GAEvBlB,KAAKoG,UAEL,IAAIC,EAAc1C,IAAO9C,GAASyF,KAAK,sBACvCD,EAAcA,EAAc3C,SAAS2C,GAAe,IAEpDxF,EAAQoB,UAAUsE,OAASC,aAAa3F,EAAQoB,UAAUsE,OAC1D1F,EAAQoB,UAAUsE,MAAQE,YAAW,WACjC5F,EAAQoB,UAAUyE,KAAK,CAACxE,EAAcgE,QAAShE,EAAciE,YAC9DE,GAEH1C,IAAO9C,GAAS8F,GAAG,aAAa,SAASC,GACrC1E,EAAcgE,QAAUU,EAAIC,QAC5B3E,EAAciE,QAAUS,EAAIE,iBAjBhCjG,EAAQoB,UAAY,IAAIrB,EAAUC,EAAS,KAsBnDkG,eAAgB,YACG/G,KAAKmC,UAAY,IAEvB6E,SAAQ,SAASC,GACtBA,EAAQC,aAIhBC,gBAAiB,YACEnH,KAAKmC,UAAY,IAEvB6E,SAAQ,SAASC,GACtBA,EAAQG,cAIhBxB,cAAe,SAAS/E,GAChBA,GAAWA,EAAQoB,YACnBpB,EAAQoB,UAAUsE,OAASC,aAAa3F,EAAQoB,UAAUsE,OAE1D1F,EAAQoB,UAAUoF,OAElB1D,IAAO9C,GAASyG,IAAI,eAI5BlB,QAAS,WACL,GAAIpG,KAAKmC,UAAYnC,KAAKmC,SAAS1B,OAAS,EAAG,CAC3C,IAAIe,EAAU,GACV+F,EAAS,oCACbvH,KAAKmC,SAASiB,MAAK,SAAS6D,GAClBA,EAAQlG,WAAWY,IAAMhB,SAAS6G,eAAeP,EAAQlG,WAAWY,MACtEsF,EAAQlG,WAAW0G,aAAa,KAAKF,GAChC5G,SAAS6G,eAAeD,KACzBN,EAAQI,OACR7F,EAAQY,KAAK6E,IAEjBA,EAAQlG,WAAW0G,aAAa,KAAK,UAIzCjG,EAAQf,OAAS,IACjBT,KAAKmC,SAAWnC,KAAKmC,SAASuF,QAAO,SAASC,GAC1C,OAAOnG,EAAQwB,QAAQ2E,W,w+BC9TvCC,KAAO,GA2BX,SAASC,cAAcC,EAAKC,EAAQC,EAAUC,GAC1CjI,KAAK8H,IAAMA,GAAOnH,SAASuH,SAASC,WACpCnI,KAAK+H,OAASA,EACd/H,KAAKoI,QAAUC,aACf,IAAIC,EAAmBtI,KAAKuI,gBAAgBvI,MAC5CA,KAAKoI,QAAQI,mBAAqBF,EAClCtI,KAAKgI,SAAWA,EAChBhI,KAAKyI,OAASR,EACdjI,KAAK0I,aAAe,IAAIC,KA0H5B,SAASC,eAAeC,GACpBC,eAAeD,IAAcA,EAAUE,gBAAgBF,GACvDG,iBAAiBH,GACbI,sDAAOA,4DACPA,4EAA4B,GAE5BtI,SAAS6G,eAAe,+BACxB7G,SAAS6G,eAAe,6BAA6B0B,UAAY,UAmBzE,SAASC,yBAAyBN,GAC9B,IAAIT,EAAUS,EAAUT,QACpBgB,EAASP,EAAUd,OAAO,GAC1BsB,EAASR,EAAUd,OAAO,GAC1BuB,EAAWT,EAAUd,OAAO,GAC5BwB,EAAa5F,8CAAO,IAAMyF,GAAQ,GACtC,GAAIC,EACA1F,8CAAO4F,GAAYC,KAAK,IACxBC,0BAA0BrB,EAASiB,EAAQE,OACxC,CACH,IAAIG,EAAMtB,EAAQuB,aAAaC,OAE/B,GAA4B,IAAxBF,EAAI5D,QAAQ,QAAe,CAC3B,IAAI+D,EAAWH,EAAII,UAAU,EAAGJ,EAAI5D,QAAQ,KAAO,GAC/CiE,EAAOL,EAAII,UAAUJ,EAAI5D,QAAQ,KAAO,EAAG4D,EAAIM,YAAY,OAC3DC,EAAWP,EAAII,UAAUJ,EAAIM,YAAY,OAEzCE,EAAavG,8CAAOkG,EAAWI,GAGnCF,EAAOA,EAAKI,QAAQ,UAAW,cAC/BD,EAAWjJ,KAAKwB,yEAAmBsH,IACnCpG,8CAAO4F,GAAYC,KAAKU,QAExBvG,8CAAO4F,GAAYC,KAAKE,GAGhCU,gBAAgBd,EAAUC,GAa9B,SAASc,0BAA0BxB,GAC/B,IAAIT,EAAUS,EAAUT,QACpBgB,EAASP,EAAUd,OAAO,GAC1BsB,EAASR,EAAUd,OAAO,GAC1BuB,EAAWT,EAAUd,OAAO,GAC5BwB,EAAa5F,8CAAO,IAAMyF,GAAQ,GAClCC,EACAI,0BAA0BrB,EAASiB,EAAQE,GAG3CA,EAAWe,OAAOlC,EAAQuB,aAAc,CAAE5J,SAAU,UAExDqK,gBAAgBd,GAepB,SAASiB,uBAAuB1B,GAC5B,IAAIT,EAAUS,EAAUT,QACpBoC,EAAU3B,EAAUd,OAAO,GAE3BuB,EAAWT,EAAUd,OAAO,GAC5B0C,EAAW9G,8CAAO,IAAM6G,GAAS,GACrC,GAAyB,UAArBC,EAASC,QAAb,CAOA,IAAIC,EAAUC,sEAAa,OAC3BjH,8CAAOgH,GAASnB,KAAKpB,EAAQuB,eAE7BkB,uDAAUF,EAAQG,qBAAqB,SAAS,GAAIL,GAAU,GAAO,GACrEL,gBAAgBd,QAVZyB,MAAM,sEAAwEN,EAASC,SA/P/F9C,KAAKoD,qBACLpD,KAAKqD,WAAa,UAwClBpD,cACKxF,OAAO,oBAAqB,KAAKA,OAAO,kBAAmB,KAAKA,OAAO,2BAA4B,KAAKA,OAAO,YAAa,KAAKA,OAAO,mBAAoB,iBAAiBA,OAAO,gBAAiB,KACrMA,OAAO,gBAAgB,WACpB,OAAO,KAOPC,UAAU,SAAS,WACnB,QAAItC,KAAKoI,UACLpI,KAAKoI,QAAQ8C,KAAK,MAAOlL,KAAK8H,IAAK9H,KAAKyI,OACxCzI,KAAKoI,QAAQ+C,iBAAiB,eAAgB,qCAC9CnL,KAAKoI,QAAQ+C,iBAAiB,oBAAqB,gCACnDnL,KAAKoI,QAAQ+C,iBAAiB,mBAAoB,eAClDnL,KAAKoI,QAAQgD,KAAK,OACX,MAQX9I,UAAU,UAAU,WACpB,QAAItC,KAAKoI,UACDpI,KAAKgI,WAAaH,cAAcwD,UAAUC,mBAC1CtL,KAAKgI,SAAW,MAEpBhI,KAAKoI,QAAQ8C,KAAK,OAAQlL,KAAK8H,IAAK9H,KAAKyI,OACzCzI,KAAKoI,QAAQ+C,iBAAiB,eAAgB,qCAC9CnL,KAAKoI,QAAQ+C,iBAAiB,mBAAoB,eAClDnL,KAAKoI,QAAQgD,KAAKpL,KAAKgI,WAChB,MASX1F,UAAU,mBAAmB,SAAUuG,GACvC,OAAO,WACH,GAAoC,GAAhCA,EAAUT,QAAQmD,WAAiB,CACnC,GAAI3D,KAAKoD,sBAAwBpD,KAAKoD,qBAAuBnC,EAAUH,YAGnE,YADAM,iBAAiBH,GAIrBD,eAAeC,QAOvBvG,UAAU,mBAAmB,SAAUkJ,GACvCxL,KAAKyL,aAAeA,oDACrBnJ,UAAU,sBAAsB,WAE/B,OAAOtC,KAAKoI,QAAQsD,kBAAkB,WAAa1L,KAAK2L,qBAGxDrJ,UAAU,sBAAsB,WAChCtC,KAAK4L,cAAgBtG,OAAOmB,YAAW,WACnCoF,yEAAmBlI,8CAAO,IAAMiE,KAAKqD,YAAY,IAAI,KACtDjL,KAAK8L,kBAGRxJ,UAAU,uBAAuB,WACjCgD,OAAOkB,aAAaxG,KAAK4L,kBAGzBtJ,UAAU,mBAAmB,WAC7B,OAAOyJ,QAAQzG,OAAO0G,0BAkK9B,IAAIC,0BAA4B,SAAUpD,GACtC,IAAIS,EAAWT,EAAUd,OAAO,GAChCpE,8CAAOhD,SAASoJ,MAAMP,KAAKX,EAAUT,QAAQuB,cAC7ChJ,SAASuL,KAAK,cACd9B,gBAAgBd,IAiBhB6C,wBAA0B,SAAUtD,GACpC,IAAIuD,EAAe,KACnB,IACIA,EAAevD,EAAUT,QAAQuB,aAAa0C,WAChD,MAAOC,GAELhH,OAAOiH,SAAWA,QAAQC,IAAIF,GAGlClC,gBADevB,EAAUd,OAAO,GACNqE,IAE9B,SAAS3C,0BAA0BrB,EAASqE,EAAcC,GAMtD,IAAIC,EAAWhJ,8CAAOyE,EAAQuB,cAC1BiD,EAAaD,EAAStM,OAAO,IAAMoM,GAqEvC,GApEqB,SAAjBC,EAAMhC,SAA+D,SAAzC/G,8CAAO,IAAM8I,GAAc,GAAG/B,SAC1DmC,uDAAgBD,EAAYF,GAAO,GAEnC/I,8CAAO+I,GAAOI,OAAOF,EAAWpD,aAiEd,IAAX7F,8CAAgC,CACvC,IAAIoJ,EAAaJ,EAAStM,OAAO,wBAAyB2M,EAAKD,EAAWE,OAAQC,EAAM,GAhE5F,SAASC,IACL,KAAID,GAAOF,GAAX,CAGA,IAAII,EAAYzJ,8CAAOoJ,EAAWM,IAAIH,IAClCE,EAAU9G,KAAK,QACf4G,IAOYI,EANDF,EAAU9G,KAAK,iBAMFiH,EANoBH,EAAU9G,KAAK,OAO3DkH,GADmCC,EANgCN,KAOvC,EAAOO,EAAgB/M,SAASgN,cAAc,UAEzErI,OAAOsI,aACRtI,OAAOsI,WAAa,IAEnBtI,OAAOsI,WAAWN,IAA8B,cAAfA,EAwB3BE,GACPC,KAvBAC,EAAcjG,aAAa,OAAQ,mBAC/BiG,EAAcnC,WAEdmC,EAAclF,mBAAqB,WACE,WAA7BkF,EAAcnC,YAAwD,aAA7BmC,EAAcnC,aACvDmC,EAAclF,mBAAqB,KAC/BgF,GACAC,MAMZC,EAAcG,OAAS,WACfL,GACAC,KAIZC,EAAcI,IAAMP,EACpB5M,SAASmK,qBAAqB,QAAQ,GAAGiD,YAAYL,GACrDpI,OAAOsI,WAAWN,GAAcC,KAjChCL,IAsCR,SAAuBc,EAAcP,GACjC,IAAID,EAAcC,IAAc,EAChC,GAAIO,EAAc,CACd,IAAIC,EAAQD,EAAaE,MAAM,yBAE/B5I,OAAO6I,KAAKF,EAAMrL,KAAK,OACnB4K,GACAC,KA5CJW,CAAchB,EAAU5D,OAAQ2D,IAGxC,IAAoBG,EAAYC,EAAWE,EACnCD,EAAmCE,EAmDvCP,IAGR,SAAS/C,gBAAgBd,SAAU+E,WAC3B/E,WAEoB,iBAAbA,SAAwB6E,KAAK7E,UAAYA,SAAS+E,YAoBjE,SAASC,qBAAqBxG,EAAKhH,GAC/BA,EAAQiI,gBAAkBkD,0BAC1BsC,WAAWzG,EAAKhH,GAuBpB,SAAS0N,oBAAoB1G,IAAKhH,SAC9B,IAAIiI,gBAEAA,gBADAjI,QAAQ2N,MAAQ5G,cAAcwD,UAAUqD,kBACtBrE,0BACXvJ,QAAQ2N,MAAQ5G,cAAcwD,UAAUsD,gBAC7BpE,uBACXzJ,QAAQ2N,MAAQ5G,cAAcwD,UAAUuD,UAC7BzC,wBAEAhD,yBAEtBrI,QAAQiI,gBAAkB,SAAUF,UAAWd,QACvCjH,QAAQ+N,cAC4B,iBAAzB/N,QAAQ+N,cAEfV,KAAKrN,QAAQ+N,eAEb/N,QAAQ+N,cAAc9F,gBAAgBF,UAAWd,SAGrDgB,gBAAgBF,UAAW/H,QAAQiH,SAG3CwG,WAAWzG,IAAKhH,SAqBpB,SAASgO,uBAAuBhH,EAAKhH,GACjCA,EAAQiI,gBAAkB,KAC1BwF,WAAWzG,EAAKhH,GAqBpB,SAASiO,wBAAwBC,EAAMlH,EAAKhH,GACxC,IAAIkH,EAAWiH,YAAYD,EAAM1J,OAAO4J,eACxCpO,EAAQkH,SAAWmH,eAAenH,EAAU1C,OAAO4J,eACnDpO,EAAQiI,gBAAkBkD,0BAC1BsC,WAAWzG,EAAKhH,GAqBpB,SAASsO,wBAAwBJ,EAAMlH,EAAKhH,GACxC,IAAIkH,EAAWiH,YAAYD,EAAMlO,EAAQoO,eACzCpO,EAAQkH,SAAWmH,eAAenH,EAAUlH,EAAQoO,eACpDpO,EAAQiI,gBAAkBI,yBAC1BoF,WAAWzG,EAAKhH,GAEpB,SAASuO,oBACLC,oDAAkBhK,OAAOiK,UAAWjK,OAAOkK,iBAe/C,SAASC,aAyBT,SAASlB,WAAWzG,EAAKhH,GACrB,IACI+H,EAAY,IAAIhB,cAAcC,EAAK,CACnChH,EAAQ4O,aACR5O,EAAQ2L,aACR3L,EAAQwI,SACRxI,EAAQ6O,oBACT7O,EAAQkH,SAAUlH,EAAQmH,cACzB2H,0DAAqC,SAAzB3G,yEACPA,6EACDA,4EAA4B,IAIhCJ,EAAUgH,YAAc/O,EAAQgP,OAChCjH,EAAUkH,aAAejP,EAAQgP,SAAWhP,EAAQkP,WACpDnH,EAAUE,gBAAkBjI,EAAQiI,iBAAmB0G,UACnD5G,EAAUE,iBAAmB0G,WAC7BQ,mBAAmBpH,GAEnB/H,EAAQ2K,eACR5C,EAAU4C,aAAe3K,EAAQ2K,cAEjC5C,EAAUT,UACNtH,EAAQkH,SACRa,EAAUqH,SAEVrH,EAAUsH,SAU1B,SAASrH,eAAeD,GAEpB,OAAOuH,EADqBvH,EAAU4C,cACT5C,EAAUT,SAO3C,SAAS6G,YAAYD,EAAME,GACJ,iBAARF,IACPA,EAAOrO,SAAS0P,MAAMrB,IAG1B,IADA,IAAIsB,EAAO,GACFC,EAAI,EAAGA,EAAIvB,EAAK9L,SAASzC,SAAU8P,EAAG,CAC3C,IAAI1P,EAAUmO,EAAK9L,SAASqN,IACxB1P,EAAQ2P,MAAUtB,GAAiBA,EAAcrO,EAAQ2P,QACzDF,EAAOG,gBAAgBH,EAAMzP,IAGrC,OAAOyP,EAOX,SAASnB,eAAenH,EAAUkH,GAC9B,IAAK,IAAIsB,KAAQtB,EACblH,EAAW0I,gBAAgB1I,EAAUwI,EAAMtB,EAAcsB,IAE7D,OAAOxI,EAOX,SAASyI,gBAAgBH,EAAMzP,GAC3B,GAAIA,EAAQ2P,KAAM,CACd,IAAIhO,EACAsK,GAAS,EACb,OAAQjM,EAAQ8P,MAChB,IAAK,WACL,IAAK,QACD7D,EAASjM,EAAQ+P,QACjBpO,EAAQ3B,EAAQ2B,MAChB,MACJ,IAAK,SACL,IAAK,WACL,IAAK,OACL,IAAK,WACDsK,GAAS,EACTtK,EAAQ3B,EAAQ2B,MAChB,MACJ,IAAK,aACL,IAAK,kBACDA,EAAQ,GACR,IAAK,IAAI+N,EAAI,EAAGA,EAAI1P,EAAQC,QAAQL,SAAU8P,EAAG,CAC7C,IAAIM,EAAShQ,EAAQC,QAAQyP,GACzBM,EAAOC,WACPhE,GAAS,EACTtK,EAAMJ,KAAKyO,EAAOrO,SAK9B,GAAIsK,EACA,GAAItK,EAAMuO,MACN,KAAOvO,EAAM/B,OAAS,GAClB6P,EAAOI,gBAAgBJ,EAAMzP,EAAQ2P,KAAMhO,EAAMuO,cAGrDT,EAAOI,gBAAgBJ,EAAMzP,EAAQ2P,KAAMhO,GAIvD,OAAO8N,EAOX,SAASI,gBAAgBJ,EAAME,EAAMhO,GAKjC,OAJI8N,EAAK7P,OAAS,IACd6P,GAAQ,KAEZA,GAAQE,EAAO,IAAMQ,mBAAmBxO,GAQ5C,IAAIyO,gBAAkB,eAClBC,qBAAuB,qBACvBC,wBAA0B,YAC1BC,yBAA2B,wBAW/B,SAASC,kBACLC,yDACiB3Q,SAAS6G,eAAeyJ,iBAC9BM,MAAMC,QAAU,OAa/B,SAASvB,mBAAmBpH,KACtBjB,KAAK6J,iBACP5I,EAAUgH,aAAelP,SAASoJ,KAAKwH,MAAMG,OAAS,UACrD9B,0DAAY/G,EAAUkH,aAAelH,EAAU8I,qBAOpD,SAAS3I,iBAAiBH,GACtBA,EAAU+I,sBACNhK,KAAK6J,kBAAoB,GACzB9Q,SAASoJ,KAAKwH,MAAMG,OAAS,OAC7B9J,KAAK6J,iBAAmB,EACxB5F,yEAAmBlI,8CAAO,IAAMiE,KAAKqD,YAAY,KAEjDrD,KAAK6J,mBAGb,SAASI,oBAAoBC,GACzB,IAAIC,EAAeD,EAAUpG,kBAAkB,gBAC/C,OAA2B,KAApBoG,EAAUE,QAAiC,MAAhBD,GAAwBA,EAAajM,QAAQ,qBAAuB,EAa1G,SAASuC,aACL,IACID;;;AAkCJ,IAAKA,EAKD,IACIA,EAAU,IAAI6J,eAChB,MAAO3F,GACLvB,MAAM,+KAGd,OAAO3C,EAxFXR,KAAK6J,iBAAmB,EA4FxBnM,OAAOwJ,uBAAyBA,wB,+GC70BhC,SAASoD,EAAeC,EAAcrR,IAC7BqR,GAAgBA,EAAarM,QAAQ,sCAAwC,EAC9E+F,2BAA+BsG,GAE/BtG,oBAAwBsG,GAAc,EAAOrR,GAGrD,SAASsR,EAAiBN,GAEtB,GAAwB,KAApBA,EAAUE,OAEV,OADAE,EAAeJ,EAAUnI,eAClB,EAGX,GADqBmI,EAAUpG,kBAAkB,kBAC7B,CAGhB,OADA/K,SAASuH,SADI,KAEN,EAGX,GADkB4J,EAAUpG,kBAAkB,qBAC7B,CAEb,IADoBoG,EAAUpG,kBAAkB,iBAI5C,GAAiC,GADR/H,IAAO,uBACTlD,OACnBkD,IAAOhD,SAASoJ,MAAMP,KAAKsI,EAAUnI,cACxBhG,IAAO,IAAMsF,SAAS3D,OAAOhF,OAAOK,UAC1CwE,YAAY,UAAUuB,YAG7BwL,EAAeJ,EAAUnI,cAGjC,OAAO,EAEX,OAAO,EAGX,SAAS8B,KACT,SAAS6D,O,0PC9BT+C,EAAUhH,UAAUiH,UAAY,SAASC,GAsBrC,GArBHF,EAAUG,YAAa,EACpBxS,KAAKyS,UAAW,EACXzS,KAAK0S,QACN1S,KAAK0S,MAAQ1S,KAAK2S,gBAElB3S,KAAKc,QAAQ8R,SACb5S,KAAK6S,UAAYnP,SAASoP,QAAQC,SAAS/S,KAAKa,QAAS,YAAc,GACvEb,KAAKa,QAAQ0Q,MAAMxN,OAAS/D,KAAKc,QAAQ8R,QAEzC5S,KAAKc,QAAQkS,WACbhT,KAAKiT,OAASjT,KAAKa,QAAQqS,WAAU,GACrClT,KAAKmT,oBAA4D,YAArCnT,KAAKa,QAAQkS,SAAS,YAC7C/S,KAAKmT,qBACNC,EAASC,WAAWrT,KAAKa,SAE7Bb,KAAKa,QAAQyS,WAAWC,aAAavT,KAAKiT,OAAQjT,KAAKa,SACf,OAApCb,KAAKa,QAAQyS,WAAW5I,SACxB/J,SAASoJ,KAAKgE,YAAY/N,KAAKa,UAInCb,KAAKc,QAAQ0S,cAAe,CAC5BJ,EAASK,UACT,IAAIC,EAAU,CAACC,MAAMC,SAASrB,GAAQoB,MAAME,SAAStB,IACjDxI,EAAOpJ,SAASmK,qBAAqB,QAAQ,GAC7CgJ,EAAK9T,KAAKa,QACdb,KAAKiT,OAASa,EAAGZ,WAAU,GACvBa,EAAUC,QAAQC,KAGlBjU,KAAKiT,OAAOiB,kBACZlU,KAAKiT,OAAOkB,gBAAgBL,EAAGZ,WAAU,KAE7CY,EAAGR,WAAWC,aAAavT,KAAKiT,OAAQa,GACxCA,EAAGnS,GAAK,SAAWmS,EAAGnS,GACtBmS,EAAGzM,OAEH+L,EAASC,WAAWS,GACpBA,EAAGR,WAAWc,YAAYN,GAC1B/J,EAAKgE,YAAY+F,GAEK,OAAlBA,EAAGvC,MAAMhM,OAAqC,OAAnBuO,EAAGvC,MAAM9L,SACpCqO,EAAGvC,MAAMhM,MAAQuN,QAAQuB,SAASrU,KAAKiT,QAAU,KACjDa,EAAGvC,MAAM9L,OAASqN,QAAQwB,UAAUtU,KAAKiT,QAAU,MAIvDjT,KAAKuU,kBAAqBzB,QAAQwB,UAAUtU,KAAKiT,QAAU,EAE3DjT,KAAKwU,KAAKd,GAEVI,EAAGpN,OAGP,GAAI1G,KAAKc,QAAQ2T,OACb,GAAIzU,KAAKc,QAAQ2T,QAAUnP,OAAQ,CAC/B,IAAIoP,EAAQ1U,KAAK2U,iBAAiB3U,KAAKc,QAAQ2T,QAC/CzU,KAAK4U,mBAAqBF,EAAMhQ,KAChC1E,KAAKuU,kBAAoBG,EAAM/P,SAE/B3E,KAAK4U,mBAAqB5U,KAAKc,QAAQ2T,OAAOI,WAC9C7U,KAAKuU,kBAAoBvU,KAAKc,QAAQ2T,OAAOK,UAIrDC,EAAWC,OAAO,UAAWhV,KAAMuS,GAE/BvS,KAAKc,QAAQmU,aAAajV,KAAKc,QAAQmU,YAAYjV,KAAKa,UAIhEwR,EAAUhH,UAAUmJ,KAAO,SAASU,GAChC,IAAIC,EAAM/B,EAASgC,iBAAiBpV,KAAKa,SAEzC,GAAIb,KAAKc,QAAQkS,SAAU,CACvB,IAAIqC,EAAIjC,EAASkC,WAAWtV,KAAKa,SACjCsU,EAAI,IAAME,EAAE,GAAKjC,EAASmC,OAC1BJ,EAAI,IAAME,EAAE,GAAKjC,EAASoC,OAG9B,IAAIC,EAAIzV,KAAK2S,eACbwC,EAAI,IAAMM,EAAE,GACZN,EAAI,IAAMM,EAAE,GAETzV,KAAKc,QAAQ2T,SACZU,EAAI,IAAMnV,KAAKc,QAAQ2T,OAAOI,WAC9BM,EAAI,IAAMnV,KAAKc,QAAQ2T,OAAOK,WAG9B9U,KAAKc,QAAQ2T,QAAWzU,KAAKc,QAAQ2T,QAAUnP,QAAUtF,KAAK0V,iBAC9DP,EAAI,IAAMnV,KAAKc,QAAQ2T,OAAOI,WAAa7U,KAAK4U,mBAChDO,EAAI,IAAMnV,KAAKc,QAAQ2T,OAAOK,UAAY9U,KAAKuU,mBAGnD,IAAIoB,EAAI,CAAC,EAAE,GAAGC,IAAI,SAASrF,GAIvB,OAAQ2E,EAAM3E,GAAK4E,EAAI5E,IAAMvQ,KAAKc,QAAQ+U,aAAgB,EAAK7V,KAAK8V,OAAOvF,KAC7EwF,KAAK/V,OAEHA,KAAKc,QAAQkV,OAETL,EADAM,OAAOC,WAAWlW,KAAKc,QAAQkV,MAC3BhW,KAAKc,QAAQkV,KAAKL,EAAE,GAAIA,EAAE,GAAI3V,MAE9BiW,OAAOtT,QAAQ3C,KAAKc,QAAQkV,MACxBL,EAAEC,IAAI,SAASO,EAAG5F,GAClB,OAAQ4F,EAAInW,KAAKc,QAAQkV,KAAKzF,IAAI6F,QAAUpW,KAAKc,QAAQkV,KAAKzF,IAChEwF,KAAK/V,OAEH2V,EAAEC,IAAI,SAASO,GACf,OAAQA,EAAInW,KAAKc,QAAQkV,MAAMI,QAAUpW,KAAKc,QAAQkV,MACxDD,KAAK/V,QAKfA,KAAKc,QAAQ0S,gBAC4B,YAArCxT,KAAKa,QAAQkS,SAAS,YACtB4C,EAAE,GAAKT,EAAM,GAAKlV,KAAKuU,kBAEvBoB,EAAE,IAAM3V,KAAKuU,mBAAqB,IAI1C,IAAIhD,EAAQvR,KAAKa,QAAQ0Q,MAEnBvR,KAAKc,QAAQuV,YAA2C,cAA3BrW,KAAKc,QAAQuV,aAC5C9E,EAAM7M,KAAOiR,EAAE,GAAK,MAClB3V,KAAKc,QAAQuV,YAA2C,YAA3BrW,KAAKc,QAAQuV,aAC5C9E,EAAM5M,IAAMgR,EAAE,GAAK,MAGC,UAApBpE,EAAM+E,aAAwB/E,EAAM+E,WAAa,KAGzDjE,EAAUhH,UAAUkL,SAAW,SAAShE,GACpC,IAAK0D,OAAOO,YAAYnE,EAAUoE,UAAUzW,KAAKa,YACzCwR,EAAUoE,UAAUzW,KAAKa,YAE5B0R,EAAMmE,SAAmC,GAAxBnE,EAAMmE,QAAQjW,QAAgBkT,MAAMgD,YAAYpE,IAAQ,CAE1E,IACIqE,EADMjD,MAAM9S,QAAQ0R,GACL7H,QAAQmM,cAC3B,GAAgB,SAAZD,GACY,UAAZA,GACY,UAAZA,GACY,UAAZA,GACY,YAAZA,EAAwB,OAE5B,GAAGjT,EAAO3D,KAAKa,SAAST,QAAQ,eAAeK,OAAS,GAAiB,KAAZmW,EACzD,OAGJ,IAAIlD,EAAU,CAACC,MAAMC,SAASrB,GAAQoB,MAAME,SAAStB,IACjD4C,EAAM/B,EAASgC,iBAAiBpV,KAAKa,SACzCb,KAAK8V,OAAS,CAAC,EAAE,GAAGF,KAAI,SAASrF,GAC7B,OAAQmD,EAAQnD,GAAK4E,EAAI5E,MAG7BwE,EAAW+B,SAAS9W,MACpBA,KAAK+W,UAAYhC,EAAWiC,kBAC5BrD,MAAMsD,KAAK1E,GACXvS,KAAKa,QAAQqL,KAAK,iBAAkB,CAACgL,YAAa3E,MAI1D4E,EAAWC,WAAa,SAASlC,EAAOrU,EAASwW,GAG7C,IAAIC,EAAK3T,EAAO0T,EAAKxW,SACjB0W,EAAID,EAAG/R,QACPiS,EAAIF,EAAG7R,SACPgS,EAAKH,EAAGxB,SACR4B,EACGD,EAAG/S,KAAO6S,EADbG,EAEED,EAAG9S,IAAM6S,EAEXG,EAAoBzC,EAAM,GAAKuC,EAAG/S,MAAQwQ,EAAM,GAAKwC,GAAWxC,EAAM,GAAKuC,EAAG9S,KAAOuQ,EAAM,GAAKwC,EAEpG,OAASL,EAAKxW,SAAWA,IAChBA,EAAQyS,aAAe3T,EAAEgB,SAASoJ,QAAYsN,EAAKO,aAAgB5X,KAAK6X,YAAYhX,EAASwW,OAC5FA,EAAKS,QAAYhF,QAAQiF,WAAWlX,GAASmX,QAAO,SAAS7B,GAAK,OAAOkB,EAAKS,OAAO9U,QAAQmT,QAChGwB,GAGXtF,EAAUhH,UAAU4M,WAAa,SAAS1F,EAAO2F,GAM7C,GALH7F,EAAUG,YAAa,EACpBxS,KAAKyS,UAAW,EAEZ0F,SAAQxX,SAASoJ,KAAKqO,YAAc,cAEpCpY,KAAKc,QAAQuX,MAAO,CACpBjF,EAASK,UACT,IAAIC,EAAU,CAACC,MAAMC,SAASrB,GAAQoB,MAAME,SAAStB,IACrD4E,EAAWzQ,KAAKgN,EAAS1T,KAAKa,SAG9Bb,KAAKc,QAAQkS,WACRhT,KAAKmT,sBACNC,EAASkF,WAAWtY,KAAKa,SACc,OAAnCb,KAAKiT,OAAOK,WAAW5I,SACvB1K,KAAKiT,OAAOK,WAAWC,aAAavT,KAAKa,QAASb,KAAKiT,gBAGxDjT,KAAKmT,oBACZL,QAAQyF,OAAOvY,KAAKiT,QACpBjT,KAAKiT,OAAS,MAGlB,IAAIuF,GAAU,EAEVN,KACAM,EAAUrB,EAAWjL,KAAKqG,EAAOvS,KAAKa,YACxB2X,GAAU,IAExBA,GAAWxY,KAAKc,QAAQ2X,WAAWzY,KAAKc,QAAQ2X,UAAUzY,KAAKa,SACnEkU,EAAWC,OAAO,QAAShV,KAAMuS,GAEjC,IAAImG,EAAS1Y,KAAKc,QAAQ4X,OACtBA,GAAUzC,OAAOC,WAAWwC,KAASA,EAASA,EAAO1Y,KAAKa,UAE9D,IAAI4U,EAAIzV,KAAK2S,eACT+F,GAAU1Y,KAAKc,QAAQ6X,aACR,GAAXH,GAA0B,WAAVE,GAChB1Y,KAAKc,QAAQ6X,aAAa3Y,KAAKa,QACvB4U,EAAE,GAAKzV,KAAK0S,MAAM,GAAI+C,EAAE,GAAKzV,KAAK0S,MAAM,IAEpD1S,KAAK0S,MAAQ+C,EAGbzV,KAAKc,QAAQ8R,SACb5S,KAAKa,QAAQ0Q,MAAMxN,OAAS/D,KAAK6S,UAIjC7S,KAAKiT,SAAWjT,KAAKiT,OAAO1B,MAAMxN,OAAS/D,KAAK6S,YAGpD7S,KAAKc,QAAQ8X,WAAa5Y,KAAKc,QAAQ8X,UAAU5Y,KAAKa,SAElDb,KAAKc,QAAQ0S,gBAEkB,MAA3BxT,KAAKa,QAAQyS,aACbR,QAAQzL,KAAKrH,KAAKa,SAClBlB,EAAEgB,SAASoJ,MAAMgE,YAAY/N,KAAKa,UAEtCiS,QAAQyF,OAAOvY,KAAKa,SACpB,IAAIwR,EAAUrS,KAAKiT,OAAQjT,KAAKc,UAGpCiU,EAAW8D,WAAW7Y,MACtBmX,EAAW2B,SAGfC,EAASC,eAAiBD,EAASE,QACnCF,EAASE,QAAU,SAASpY,EAASqY,EAAQC,GACpCtY,EAAQuY,aAAa,WACtBL,EAASC,eAAenY,EAASqY,EAAQC,IAIjDJ,EAASM,oBAAsBN,EAASO,aACxCP,EAASO,aAAe,SAASzY,EAASqY,EAAQC,GACzCtY,EAAQuY,aAAa,WACtBL,EAASM,oBAAoBxY,EAASqY,EAAQC,IAItD,IAAII,EAAmBC,EAAMC,OAAO,CAChCC,WAAY,SAAS7Y,EAAS8Y,GAC1B3Z,KAAKa,QAAUlB,EAAEkB,GACjBb,KAAK2Z,SAAWA,EAChB3Z,KAAK4Z,UAAYb,EAASc,UAAU7Z,KAAKa,UAE7CiZ,QAAS,WACL9Z,KAAK4Z,UAAYb,EAASc,UAAU7Z,KAAKa,UAE7CkZ,MAAO,SAASC,EAAWC,GACvBlB,EAASmB,SACNla,KAAK4Z,WAAab,EAASc,UAAU7Z,KAAKa,UACzCb,KAAK2Z,SAAS3Z,KAAKa,QAASoZ,MAMxClB,EAASoB,+BAAiC,WACtC,OAAOZ,GAIXpC,EAAWzQ,KAAO,SAASwO,EAAOrU,GAC9B,GAAKb,KAAKoa,MAAM3Z,OAAhB,CACA,IAAI4W,EAAMgD,EAAW,GAErBra,KAAKoa,MAAMhX,MAAK,SAASiU,GAClBF,EAAWC,WAAWlC,EAAOrU,EAASwW,MAClCxW,EAAQuY,aAAa,wBAA0BvY,EAAQuY,aAAa,0BAC7C,uBAAnB/B,EAAKxW,QAAQc,IAAkD,wBAAnB0V,EAAKxW,QAAQc,IAI5D0Y,EAASjY,KAAKiV,OAKtBgD,EAAS5Z,OAAS,IAClB4W,EAAOF,EAAWmD,iBAAiBD,IAEnCra,KAAKua,aAAeva,KAAKua,aAAelD,GAC3CrX,KAAK6Y,WAAW7Y,KAAKua,aAElBlD,IACAjE,EAASoH,OAAOnD,EAAKxW,QAASqU,EAAM,GAAIA,EAAM,IAC1CmC,EAAK4B,UAEDpY,EAAQkX,aAAa/U,QAAQ,UAC7BnC,EAAQyX,aACRzX,EAAQkX,aAAa/U,QAAQ,WACrBnC,EAAQkX,aAAa0C,IAAI,8BAAgC5Z,EAAQkX,aAAa/U,QAAQ,kBAAoB,kBAAqB,KAC/HnC,EAAQkX,aAAa0C,IAAI,gCAAkC5Z,EAAQkX,aAAa/U,QAAQ,kBAAoB,kBAAqB,KACzInC,EAAQ0Q,MAAMxR,SAAW,WACzBc,EAAQ0Q,MAAMC,QAAU,eACxB3Q,EAAQ0Q,MAAMhM,MAAQ,GACtB1E,EAAQ0Q,MAAM9L,OAAS,IAG3B4R,EAAK4B,QAAQpY,EAASwW,EAAKxW,QAASuS,EAAS+F,QAAQ9B,EAAK8B,QAAS9B,EAAKxW,WAGxEwW,GAAQrX,KAAKua,aAChBpD,EAAWL,SAASO,M","file":"_chunks/chunk.2705.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    actualX:0,\n    actualY:0,\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            this.actualX = offsets[0];\n            this.actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([tooltipModule.actualX, tooltipModule.actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                tooltipModule.actualX = evt.clientX;\n                tooltipModule.actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.setAttribute(\"id\",null);\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n *  @author: Angus Croll\n * @version: $Id$\n */\n/* global confirm, serverIsNotResponding, alert, extraPostData, ajaxError, ajaxErrorHeader*/\n/**\n *  Generic Ajax Utils\n */\n/**\n * Global Ajax Object\n */\nimport jQuery from 'jquery';\nimport dialogs from '../components/components.dialogs';\nimport {copyTable, copyTableJquery, isIPad, popOverlayObject} from \"../util/utils.common\";\nimport {errorHandler, showMessageDialog} from \"./core.ajax.utils\";\nimport {JRS} from \"../namespace/namespace\";\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport Builder from 'scriptaculous/src/builder';\n\nvar ajax = {};    //cancel all requests sent before this date (in ms)\n//cancel all requests sent before this date (in ms)\najax.cancelRequestsBefore;\najax.LOADING_ID = 'loading';    /**\n *  @class Manages incoming Ajax requests and processes corresponding Ajax responses\n *  based on specified attributes.\n *  Responses are bound to to the instance of AjaxRequester created by the corresponing request\n *\n *  @constructor\n *  @param {String} url address for server request\n *  @param {Array} params [1]fillLocation [2]fromLocation [3]Array of callbacks\n *  @param {String} postData user data for posting - where applicable\n *  @return a new AjaxRequester instance\n *  @type AjaxRequester\n */\n/**\n *  @class Manages incoming Ajax requests and processes corresponding Ajax responses\n *  based on specified attributes.\n *  Responses are bound to to the instance of AjaxRequester created by the corresponing request\n *\n *  @constructor\n *  @param {String} url address for server request\n *  @param {Array} params [1]fillLocation [2]fromLocation [3]Array of callbacks\n *  @param {String} postData user data for posting - where applicable\n *  @return a new AjaxRequester instance\n *  @type AjaxRequester\n */\nfunction AjaxRequester(url, params, postData, synchronous) {\n    this.url = url || document.location.toString();\n    this.params = params;\n    this.xmlhttp = getXMLHTTP();\n    var rsChangeFunction = this.processResponse(this);\n    this.xmlhttp.onreadystatechange = rsChangeFunction;\n    this.postData = postData;\n    this.async = !synchronous;\n    this.requestTime = +new Date();    //(new Date).getTime()\n}    /////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation\n/////////////////////////////////////////////////////////////////////////\n//(new Date).getTime()\n/////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation\n/////////////////////////////////////////////////////////////////////////\nAjaxRequester    //constants for targetted update modes\n    .addVar('CUMULATIVE_UPDATE', 'c').addVar('ROW_COPY_UPDATE', 'r').addVar('TARGETTED_REPLACE_UPDATE', 't').addVar('EVAL_JSON', 'j').addVar('DUMMY_POST_PARAM', 'dummyPostData').addVar('MAX_WAIT_TIME', 2000)    //default function assignment\n    .addVar('errorHandler', function () {\n        return false;\n    })    //the function to validate and report errors\n/**\n     * Submit an ajax get request\n     * @private\n     * @return true if successful\n     * @type boolean\n     */.addMethod('doGet', function () {\n        if (this.xmlhttp) {\n            this.xmlhttp.open('GET', this.url, this.async);\n            this.xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            this.xmlhttp.setRequestHeader('If-Modified-Since', 'Sat, 1 Jan 2000 00:00:00 GMT');\n            this.xmlhttp.setRequestHeader('x-requested-with', 'AJAXRequest');\n            this.xmlhttp.send(null);\n            return true;\n        }\n        return false;\n    })    /**\n     * Submit an ajax post request\n     * @private\n     * @return true if successful\n     * @type boolean\n     */.addMethod('doPost', function () {\n        if (this.xmlhttp) {\n            if (this.postData === AjaxRequester.prototype.DUMMY_POST_PARAM) {\n                this.postData = null;\n            }\n            this.xmlhttp.open('POST', this.url, this.async);\n            this.xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            this.xmlhttp.setRequestHeader('x-requested-with', 'AJAXRequest');\n            this.xmlhttp.send(this.postData);\n            return true;\n        }\n        return false;\n    })    /**\n     * Function to process the detected Ajax response\n     * @param {AjaxRequester} the instance who's request we are processing\n     * @private\n     * @return the handler function\n     * @type function\n     */.addMethod('processResponse', function (requester) {\n        return function () {\n            if (requester.xmlhttp.readyState == 4) {\n                if (ajax.cancelRequestsBefore && ajax.cancelRequestsBefore > requester.requestTime) {\n                //ignore this request\n                    ajaxRequestEnded(requester);\n                    return;\n                }    //if (requester.verifyAjaxResponse()) {\n                //if (requester.verifyAjaxResponse()) {\n                handleResponse(requester);    //}\n            }\n        };\n    })    /**\n     * Set error handler for this requester\n     * @param {function} the error handler function\n     * @private\n     */.addMethod('setErrorHandler', function (setErrorHandler) {\n        this.errorHandler = errorHandler;\n    }).addMethod('verifyAjaxResponse', function () {\n    //prompt if no server\n        return this.xmlhttp.getResponseHeader('Server') || this.confirmContinue();\n    })    /**\n     * Start countdown to \"no response\" message\n     */.addMethod('startResponseTimer', function () {\n        this.responseTimer = window.setTimeout(function () {\n            dialogs.popup.show(jQuery('#' + ajax.LOADING_ID)[0], true);\n        }, this.MAX_WAIT_TIME);\n    })    /**\n     * Cancel countdown to \"no response\" message\n     */.addMethod('cancelResponseTimer', function () {\n        window.clearTimeout(this.responseTimer);\n    })    /**\n     * Cancel countdown to \"no response\" message\n     */.addMethod('confirmContinue', function () {\n        return confirm(window.serverIsNotResponding);\n    });    /////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation; End\n/////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// AjaxRequester: End\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Global Space: Start\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handling\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Delegate to handler for ajax response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n/////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation; End\n/////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// AjaxRequester: End\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Global Space: Start\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handling\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Delegate to handler for ajax response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\nfunction handleResponse(requester) {\n    checkForErrors(requester) || requester.responseHandler(requester);\n    ajaxRequestEnded(requester);\n    if (JRS && JRS.vars) {\n        JRS.vars.ajax_in_progress = false;\n    }\n    if (document.getElementById('mainTableContainerOverlay'))\n        document.getElementById('mainTableContainerOverlay').className = 'hidden';\n}    ///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handlers\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Default handler for responses triggered by targeted ajax requests\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handlers\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Default handler for responses triggered by targeted ajax requests\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction targettedResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var fillId = requester.params[0];\n    var fromId = requester.params[1];\n    var callback = requester.params[2];\n    var toLocation = jQuery('#' + fillId)[0];\n    if (fromId) {\n        jQuery(toLocation).html('');\n        updateUsingResponseSubset(xmlhttp, fromId, toLocation);\n    } else {\n        var res = xmlhttp.responseText.trim();    //dirty solution for old dashboards because we haven't common format pattern for ajax response\n        //dirty solution for old dashboards because we haven't common format pattern for ajax response\n        if (res.indexOf('<div') === 0) {\n            var opentTag = res.substring(0, res.indexOf('>') + 1);\n            var body = res.substring(res.indexOf('>') + 1, res.lastIndexOf('</'));\n            var closeTag = res.substring(res.lastIndexOf('</'));    //we want all the retrieved content - throw it all in\n            //we want all the retrieved content - throw it all in\n            var ajaxBuffer = jQuery(opentTag + closeTag);\n\n            // Escape extra level per JSON being inserted into & read from the page\n            body = body.replace(/&quot;/g, \"&amp;quot;\");\n            ajaxBuffer.text(xssUtil.hardEscape(body));\n            jQuery(toLocation).html(ajaxBuffer);\n        } else {\n            jQuery(toLocation).html(res);\n        }\n    }\n    invokeCallbacks(callback, toLocation);\n}    /**\n * Handler adds new content to existing content in specified container\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n/**\n * Handler adds new content to existing content in specified container\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction cumulativeResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var fillId = requester.params[0];\n    var fromId = requester.params[1];\n    var callback = requester.params[2];\n    var toLocation = jQuery('#' + fillId)[0];\n    if (fromId) {\n        updateUsingResponseSubset(xmlhttp, fromId, toLocation);\n    } else {\n        //we want all the retrieved content - throw it all in\n        toLocation.insert(xmlhttp.responseText, { position: 'after' });    //note this will eval scripts too\n    }\n    invokeCallbacks(callback);\n}    /**\n * Use this handler if the response text represents table rows to add to an existing rows in the specified container\n * (more efficient than appending innerHtml)\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n/**\n * Use this handler if the response text represents table rows to add to an existing rows in the specified container\n * (more efficient than appending innerHtml)\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction rowCopyResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var tableId = requester.params[0];    //var newRowId = params[1]; //not used yet\n    //var newRowId = params[1]; //not used yet\n    var callback = requester.params[2];\n    var theTable = jQuery('#' + tableId)[0];\n    if (theTable.tagName !== 'TABLE') {\n        alert('Ajax Exception: rowCopyResponseHandler will not work for container ' + theTable.tagName);\n        return;\n    }    //put response html into a temp div to form the table\n    //var tempDiv = document.createElement('DIV');\n    //put response html into a temp div to form the table\n    //var tempDiv = document.createElement('DIV');\n    var tempDiv = Builder.node('DIV');\n    jQuery(tempDiv).html(xmlhttp.responseText);    //now copy to existing table body\n    //now copy to existing table body\n    copyTable(tempDiv.getElementsByTagName('table')[0], theTable, false, false);\n    invokeCallbacks(callback);\n}    /**\n * Special handler for when we want to overwrite entire page with response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n// TODO Consider for removal\n/**\n * Special handler for when we want to overwrite entire page with response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n// TODO Consider for removal\nvar clobberingResponseHandler = function (requester) {\n    var callback = requester.params[2];\n    jQuery(document.body).html(requester.xmlhttp.responseText);\n    document.fire('dom:loaded');\n    invokeCallbacks(callback);\n};    /**\n * Handler evals JSOn expression. Does not update markup in anyway\n * For any updates to occur, responseText expression must include an assignment\n * e.g. \"var myProfile = {city: London, age: 39, hobbies: ['waterskiing','chess']}\"\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n/**\n * Handler evals JSOn expression. Does not update markup in anyway\n * For any updates to occur, responseText expression must include an assignment\n * e.g. \"var myProfile = {city: London, age: 39, hobbies: ['waterskiing','chess']}\"\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\nvar evalJSONResponseHandler = function (requester) {\n    var jSONResponse = null;\n    try {\n        jSONResponse = requester.xmlhttp.responseText.evalJSON();\n    } catch (e) {\n        /*eslint-disable-next-line no-console*/\n        window.console && console.log(e);\n    }\n    var callback = requester.params[2];\n    invokeCallbacks(callback, jSONResponse);\n};\nfunction updateUsingResponseSubset(xmlhttp, fromLocation, toLoc) {\n    /**\n\t * This prevents the script tags inside responseText to be executed;\n\t * If we wanted them to be executed, we would have wrapped the responseText with a div like this:\n\t * \t\tvar response = jQuery('<div/>').html(xmlhttp.responseText);\n\t */\n    var response = jQuery(xmlhttp.responseText);\n    var whatWeWant = response.filter('#' + fromLocation);\n    if (toLoc.tagName == 'TABLE' && jQuery('#' + fromLocation)[0].tagName == 'TABLE') {\n        copyTableJquery(whatWeWant, toLoc, true);\n    } else {\n        jQuery(toLoc).append(whatWeWant.html());\n    }\n    function iterate() {\n        if (idx >= sz) {\n            return;\n        }\n        var scriptObj = jQuery(scriptTags.get(idx));\n        if (scriptObj.attr('src')) {\n            idx++;\n            loadScript(scriptObj.attr('data-custname'), scriptObj.attr('src'), iterate);\n        } else {\n            idx++;\n            executeScript(scriptObj.html(), iterate);\n        }\n    }\n    function loadScript(scriptName, scriptUrl, callbackFn) {\n        var gotCallback = callbackFn || false, scriptElement = document.createElement('script');    // prevent the script tag from being created more than once\n        // prevent the script tag from being created more than once\n        if (!window.jr_scripts) {\n            window.jr_scripts = {};\n        }\n        if (!window.jr_scripts[scriptName] && scriptName !== 'jr_jq_min') {\n            // skips jQuery core script\n            scriptElement.setAttribute('type', 'text/javascript');\n            if (scriptElement.readyState) {\n                // for IE\n                scriptElement.onreadystatechange = function () {\n                    if (scriptElement.readyState === 'loaded' || scriptElement.readyState === 'complete') {\n                        scriptElement.onreadystatechange = null;\n                        if (gotCallback) {\n                            callbackFn();\n                        }\n                    }\n                };\n            } else {\n                // for Others - this is not supposed to work on Safari 2\n                scriptElement.onload = function () {\n                    if (gotCallback) {\n                        callbackFn();\n                    }\n                };\n            }\n            scriptElement.src = scriptUrl;\n            document.getElementsByTagName('head')[0].appendChild(scriptElement);\n            window.jr_scripts[scriptName] = scriptUrl;\n        } else if (gotCallback) {\n            callbackFn();\n        }\n    }\n    function executeScript(scriptString, callbackFn) {\n        var gotCallback = callbackFn || false;\n        if (scriptString) {\n            var lines = scriptString.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);\n            /*eslint-disable-next-line no-eval*/\n            window.eval(lines.join('\\n'));\n            if (gotCallback) {\n                callbackFn();\n            }\n        }\n    }    /*\n     * fusioncharts & jasperreports interactive: load JavaScript scripts synchronously\n     */\n    /*\n     * fusioncharts & jasperreports interactive: load JavaScript scripts synchronously\n     */\n    if (typeof jQuery !== 'undefined' && true) {\n        var scriptTags = response.filter('script.jasperreports'), sz = scriptTags.size(), idx = 0;\n        iterate();\n    }\n}\nfunction invokeCallbacks(callback, customArg) {\n    if (callback) {\n        /*eslint-disable-next-line no-eval*/\n        typeof callback === 'string' ? eval(callback) : callback(customArg);\n    }\n}    /////////////////////////////////////////////////////////////////////////////////////////\n// Public API starts Here....\n// Please do not amend exisiting signatures but feel free to extend the API as required\n/////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Send an ajax request with this URL and update the entire page with the response\n * @param {String} url of the request\n */\n// TODO Consider for removal\n/////////////////////////////////////////////////////////////////////////////////////////\n// Public API starts Here....\n// Please do not amend exisiting signatures but feel free to extend the API as required\n/////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Send an ajax request with this URL and update the entire page with the response\n * @param {String} url of the request\n */\n// TODO Consider for removal\nfunction ajaxClobberredUpdate(url, options) {\n    options.responseHandler = clobberingResponseHandler;\n    ajaxUpdate(url, options);\n}    /**\n * Send an ajax request with this URL and update the targetContainer  with the sourceContainer container of the response DOM\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n * @param {String} update mode (default is targetted replace)\n */\n/**\n * Send an ajax request with this URL and update the targetContainer  with the sourceContainer container of the response DOM\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n * @param {String} update mode (default is targetted replace)\n */\nfunction ajaxTargettedUpdate(url, options) {\n    var responseHandler;\n    if (options.mode == AjaxRequester.prototype.CUMULATIVE_UPDATE) {\n        responseHandler = cumulativeResponseHandler;\n    } else if (options.mode == AjaxRequester.prototype.ROW_COPY_UPDATE) {\n        responseHandler = rowCopyResponseHandler;\n    } else if (options.mode == AjaxRequester.prototype.EVAL_JSON) {\n        responseHandler = evalJSONResponseHandler;\n    } else {\n        responseHandler = targettedResponseHandler;\n    }\n    options.responseHandler = function (requester, params) {\n        if (options.preFillAction) {\n            if (typeof options.preFillAction == 'string') {\n                /*eslint-disable-next-line no-eval*/\n                eval(options.preFillAction);\n            } else {\n                options.preFillAction(responseHandler(requester, params));\n            }\n        } else {\n            responseHandler(requester, options.params);\n        }\n    };\n    ajaxUpdate(url, options);\n}    /**\n * Send an ajax request with this URL but don't return any content to the sender\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n */\n/**\n * Send an ajax request with this URL but don't return any content to the sender\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n */\nfunction ajaxNonReturningUpdate(url, options) {\n    options.responseHandler = null;\n    ajaxUpdate(url, options);\n}    /**\n * Submit the form and replace entire page\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\n/**\n * Submit the form and replace entire page\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\nfunction ajaxClobberedFormSubmit(form, url, options) {\n    var postData = getPostData(form, window.extraPostData);\n    options.postData = appendPostData(postData, window.extraPostData);\n    options.responseHandler = clobberingResponseHandler;\n    ajaxUpdate(url, options);\n}    /**\n * Submit the form and update the targetContainer  with the sourceContainer container of the response DOM\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\n/**\n * Submit the form and update the targetContainer  with the sourceContainer container of the response DOM\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\nfunction ajaxTargettedFormSubmit(form, url, options) {\n    var postData = getPostData(form, options.extraPostData);\n    options.postData = appendPostData(postData, options.extraPostData);\n    options.responseHandler = targettedResponseHandler;\n    ajaxUpdate(url, options);\n}\nfunction ajaxErrorHandler() {\n    showMessageDialog(window.ajaxError, window.ajaxErrorHeader);\n}    ////////////////////////////////////////////////////////////////////////////////\n// ...Public API ends Here....\n////////////////////////////////////////////////////////////////////////////////\n/**\n * @private\n */\n//dummy response handler for non returning case\n////////////////////////////////////////////////////////////////////////////////\n// ...Public API ends Here....\n////////////////////////////////////////////////////////////////////////////////\n/**\n * @private\n */\n//dummy response handler for non returning case\nfunction doNothing() {\n}    /**\n * Wrapper for AjaxRequester\n * @private\n * @param {String} url - the url of the request\n * @param {Object} options - an object literal optioanlly defining:\n * @option {function} responseHandler - the designated response handler\n * @option {String} fillLocation - id indicating where in the DOM to dump ajax response\n * @option {String} fromLocation - id indicating which part of the ajax response to use\n * @option {Array} callback - JS functions to evaluate after ajax update\n * @option {function} errorHandler - the designated error handler\n * @option {String} postData - user data for posting - where applicable\n */\n/**\n * Wrapper for AjaxRequester\n * @private\n * @param {String} url - the url of the request\n * @param {Object} options - an object literal optioanlly defining:\n * @option {function} responseHandler - the designated response handler\n * @option {String} fillLocation - id indicating where in the DOM to dump ajax response\n * @option {String} fromLocation - id indicating which part of the ajax response to use\n * @option {Array} callback - JS functions to evaluate after ajax update\n * @option {function} errorHandler - the designated error handler\n * @option {String} postData - user data for posting - where applicable\n */\nfunction ajaxUpdate(url, options) {\n    var ok = true;\n    var requester = new AjaxRequester(url, [\n        options.fillLocation,\n        options.fromLocation,\n        options.callback,\n        options.isAutomaticRefresh\n    ], options.postData, options.synchronous);\n    if (isIPad() && JRS.vars.current_flow == 'adhoc') {\n        if (!JRS.vars.ajax_in_progress) {\n            JRS.vars.ajax_in_progress = true;\n        }\n    }\n    if (ok) {\n        requester.busyCursor = !options.silent;\n        requester.showLoading = !options.silent && !options.hideLoader;\n        requester.responseHandler = options.responseHandler || doNothing;\n        if (requester.responseHandler != doNothing) {\n            ajaxRequestStarted(requester);\n        }\n        if (options.errorHandler) {\n            requester.errorHandler = options.errorHandler;\n        }\n        if (requester.xmlhttp) {\n            if (options.postData) {\n                requester.doPost();\n            } else {\n                requester.doGet();\n            }\n        }\n    }\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction checkForErrors(requester) {\n    var requesterErrorHandler = requester.errorHandler;\n    return requesterErrorHandler(requester.xmlhttp);\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction getPostData(form, extraPostData) {\n    if (typeof form == 'string') {\n        form = document.forms[form];\n    }\n    var data = '';\n    for (var i = 0; i < form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name && !(extraPostData && extraPostData[element.name])) {\n            data = appendFormInput(data, element);\n        }\n    }\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendPostData(postData, extraPostData) {\n    for (var name in extraPostData) {\n        postData = appendFormValue(postData, name, extraPostData[name]);\n    }\n    return postData;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendFormInput(data, element) {\n    if (element.name) {\n        var value;\n        var append = false;\n        switch (element.type) {\n        case 'checkbox':\n        case 'radio':\n            append = element.checked;\n            value = element.value;\n            break;\n        case 'hidden':\n        case 'password':\n        case 'text':\n        case 'Textarea':\n            append = true;\n            value = element.value;\n            break;\n        case 'select-one':\n        case 'select-multiple':\n            value = [];\n            for (var i = 0; i < element.options.length; ++i) {\n                var option = element.options[i];\n                if (option.selected) {\n                    append = true;\n                    value.push(option.value);\n                }\n            }\n            break;\n        }\n        if (append) {\n            if (value.shift) {\n                while (value.length > 0) {\n                    data = appendFormValue(data, element.name, value.shift());\n                }\n            } else {\n                data = appendFormValue(data, element.name, value);\n            }\n        }\n    }\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendFormValue(data, name, value) {\n    if (data.length > 0) {\n        data += '&';\n    }\n    data += name + '=' + encodeURIComponent(value);\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nvar ERROR_POPUP_DIV = 'jsErrorPopup';\nvar ERROR_POPUP_CONTENTS = 'errorPopupContents';\nvar ERROR_POPUP_BACK_BUTTON = 'errorBack';\nvar ERROR_POPUP_CLOSE_BUTTON = 'errorPopupCloseButton';    /**\n * @private\n */\n/**\n * @private\n */ /**\n * @private\n */\n/**\n * @private\n */\nfunction hideErrorPopup() {\n    popOverlayObject();\n    var errorPopup = document.getElementById(ERROR_POPUP_DIV);\n    errorPopup.style.display = 'none';\n}    ////////////////////////////////////////////////////////////////////////////////\n// Request counter\n////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////\n// Request counter\n////////////////////////////////////////////////////////////////////////////////\najax.ajaxRequestCount = 0;    /**\n * @private\n */\n/**\n * @private\n */\nfunction ajaxRequestStarted(requester) {\n    ++ajax.ajaxRequestCount;\n    requester.busyCursor && (document.body.style.cursor = 'wait');\n    !isIPad() && requester.showLoading && requester.startResponseTimer();\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction ajaxRequestEnded(requester) {\n    requester.cancelResponseTimer();\n    if (ajax.ajaxRequestCount <= 1) {\n        document.body.style.cursor = 'auto';\n        ajax.ajaxRequestCount = 0;\n        dialogs.popup.hide(jQuery('#' + ajax.LOADING_ID)[0]);\n    } else {\n        ajax.ajaxRequestCount--;\n    }\n}\nfunction isValidJsonResponse(ajaxAgent) {\n    var responseType = ajaxAgent.getResponseHeader('Content-Type');\n    return ajaxAgent.status == 200 && responseType != null && responseType.indexOf('application/json') >= 0;\n}    ////////////////////////////////////////////////////////////////////////////////\n// XMLHTTP\n////////////////////////////////////////////////////////////////////////////////\n//\n// standard function to obtain an xmlhttp instance regardless of platform\n//\n////////////////////////////////////////////////////////////////////////////////\n// XMLHTTP\n////////////////////////////////////////////////////////////////////////////////\n//\n// standard function to obtain an xmlhttp instance regardless of platform\n//\nfunction getXMLHTTP() {\n    var alerted;\n    var xmlhttp;    /*@cc_on @*/\n    /*@if (@_jscript_version >= 5)\n     // JScript gives us Conditional compilation, we can cope with old IE versions.\n     try {\n     xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\")\n     } catch (e) {\n     try {\n     xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\")\n     } catch (E) {\n     alert(\"You must have Microsofts XML parsers available\")\n     }\n     }\n     @else\n     alert(\"You must have JScript version 5 or above.\")\n     xmlhttp=false\n     alerted=true\n     @end @*/\n    /*@cc_on @*/\n    /*@if (@_jscript_version >= 5)\n     // JScript gives us Conditional compilation, we can cope with old IE versions.\n     try {\n     xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\")\n     } catch (e) {\n     try {\n     xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\")\n     } catch (E) {\n     alert(\"You must have Microsofts XML parsers available\")\n     }\n     }\n     @else\n     alert(\"You must have JScript version 5 or above.\")\n     xmlhttp=false\n     alerted=true\n     @end @*/\n    if (!xmlhttp && !alerted) {\n        // Non ECMAScript Ed. 3 will error here (IE<5 ok), nothing I can\n        // realistically do about it, blame the w3c or ECMA for not\n        // having a working versioning capability in  <SCRIPT> or\n        // ECMAScript.\n        try {\n            xmlhttp = new XMLHttpRequest();\n        } catch (e) {\n            alert('You need a browser which supports an XMLHttpRequest Object.\\nMozilla build 0.9.5 has this Object and IE5 and above, others may do, I don\\'t know, any info jim@jibbering.com');\n        }\n    }\n    return xmlhttp;\n}\n\n//expose to global scope\nwindow.ajaxNonReturningUpdate = ajaxNonReturningUpdate;\n\nexport {\n    ajaxErrorHandler,\n    ajaxClobberredUpdate,\n    isValidJsonResponse,\n    getPostData,\n    checkForErrors,\n    ajaxRequestStarted,\n    ajaxTargettedFormSubmit,\n    ajaxUpdate,\n    evalJSONResponseHandler,\n    rowCopyResponseHandler,\n    cumulativeResponseHandler,\n    updateUsingResponseSubset,\n    targettedResponseHandler,\n    ajaxRequestEnded,\n    handleResponse,\n    invokeCallbacks,\n    getXMLHTTP,\n    ajax,\n    ajaxTargettedUpdate,\n    ajaxNonReturningUpdate,\n    appendPostData,\n    AjaxRequester\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport dialogs from \"../components/components.dialogs\";\nimport {JRS} from \"../namespace/namespace\";\nimport jQuery from 'jquery';\n\nfunction showErrorPopup(errorMessage, options) {\n    if ((errorMessage && errorMessage.indexOf('sessionAttributeMissingException')) > -1) {\n        dialogs.clusterErrorPopup.show(errorMessage);\n    } else {\n        dialogs.errorPopup.show(errorMessage, false, options);\n    }\n}\nfunction baseErrorHandler(ajaxAgent) {\n    //Handling HTTP 500 - Internal server error\n    if (ajaxAgent.status == 500) {\n        showErrorPopup(ajaxAgent.responseText);\n        return true;\n    }\n    var sessionTimeout = ajaxAgent.getResponseHeader('LoginRequested');\n    if (sessionTimeout) {\n        var newloc = '.';\n        document.location = newloc;\n        return true;\n    }\n    var isErrorPage = ajaxAgent.getResponseHeader('JasperServerError');\n    if (isErrorPage) {\n        var suppressError = ajaxAgent.getResponseHeader('SuppressError');\n        if (!suppressError) {\n            // For dashboard frame we should render error message as frame content.\n            var dashboardViewFrame = jQuery('.dashboardViewFrame');\n            if (dashboardViewFrame.length == 1) {\n                jQuery(document.body).html(ajaxAgent.responseText);\n                var iFrame = jQuery('#' + JRS.fid, window.parent.document);\n                iFrame.removeClass('hidden').show();\n            } else {\n                // In other cases we render error message as popup.\n                showErrorPopup(ajaxAgent.responseText);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\nfunction errorHandler() {}\nfunction showMessageDialog() {}\n\nexport {\n    showErrorPopup,\n    baseErrorHandler,\n    errorHandler,\n    showMessageDialog\n}","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}