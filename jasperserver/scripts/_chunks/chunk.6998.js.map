{"version":3,"sources":["webpack://jrs-ui/./src/util/tools.truncator.js","webpack://jrs-ui/./src/core/core.layout.js","webpack://jrs-ui/./src/util/tools.drag.js","webpack://jrs-ui/./src/util/utils.common.enum.js"],"names":["Truncator","Class","initialize","elements","fixedWidth","columnWidth","each","element","this","truncate","bind","nodeName","fullContent","title","replace","parentNode","update","strip","escapeHTML","content","Object","isUndefined","innerText","textContent","insert","template","evaluate","divId","tmpDivId","spanId","tmpSpanId","contentTmp","jQuery","containerWidth","getWidth","remove","truncatedContent","a","b","length","p","substr","isIE","truncateString","ellipsifyString","untruncate","s","full","Template","layoutModule","ELEMENT_CONTEXTMENU","SIZEABLE_PATTERN","SIZER_PATTERN","RESIZE_OVERLAY_PATTERN","MOVEABLE_PATTERN","MOVER_PATTERN","MINIMIZER_PATTERN","MINIMIZED_PATTERN","TRUNCATE_PATTERN","TREE_LEAF_PATTERN","TREE_CONTAINER_PATTERN","TOOLBAR_CAPSULE_PATTERN","NAVIGATION_MUTTON_PATTERN","NAVIGATION_PATTERN","NAVIGATION_HOVER_PATTERN","META_LINKS_PATTERN","BUTTON_SET_BUTTON","TABSET_TAB_PATTERN","BUTTON_PATTERN","PRESSED_PATTERN","SELECTED_PATTERN","LIST_ITEM_PATTERN","LIST_ITEM_WRAP_PATTERN","DISCLOSURE_BUTTON_PATTERN","MENU_LIST_PATTERN","SEPARATOR_PATTERN","MESSAGE_PATTERN","MESSAGE_WARNING_PATTERN","MESSAGE_WARNING_DETAILS_PATTERN","MESSAGE_SUCCESS_PATTERN","DETAILS_PATTERN","COLUMN_NODE_WRAPPER_PATTERN","PAGE_HEADER_TITLE_PATTERN","COLUMN_LEAF_WRAPPER_PATTERN","SEARCH_LOCKUP_PATTERN","DIALOG_PATTERN","DIALOG_LOADING_PATTERN","SWIPE_SCROLL_PATTERN","SCROLL_WRAPPER_PATTERN","ADHOC_MODE_OPTION_CLASS","DRAGGING_CLASS","COPY_CLASS","PRESSED_CLASS","SELECTED_CLASS","DISABLED_CLASS","HOVERED_CLASS","ERROR_CLASS","SUCCESS_CLASS","MESSAGE_CLASS","UP_CLASS","LAST_CLASS","FIRST_CLASS","SCHEDULED_CLASS","FAVORITE_CLASS","MENU_ROOT_CLASS","NODE_CLASS","LEAF_CLASS","ICON_CLASS","OPEN_CLASS","CLOSED_CLASS","LOADING_CLASS","NOTHING_TO_DISPLAY_CLASS","COLLAPSIBLE_CLASS","RESPONSIVE_CLASS","HIDDEN_CLASS","NO_GENERATORS_CLASS","STACKTRACE_CLASS","EMPHASIS_CLASS","ASCENDING_CLASS","DESCENDING_CLASS","CANCELLABLE_CLASS","DROP_TARGET_CLASS","BUTTON_CLASS","ONE_COLUMN_CLASS","CONTROL_PAGE_CLASS","DISABLED_ATTR_NAME","SELECTED_ATTR_NAME","OPEN_ATTR_NAME","CLOSED_ATTR_NAME","READONLY_ATTR_NAME","HORIZONTAL_CENTERING_CLASS","VERTICAL_CENTERING_CLASS","DIMMER_ID","PAGE_BODY_ID","MENU_ID","MAIN_NAVIGATION_ID","MAIN_NAVIGATION_HOME_ITEM_ID","MAIN_NAVIGATION_LIBRARY_ITEM_ID","META_LINK_LOGOUT_ID","MAIN_SEARCH_INPUT_ID","SCROLL_SENSITIVITY","DND_MOVABLE_ZINDEX","DIMMER_Z_INDEX","FOLDERS_RESIZABLE_PANEL_ID","FILTERS_RESIZABLE_PANEL_ID","PROPERTIES_RESIZABLE_PANEL_ID","FIELDS_RESIZABLE_PANEL_ID","FOLDERS_RESIZABLE_PANEL_COOKIE_NAME","FOLDERS_MINIMIZED_PANEL_COOKIE_NAME","FILTERS_RESIZABLE_PANEL_COOKIE_NAME","FILTERS_MINIMIZED_PANEL_COOKIE_NAME","PROPERTIES_RESIZABLE_PANEL_COOKIE_NAME","PROPERTIES_MINIMIZED_PANEL_COOKIE_NAME","FIELDS_RESIZABLE_PANEL_COOKIE_NAME","FIELDS_MINIMIZED_PANEL_COOKIE_NAME","PANEL_WIDTH","MINIMIZED","PANEL_STATE_CHANGED_MANUALLY","ADHOC_COMPONENT","scrolls","$H","container","document","body","find","isIE7","fixIE7Sizes","select","createSizer","createMover","elem","fn","parseFunc","centerElement","horz","match","vert","style","zIndex","append","window","resize","resizeTo","clearTimeout","setTimeout","trigger","updateOnOrientation","isVisible","hasClass","createScroller","scrollContainer","options","identify","existingScroll","get","destroy","disableTransformFor","startsWith","push","extend","hideScrollbar","useTransform","include","bounce","scroll","iScroll","set","sizeable","sizer","children","matchMeOrUp","sizerType","getSizerType","sizerAlign","alignmentModule","getSizerAlignment","dragger","Draggable","resizeablePanel","primaryPanel","siblings","fillerPattern","filler","sizerMousedownCallback","evt","pointerX","pageX","pointerY","pageY","observe","e","originalEvent","background","alignment","constraint","onStart","beginSizerDragging","onDrag","isIPad","doNothing","respondToDrag","onEnd","endSizerDragging","alignments","alignmentIndexes","dimensions","result","alignmentIndex","alignmentStyles","alignmentOffsets","map","al","parseInt","css","isNaN","event","parentOffset","getStyle","offsetUnit","addClass","removeClass","fire","targetEvent","resizeOnDrag","orientation","dragData","axis","myAlignments","dimension","sizeProperty","pointerName","sizeableAnchorage","changedTouches","dragDelta","resizePanelsOnDrag","sizeTracker","getSizeTracker","checkpoint","minWidth","panelSize","getDimensionInPx","isInBounds","setStyle","localStorage","setItem","changed","actualSize","getActualDimension","currentStyle","defaultView","getComputedStyle","substring","indexOf","primaryOffset","newOffset","primaryMinMeasurement","sizeableAnchorageMeasurement","avaliableParentMeasurement","pimaryPanelMarginMeasurement","outerDimentionFunc","primaryPanelParent","parent","dimention","charAt","toUpperCase","call","panels","not","isTemplatable","width","height","lastSize","size","movable","mover","down","Math","max","useJQueryForDraggable","draggable","handle","containment","zindex","maximize","noEffects","toMaximize","up","id","minimize","getElementById","ppOffset","aligments","offsets","thisAlignment","getItem","show","hide","type","toMinimize","eq","vTitle","headerText","html","w","text","appendTo","on","preventDefault","isIE8","isIE9","top","left","resizeOnClient","leftPanelID","mainPanelID","rightPanelID","jMainPanelElement","diff","i","v","isLeft","jo","minimized","offset","abs","panel","is","autoMaximize","autoMinimize","immediateDescendants","child","clientWidth","offsetWidth","storePanelWidth","panelName","getPanelWidth","undefined","getPanelMinimizedState","storePanelMinimizedState","value","toString","manuallyChangePanelState","clientKey","panelStateWasManuallyChanged","DragListener","agents","currentAgentName","Dragger","draggingObjs","dragsX","dragsY","sigMove","dragListener","cleanUpUtil","originalX","originalY","mouseX","clientX","mouseY","clientY","isDragging","initDragger","DRAGGING_STARTED","DRAGGING_FINISHED","DRAGGING","prototype","registerAgent","agentName","publishEvent","action","notify","dragListenerEvent","browserEvent","currentAgent","thisAction","setCurrentAgentName","getCurrentAgentName","addAnotherDraggingObject","draggingObj","onmousemove","dragging","onmouseup","draggingFinished","invokeDraggingFinished","movedSignificantly","xDiff","yDiff","display","j","k","l","m","clearDraggingObjects","thisOne","removeChild"],"mappings":"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","file":"_chunks/chunk.6998.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @author: stas.chubar\n * @version: $Id$\n */\n/*\n * Truncator is based on Abbreviator jQuery Plugin\n *\n * Abbreviator Homepage: http://bentlegen.github.com/abbreviator\n * Abbreviator is hosted on GitHub: http://github.com/bentlegen/abbreviator/tree/master\n * Abbreviator Author: Ben Vinegar (http://www.benlog.org)\n * Abbreviator is distributed under the MIT License: http://www.opensource.org/licenses/mit-license.php\n */\n/**\n * Truncator Prototype Plugin (Prototype >= 1.6.0.3)\n *\n * Truncator can be applied to elements only with text\n * Usage:\n *      new Truncator($$('selector')); - truncate array of elements\n *      new Truncator().truncate($('id')); - truncate one element\n *      new Truncator().truncate($$('selector'),100); - truncate array to 100px  (Angus added)\n *      new Truncator().untruncate($$('selector')); - untruncate array of elements\n */\n\nimport {Class, Template} from 'prototype';\nimport jQuery from 'jquery';\nimport {\n    isIE\n} from '../util/utils.common';\n\nvar Truncator = Class.create({\n    initialize: function (elements, fixedWidth) {\n        if (!elements || !elements[0])\n            return;\n        var columnWidth = null;\n        if (fixedWidth) {\n            columnWidth = fixedWidth;\n        }\n        /*\n          Note: commenting this out cause it is causing an error.\n          getMarginLeft, getMarginRight, getPaddingLeft and getPaddingRight where part of the old search layout..\n          will send an email out on this...\n        */\n        //            var parent = $(elements[0].parentNode);\n        //            var columnWidth = parent.getWidth() - parent.getMarginLeft() - parent.getMarginRight() - parent.getPaddingLeft() - parent.getPaddingRight();\n        //            var columnWidth = parent.getWidth() - getBufferWidth(parent, true);\n        elements.each(function (element) {\n            this.truncate(element, columnWidth);\n        }.bind(this));\n    },\n    truncate: function (element, columnWidth) {\n        if (element.nodeName == 'ABBR') {\n            var fullContent = element.title.replace('&quot;', '\"');\n            element = element.parentNode;\n            element.update(fullContent.strip().escapeHTML());\n        }    //var content = element.innerHTML;\n        //var content = element.innerHTML;\n        var content = Object.isUndefined(element.innerText) ? element.textContent : element.innerText;\n        element.insert(Truncator.template.evaluate({\n            divId: Truncator.tmpDivId,\n            spanId: Truncator.tmpSpanId\n        }));\n        var contentTmp = jQuery('#' + Truncator.tmpSpanId)[0];\n        contentTmp.insert(content.escapeHTML());\n        var containerWidth = columnWidth ? columnWidth : element.getWidth();\n        var contentWidth = contentTmp.getWidth();\n        if (contentWidth <= containerWidth) {\n            jQuery('#' + Truncator.tmpDivId)[0].remove();\n            return;\n        }    //        var coverage = containerWidth / contentWidth;\n        //        var l = content.length;\n        //\n        //        var truncatedContent = content.substr(0, parseInt(l * coverage));\n        //\n        //        while (contentWidth >= containerWidth) {\n        //            if (isIE()) {\n        //                contentTmp.innerText = this.ellipsifyString(truncatedContent);\n        //            } else {\n        //                contentTmp.update(this.ellipsifyString(truncatedContent));\n        //            }\n        //            contentWidth = (contentTmp.getWidth() < 0) ? 0 : contentTmp.getWidth();\n        //\n        //            truncatedContent = truncatedContent.substring(0, truncatedContent.length - 1);\n        //\n        //            if (truncatedContent.length == 0) {\n        //                break;\n        //            }\n        //        }\n        //        var coverage = containerWidth / contentWidth;\n        //        var l = content.length;\n        //\n        //        var truncatedContent = content.substr(0, parseInt(l * coverage));\n        //\n        //        while (contentWidth >= containerWidth) {\n        //            if (isIE()) {\n        //                contentTmp.innerText = this.ellipsifyString(truncatedContent);\n        //            } else {\n        //                contentTmp.update(this.ellipsifyString(truncatedContent));\n        //            }\n        //            contentWidth = (contentTmp.getWidth() < 0) ? 0 : contentTmp.getWidth();\n        //\n        //            truncatedContent = truncatedContent.substring(0, truncatedContent.length - 1);\n        //\n        //            if (truncatedContent.length == 0) {\n        //                break;\n        //            }\n        //        }\n        var truncatedContent = content;\n        var a = 0;\n        var b = content.length;\n        var p = (b - a) / 2;\n        while (p > 1) {\n            p += a;\n            truncatedContent = content.substr(0, p);\n            if (isIE()) {\n                contentTmp.innerText = truncatedContent;\n            } else {\n                contentTmp.update(truncatedContent.escapeHTML());\n            }\n            if (contentTmp.getWidth() + 30 > containerWidth) {\n                b = p;\n            } else {\n                a = p;\n            }\n            p = (b - a) / 2;\n        }\n        jQuery('#' + Truncator.tmpDivId)[0].remove();\n        element.update(this.truncateString(this.ellipsifyString(truncatedContent.escapeHTML()), content.escapeHTML().replace('\"', '&quot;')));\n    },\n    untruncate: function (elements) {\n        elements.each(function (element) {\n            if (element.nodeName == 'ABBR') {\n                element.update(element.title.strip().escapeHTML());\n            }\n        });\n    },\n    ellipsifyString: function (s) {\n        return s + '&hellip;';\n    },\n    truncateString: function (s, full) {\n        return '<abbr title=\"' + full + '\">' + s + '</abbr>';\n    }\n});\nTruncator.tmpDivId = 'truncator-tmp-div';\nTruncator.tmpSpanId = 'truncator-tmp-span';\nTruncator.template = new Template('    <div id=\"#{divId}\" style=\"width:9999px; left:-9999px; top:-9999px; display:block; position: absolute\">        <span id=\"#{spanId}\"></span>    </div>');\n\nexport default Truncator;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @author: Angus Croll\n * @version: $Id$\n */\nimport {Draggable} from 'dragdropextra';\nimport {$H} from 'prototype';\nimport {\n    isIE7,\n    parseFunc,\n    centerElement,\n    matchMeOrUp,\n    isIPad,\n    doNothing,\n    getDimensionInPx,\n    getActualDimension,\n    isIE8,\n    isIE9\n} from '../util/utils.common';\nimport Truncator from '../util/tools.truncator';\n\nimport {iScroll} from 'iscroll';\nimport Effect from 'scriptaculous/src/effects';\nimport jQuery from 'jquery';\n\nimport 'jquery-ui/ui/widgets/draggable';\n\nvar layoutModule = {\n    ELEMENT_CONTEXTMENU: 'element:contextmenu',\n    //predefine CSS patterns for element sifting\n    SIZEABLE_PATTERN: '.sizeable',\n    SIZER_PATTERN: '.sizer',\n    RESIZE_OVERLAY_PATTERN: '.resizeOverlay',\n    MOVEABLE_PATTERN: '.moveable',\n    MOVER_PATTERN: '.mover',\n    MINIMIZER_PATTERN: '.maximized .minimize',\n    MINIMIZED_PATTERN: '.minimized .minimize',\n    TRUNCATE_PATTERN: '.trunc',\n    TREE_LEAF_PATTERN: 'a.>node',\n    TREE_CONTAINER_PATTERN: '.collapsible',\n    TOOLBAR_CAPSULE_PATTERN: '#toolbar .capsule',\n    NAVIGATION_MUTTON_PATTERN: 'li.mutton',\n    NAVIGATION_PATTERN: '#navigationOptions li',\n    NAVIGATION_HOVER_PATTERN: '#navigationOptions li.over',\n    META_LINKS_PATTERN: '#metaLinks #main_logOut_link',\n    BUTTON_SET_BUTTON: '.buttonSet > *',\n    TABSET_TAB_PATTERN: '.tab',\n    // This class is given to both actual button elements, and instances of\n    // other element types that should be handled by the buttonManager.\n    BUTTON_PATTERN: '.button',\n    PRESSED_PATTERN: '.pressed',\n    SELECTED_PATTERN: '.selected',\n    LIST_ITEM_PATTERN: '.list.responsive > li',\n    LIST_ITEM_WRAP_PATTERN: '.wrap',\n    DISCLOSURE_BUTTON_PATTERN: '.disclosure',\n    // Entries in menu bars, popup menus, dropdown menus, and context menus.\n    MENU_LIST_PATTERN: '#menu li',\n    // Visual separators in menus that aren't focusable or cursorable.\n    SEPARATOR_PATTERN: '.separator',\n    MESSAGE_PATTERN: '.message',\n    MESSAGE_WARNING_PATTERN: '.message.warning',\n    MESSAGE_WARNING_DETAILS_PATTERN: '.details',\n    MESSAGE_SUCCESS_PATTERN: '.message.success',\n    DETAILS_PATTERN: '.details',\n    COLUMN_NODE_WRAPPER_PATTERN: '.node > .wrap > .column',\n    PAGE_HEADER_TITLE_PATTERN: '.pageHeader > .pageHeader-title > .pageHeader-title-text',\n    COLUMN_LEAF_WRAPPER_PATTERN: '.leaf > .wrap > .column',\n    SEARCH_LOCKUP_PATTERN: '.searchLockup',\n    DIALOG_PATTERN: '.dialog',\n    DIALOG_LOADING_PATTERN: '.dialog.loading',\n    SWIPE_SCROLL_PATTERN: '.swipeScroll',\n    SCROLL_WRAPPER_PATTERN: '.scrollWrapper',\n    //classes\n    ADHOC_MODE_OPTION_CLASS: 'tab mode horizontal',\n    //not used?\n    DRAGGING_CLASS: 'dragging',\n    COPY_CLASS: 'copy',\n    PRESSED_CLASS: 'pressed',\n    SELECTED_CLASS: 'selected',\n    DISABLED_CLASS: 'disabled',\n    // The button manager adds this class when a mouseover event occurs, and\n    // removes it when a mouseout event occurs. Keyboard, touch, and automation\n    // navigation should manage it as well.\n    HOVERED_CLASS: 'over',\n    ERROR_CLASS: 'error',\n    SUCCESS_CLASS: 'error',\n    MESSAGE_CLASS: 'error',\n    UP_CLASS: 'up',\n    LAST_CLASS: 'last',\n    FIRST_CLASS: 'first',\n    SCHEDULED_CLASS: 'scheduled',\n    FAVORITE_CLASS: 'favorite',\n    // The main menu bar, and any other menu bars.  Not used for context menus.\n    MENU_ROOT_CLASS: 'menuRoot',\n    // Multi-purpose:\n    //    For menus: a menu entry that has a drop-down or pop-out menu.\n    //               Not used for context menus.\n    NODE_CLASS: 'node',\n    // Multi-purpose:\n    //    For menus: a menu entry that has no drop-down or pop-out menus.\n    //               Normally triggerable by clicking, touching, or pressing\n    //               ENTER.\n    LEAF_CLASS: 'leaf',\n    ICON_CLASS: 'icon',\n    // Node elements such as folders in tree views and list items with subitems\n    // should have this class when open.\n    OPEN_CLASS: 'open',\n    // Node elements such as folders in tree views and list items with subitems\n    // should have this class when closed.\n    CLOSED_CLASS: 'closed',\n    LOADING_CLASS: 'loading',\n    NOTHING_TO_DISPLAY_CLASS: 'nothingToDisplay',\n    COLLAPSIBLE_CLASS: 'collapsible',\n    RESPONSIVE_CLASS: 'responsive',\n    HIDDEN_CLASS: 'hidden',\n    NO_GENERATORS_CLASS: 'noGenerators',\n    STACKTRACE_CLASS: 'stacktrace',\n    EMPHASIS_CLASS: 'emphasis',\n    ASCENDING_CLASS: 'ascending',\n    DESCENDING_CLASS: 'descending',\n    CANCELLABLE_CLASS: 'cancellable',\n    DROP_TARGET_CLASS: 'dropTarget',\n    BUTTON_CLASS: 'button',\n    ONE_COLUMN_CLASS: 'oneColumn',\n    CONTROL_PAGE_CLASS: 'controlPage',\n    //attributes\n    DISABLED_ATTR_NAME: 'disabled',\n    SELECTED_ATTR_NAME: 'selected',\n    OPEN_ATTR_NAME: 'open',\n    CLOSED_ATTR_NAME: 'closed',\n    READONLY_ATTR_NAME: 'readonly',\n    HORIZONTAL_CENTERING_CLASS: \"centered_horz\",\n    VERTICAL_CENTERING_CLASS: \"centered_vert\",\n    // Predefined DOM elements IDs.\n    // ----------------------------\n    DIMMER_ID: 'pageDimmer',\n    PAGE_BODY_ID: 'display',\n    // ID of the multipurpose dropdown/popup/context menu.\n    MENU_ID: 'menu',\n    // IDs of the actual main menu bar and its entries.\n    MAIN_NAVIGATION_ID: \"mainNavigation\",\n    MAIN_NAVIGATION_HOME_ITEM_ID: \"main_home\",\n    MAIN_NAVIGATION_LIBRARY_ITEM_ID: \"main_library\",\n    META_LINK_LOGOUT_ID : \"main_logOut_link\",\n    // ID of the global search input\n    MAIN_SEARCH_INPUT_ID: \"searchInput\",\n\n\n    // DnD\n    SCROLL_SENSITIVITY: 50,\n    DND_MOVABLE_ZINDEX: 2000,\n    //dimmer\n    DIMMER_Z_INDEX: 4000,\n    //Resizable folders/filters/properties/fields panels\n    FOLDERS_RESIZABLE_PANEL_ID: 'folders',\n    FILTERS_RESIZABLE_PANEL_ID: 'filters',\n    PROPERTIES_RESIZABLE_PANEL_ID: 'properties',\n    FIELDS_RESIZABLE_PANEL_ID: 'fields',\n\n    FOLDERS_RESIZABLE_PANEL_COOKIE_NAME: 'foldersPanelWidth',\n    FOLDERS_MINIMIZED_PANEL_COOKIE_NAME: 'foldersMinimized',\n\n    FILTERS_RESIZABLE_PANEL_COOKIE_NAME: 'filtersPanelWidth',\n    FILTERS_MINIMIZED_PANEL_COOKIE_NAME: 'filtersMinimized',\n\n    PROPERTIES_RESIZABLE_PANEL_COOKIE_NAME: 'propertiesPanelWidth',\n    PROPERTIES_MINIMIZED_PANEL_COOKIE_NAME: 'propertiesMinimized',\n\n    FIELDS_RESIZABLE_PANEL_COOKIE_NAME: 'fieldsPanelWidth',\n    FIELDS_MINIMIZED_PANEL_COOKIE_NAME: 'fieldsMinimized',\n\n    PANEL_WIDTH: 'PanelWidth',\n    MINIMIZED: 'Minimized',\n    PANEL_STATE_CHANGED_MANUALLY: 'PSCM',\n    ADHOC_COMPONENT: 'adhocComponent',\n\n    // swipe scroll\n    scrolls: $H(),\n\n    //////////////////////////////////////////////////////////////////////\n    // Initialize: Programmatically modifies the DOM objects upfront\n    //////////////////////////////////////////////////////////////////////\n    initialize: function (container) {\n        container = jQuery('#' + container)[0] || jQuery(document.body)[0];    //truncate matching patterns\n        //truncate matching patterns\n        new Truncator(jQuery(container).find(layoutModule.TRUNCATE_PATTERN));    //IE7 needs explicit style set (no sensible alternative to browser sniffing here)\n        //IE7 needs explicit style set (no sensible alternative to browser sniffing here)\n        isIE7() && this.fixIE7Sizes();\n        container.select(this.SIZEABLE_PATTERN).each(this.createSizer.bind(this));    //init moveables (note: DOM elements created after page load will need to be initialized for move after creation)\n        //init moveables (note: DOM elements created after page load will need to be initialized for move after creation)\n        container.select(this.MOVEABLE_PATTERN).each(this.createMover.bind(this));    //elements for centering (note: DOM elements created after page load will need to be initialized for center after creation)\n        //elements for centering (note: DOM elements created after page load will need to be initialized for center after creation)\n        container.select('.centered_horz,.centered_vert').each(function (elem) {\n            var fn = parseFunc(elem, 'centered_fn_');\n            fn || (fn = centerElement);\n\n            fn(elem, {\n                horz: elem.match('.centered_horz'),\n                vert: elem.match('.centered_vert')\n            });\n        });    //page dimmer init\n        //page dimmer init\n        if (jQuery('#' + layoutModule.DIMMER_ID)[0] != null) {\n            jQuery('#' + layoutModule.DIMMER_ID)[0].style.zIndex = layoutModule.DIMMER_Z_INDEX;\n        }    // in case of ajaxClobberedUpdate we have to reinitialize datepicker\n        // in case of ajaxClobberedUpdate we have to reinitialize datepicker\n        if (jQuery.datepicker && jQuery.datepicker.initialized)\n            jQuery.datepicker.initialized = false;    //make sure ajaxbuffer is available (for dynamicTree)\n        //make sure ajaxbuffer is available (for dynamicTree)\n        jQuery(function () {\n            if (jQuery('#ajaxbuffer').length === 0) {\n                jQuery('body').append(jQuery('<div id=\"ajaxbuffer\" style=\"display:none\"></div>'));\n            }\n        });\n        jQuery(window).resize(function () {\n            if (this.resizeTo)\n                clearTimeout(this.resizeTo);\n            this.resizeTo = setTimeout(function () {\n                jQuery(this).trigger('resizeEnd');\n            }, 500);\n        });\n    },\n    updateOnOrientation: function () {\n    },\n    //////////////////////////////////////////////////////////////////////\n    // visibility\n    //////////////////////////////////////////////////////////////////////\n    isVisible: function (element) {\n        return element && !jQuery(element).hasClass(layoutModule.HIDDEN_CLASS);\n    },\n\n    //////////////////////////////////////////////////////////////////////\n    // panel scrolling\n    //////////////////////////////////////////////////////////////////////\n    createScroller: function (scrollContainer, options) {\n        if (scrollContainer) {\n            scrollContainer = scrollContainer.identify ? scrollContainer : jQuery('#' + scrollContainer)[0];\n            var existingScroll = layoutModule.scrolls.get(scrollContainer.identify());\n            existingScroll && existingScroll.destroy();\n            var disableTransformFor = [\n                'mainTableContainer',\n                'resultsContainer',\n                'filtersPanel',\n                'foldersPodContent'\n            ];\n            scrollContainer.identify().startsWith('iframeScroll_') && disableTransformFor.push(scrollContainer.identify());\n            options = Object.extend({\n                hideScrollbar: false,\n                useTransform: !disableTransformFor.include(scrollContainer.identify()),\n                bounce: ['resultsContainer'].include(scrollContainer.identify())    //checkDOMChanges: true\n            }, options || {});\n            var scroll = new iScroll(scrollContainer, options);\n            layoutModule.scrolls.set(scrollContainer.identify(), scroll);\n\n            return scroll;\n        }\n\n        return null;\n    },\n\n    //////////////////////////////////////////////////////////////////////\n    // panel resizing\n    //////////////////////////////////////////////////////////////////////\n    createSizer: function (sizeable, options) {\n        sizeable = jQuery(sizeable)[0];    // Prototype and jQuery compatibilu\n        //sizeable is the element we will resize\n        //sizer is the handle we drag to resize it\n        // Prototype and jQuery compatibilu\n        //sizeable is the element we will resize\n        //sizer is the handle we drag to resize it\n        var sizer = options && options.sizer ? jQuery('#' + options.sizer)[0] : jQuery(sizeable).children(this.SIZER_PATTERN)[0];    //get first descendant with class sizer\n        //get first descendant with class sizer\n        if (!sizer || matchMeOrUp(sizeable, '.' + layoutModule.HIDDEN_CLASS)) {\n            return;\n        }\n        var sizerType = this.getSizerType(sizer);\n        var sizerAlign = this.alignmentModule.getSizerAlignment(sizer, sizerType);\n\n        var dragger = new Draggable(sizer);\n        dragger.resizeablePanel = sizeable;\n        dragger.primaryPanel = sizeable.siblings().find(function (s) {\n            return s.match && s.match('.primary');\n        });\n\n        if (options && options.fillerPattern) {\n            dragger.filler = jQuery(jQuery(sizeable).find(options.fillerPattern)[0]);\n        }\n        var sizerMousedownCallback = function () {\n            return function (evt) {\n                //set co-ords now - if we wait until drag start it is too late - mouse already moved a bit\n                dragger.pointerX = evt.pageX;\n                dragger.pointerY = evt.pageY;\n            };\n        }();    //have to observer at this level - otherwise draggable has already swallowed up event\n        //have to observer at this level - otherwise draggable has already swallowed up event\n        sizer.observe('mousedown', sizerMousedownCallback);\n        jQuery(sizer).bind({\n            'touchstart': function (e) {\n                sizerMousedownCallback(e.originalEvent);\n                this.style.background = '#666';\n                this.style.zIndex = 9;\n            },\n            'touchend': function () {\n                this.style.background = 'transparent';\n            }\n        });\n        dragger.sizerType = sizerType;\n        dragger.alignment = sizerAlign;\n        dragger.options = {\n            constraint: sizerType === 'diagonal' ? '' : sizerType,\n            onStart: layoutModule.beginSizerDragging.bind(layoutModule),\n            onDrag: !isIPad() ? layoutModule.respondToDrag.bind(layoutModule) : doNothing,\n            onEnd: layoutModule.endSizerDragging.bind(layoutModule)\n        };\n    },\n    getSizerType: function (sizer) {\n        return sizer.match('.horizontal') && 'horizontal' || sizer.match('.vertical') && 'vertical' || sizer.match('.diagonal') && 'diagonal';\n    },\n    alignmentModule: {\n        alignments: [\n            [\n                'left',\n                'right'\n            ],\n            [\n                'top',\n                'bottom'\n            ]\n        ],\n        alignmentIndexes: {\n            'horizontal': 0,\n            'vertical': 1\n        },\n        dimensions: [\n            'width',\n            'height'\n        ],\n        /**\n         * which edge(s) of the sizeable object is the sizer aligned with\n         * @param {Object} sizer\n         * @param {Object} sizerType\n         * @return (Array) ['left', 'right' or '']['top', 'bottom' or '']\n         */\n        getSizerAlignment: function (sizer, sizerType) {\n            var result = [\n                '',\n                ''\n            ];\n            if (sizerType === 'diagonal') {\n                //diagonals sizer always the same alignment\n                return [\n                    'right',\n                    'bottom'\n                ];\n            }\n            var alignmentIndex = this.alignmentIndexes[sizerType];    //0 or 1\n            //0 or 1\n            var alignmentStyles = this.alignments[alignmentIndex];    //['left','right'] or ['top','bottom']\n            //['left','right'] or ['top','bottom']\n            var alignmentOffsets = [\n                0,\n                1\n            ].map(function (al) {\n                return parseInt(jQuery(sizer).css(alignmentStyles[al]));\n            });    //calculate sizer anchorage by testing which offset is smaller (NaN mean not anchored - therefore not aligned)\n            //calculate sizer anchorage by testing which offset is smaller (NaN mean not anchored - therefore not aligned)\n            var alignment = isNaN(alignmentOffsets[0]) || alignmentOffsets[0] > alignmentOffsets[1] ? alignmentStyles[1] : alignmentStyles[0];    //now set the appropriate element\n            //now set the appropriate element\n            result[alignmentIndex] = alignment;    //e.g. for horizontal: ['right',''];\n            //e.g. for horizontal: ['right',''];\n            return result;\n        }\n    },\n    beginSizerDragging: function (dragger, event) {\n        var sizer = dragger.element;\n        dragger.parentOffset = [\n            sizer.getStyle(dragger.alignment[0]),\n            sizer.getStyle(dragger.alignment[1])\n        ];\n        dragger.offsetUnit = 'px';    //TODO: fix me\n        //TODO: fix me\n        dragger.pointerX = dragger.pointerX || event.pageX;\n        dragger.pointerY = dragger.pointerY || event.pageY;\n        jQuery(dragger.element).addClass(layoutModule.DRAGGING_CLASS);\n        jQuery(layoutModule.RESIZE_OVERLAY_PATTERN).each(function () {\n            jQuery(this).removeClass(layoutModule.HIDDEN_CLASS);\n        });\n    },\n    endSizerDragging: function (dragger, event) {\n        layoutModule.respondToDrag(dragger, event);\n        jQuery(dragger.element).removeClass(layoutModule.DRAGGING_CLASS);\n        jQuery(layoutModule.RESIZE_OVERLAY_PATTERN).each(function () {\n            jQuery(this).addClass(layoutModule.HIDDEN_CLASS);\n        });    //fire custom event so that we can know when we have finished sizing\n        //fire custom event so that we can know when we have finished sizing\n        document.fire('dragger:sizer', {\n            targetEvent: event,\n            element: dragger.element\n        });\n        jQuery(window).trigger('resize', {\n            targetEvent: event,\n            element: dragger.element\n        });\n    },\n    respondToDrag: function (dragger, event) {\n        //no else stmt - diagonal sizer will do both\n        if (dragger.sizerType !== 'vertical') {\n            //includes diagonal\n            this.resizeOnDrag(dragger, event, 'horizontal');\n        }\n        if (dragger.sizerType !== 'horizontal') {\n            //includes diagonal\n            this.resizeOnDrag(dragger, event, 'vertical');\n        }\n    },\n    resizeOnDrag: function (dragger, event, orientation) {\n        //set vars based on dragger orientation\n        var dragData = {};\n        dragData.axis = orientation == 'horizontal' ? 0 : 1;\n        dragData.myAlignments = this.alignmentModule.alignments[dragData.axis];\n        dragData.dimension = this.alignmentModule.dimensions[dragData.axis];\n        dragData.sizeProperty = dragData.axis ? 'offsetHeight' : 'offsetWidth';\n        var pointerName = dragData.axis ? 'pointerY' : 'pointerX';\n        var c = {\n            pointerY: 'clientY',\n            pointerX: 'clientX'\n        };    //generic code starts here\n        //generic code starts here\n        dragData.sizeableAnchorage = dragger.alignment[dragData.axis] === dragData.myAlignments[0] ? dragData.myAlignments[1] : dragData.myAlignments[0];\n        var p = event.changedTouches ? event.changedTouches[0][c[pointerName]] : event[pointerName]();\n        var dragDelta = dragger[pointerName] ? p - dragger[pointerName] : 0;\n        dragDelta = dragger.alignment[dragData.axis] === dragData.myAlignments[1] ? dragDelta : 0 - dragDelta;    //directional correction\n        //directional correction\n        dragData.dragDelta = dragDelta;\n        dragger[pointerName] = event[pointerName]();\n        this.resizePanelsOnDrag(dragger, dragData);\n    },\n    resizePanelsOnDrag: function (dragger, dragData) {\n        var sizeTracker = this.getSizeTracker();\n        sizeTracker.checkpoint(dragger.resizeablePanel[dragData.sizeProperty]);\n        if (dragger.filler && !dragger['fillerDelta' + dragData.dimension]) {\n            dragger['fillerDelta' + dragData.dimension] = dragger.resizeablePanel[dragData.sizeProperty] - dragger.filler[dragData.sizeProperty];\n        }    //size the panel\n        //size the panel\n        var panelSize = getDimensionInPx(dragger.resizeablePanel, dragData.dimension);    //worsk for % or px\n        //worsk for % or px\n        if (this.isInBounds(dragger, dragData) || !this.isInBounds(dragger, dragData) && dragData.dragDelta < 0) {\n            dragger.resizeablePanel.setStyle(dragData.dimension + ':' + (panelSize + dragData.dragDelta) + 'px');    //size filling element if any\n            //size filling element if any\n            if (dragger.filler) {\n                dragger.filler.setStyle(dragData.dimension + ':' + (panelSize + dragData.dragDelta - dragger['fillerDelta' + dragData.dimension]) + 'px');\n            }\n        }\n        if (window.localStorage) {\n            localStorage.setItem(dragger.resizeablePanel.identify() + layoutModule.PANEL_WIDTH, dragger.resizeablePanel.getWidth());\n        }    //could not size the panel? restore position of sizer and style of panel\n        //could not size the panel? restore position of sizer and style of panel\n        if (!sizeTracker.changed(dragger.resizeablePanel[dragData.sizeProperty])) {\n            var actualSize = getActualDimension(dragger.resizeablePanel, dragData.dimension);\n            if (dragger.alignment[dragData.axis] != dragData.myAlignments[0]) {\n                //if sizer not naturally left/top aligned, remove left/top styling added by scriptaculous dragger\n                dragger.element.style[dragData.myAlignments[0]] = '';\n            }\n            dragger.element.setStyle(dragger.alignment[dragData.axis] + ':' + dragger.parentOffset[dragData.axis]);\n            dragger.resizeablePanel.setStyle(dragData.dimension + ':' + actualSize + 'px');\n            if (dragger.primaryPanel && dragger.primaryPanel.style.zIndex == dragger.resizeablePanel.style.zIndex) {\n                dragger.primaryPanel.setStyle(dragData.sizeableAnchorage + ':' + actualSize + 'px');\n            }\n            if (dragger.filler) {\n                dragger.filler.setStyle(dragData.dimension + ':' + (actualSize - dragger['fillerDelta' + dragData.dimension]) + 'px');\n            }\n            return;\n        }\n        var minWidth;\n        if (dragger.resizeablePanel.currentStyle) {\n            minWidth = dragger.resizeablePanel.currentStyle.minWidth;\n        } else {\n            minWidth = document.defaultView.getComputedStyle(dragger.resizeablePanel, null);\n            minWidth = minWidth['min-width'] ? minWidth['min-width'] : minWidth['minWidth'];\n        }\n        minWidth = minWidth.substring(0, minWidth.indexOf('px'));    //size primary panel if any (and in same layer)\n        //size primary panel if any (and in same layer)\n        if (dragger.primaryPanel && dragger.primaryPanel.style.zIndex == dragger.resizeablePanel.style.zIndex) {\n            var primaryOffset = getDimensionInPx(dragger.primaryPanel, dragData.sizeableAnchorage) + dragData.dragDelta;\n            var newOffset = primaryOffset < minWidth ? minWidth : primaryOffset;\n            dragger.primaryPanel.setStyle(dragData.sizeableAnchorage + ':' + newOffset + 'px');    //resize main (middle) panel if any\n        }    //finally restore sizer`s alignment w/ respect to its parent\n        //finally restore sizer`s alignment w/ respect to its parent\n        if (dragger.alignment[dragData.axis] != dragData.myAlignments[0]) {\n            dragger.element.style[dragData.myAlignments[0]] = '';\n        }\n        dragger.element.setStyle(dragger.alignment[dragData.axis] + ':' + dragger.parentOffset[dragData.axis]);\n        jQuery('body').trigger('layout_update');\n    },\n    isInBounds: function (dragger, dragData) {\n        //just init variables\n        var primaryMinMeasurement, sizeableAnchorageMeasurement, avaliableParentMeasurement, pimaryPanelMarginMeasurement, outerDimentionFunc, primaryPanel = jQuery(dragger.primaryPanel), primaryPanelParent = primaryPanel.parent(), dimention = dragData.dimension;\n        if (dragger.primaryPanel) {\n            //uppercase first charter\n            dimention = dimention.replace(dimention.charAt(0), dimention.charAt(0).toUpperCase());    //chose function to get current dimmention\n            //chose function to get current dimmention\n            outerDimentionFunc = jQuery.fn['outer' + dimention];    //calculate measurement\n            //calculate measurement\n            pimaryPanelMarginMeasurement = outerDimentionFunc.call(primaryPanel, true) - outerDimentionFunc.call(primaryPanel);\n            primaryMinMeasurement = parseInt(primaryPanel.css('min-' + dragData.dimension));\n            if (isNaN(primaryMinMeasurement)) {\n                primaryMinMeasurement = 0;\n            }\n            sizeableAnchorageMeasurement = parseInt(primaryPanel.css(dragData.sizeableAnchorage));\n            avaliableParentMeasurement = parseInt(primaryPanelParent.css(dragData.dimension));    //if parent container has other divs then include their distentions in bound validation\n            //if parent container has other divs then include their distentions in bound validation\n            var panels = primaryPanelParent.children('div:visible:not(.minimized)').not('div.pageHeader').not('div.header');\n\n            jQuery.each(panels, function () {\n                var elem = jQuery(this), isTemplatable = elem.width() === 0 || elem.height() === 0;\n                if (dragger.resizeablePanel != this && dragger.primaryPanel != this && !isTemplatable) {\n                    avaliableParentMeasurement -= outerDimentionFunc.call(elem, true);\n                }\n            });\n            return avaliableParentMeasurement - sizeableAnchorageMeasurement - dragData.dragDelta > primaryMinMeasurement + pimaryPanelMarginMeasurement;\n        } else {\n            return true;\n        }\n    },\n    getSizeTracker: function () {\n        let lastSize = -1;\n        return {\n            checkpoint: function (size) {\n                lastSize = size;\n            },\n            changed: function (size) {\n                return size != lastSize;\n            }\n        };\n    },\n    ///////////////////////////////////////////////////////////////////////////////////\n    // Make moveable\n    ///////////////////////////////////////////////////////////////////////////////////\n    createMover: function (movable, options = {}) {\n        //movable is the element we will move\n        //mover is the handle we drag to move it\n        var mover = movable.down(this.MOVER_PATTERN);    //get first descendant with class mover\n        //get first descendant with class mover\n        if (!mover || matchMeOrUp(movable, '.' + layoutModule.HIDDEN_CLASS)) {\n            return;\n        }    // Default zindex in Draggable#initialize is 1000\n        // But some dialogs can have zindex over 1000\n        // Default zindex in Draggable#initialize is 1000\n        // But some dialogs can have zindex over 1000\n        var zIndex = Math.max(this.DND_MOVABLE_ZINDEX, // taken from hardcoded default in Draggable#initialize\n            jQuery(movable).css('zIndex'));    // Some dialogs can have zindex over constant zindex\n        // Some dialogs can have zindex over constant zindex\n        if (options.useJQueryForDraggable) {\n            jQuery(movable).draggable({\n                zIndex,\n                handle: mover,\n                containment: 'document'\n            });\n        } else {\n            new Draggable(movable, {\n                handle: mover,\n                zindex: zIndex    // To move dialog on foreground we need initialize DnD with big zIndex\n            });\n        }\n    },\n    ///////////////////////////////////////////////////////////////////////////////////\n    // Minimizer / Maximizer\n    ///////////////////////////////////////////////////////////////////////////////////\n    maximize: function (elem, noEffects) {\n        noEffects = true;\n        var element = jQuery(elem).hasClass ? elem : jQuery(elem)[0];\n        var toMaximize = jQuery(element).hasClass('column') ? element : element.up('.column');    /*\n         * Special case for Adhoc Designer on iPad.\n         */\n        /*\n         * Special case for Adhoc Designer on iPad.\n         */\n        if (window.orientation === 0) {\n            toMaximize.id == 'filters' && layoutModule.minimize(document.getElementById('fields'));\n            toMaximize.id == 'fields' && layoutModule.minimize(document.getElementById('filters'));\n        }\n        var aligments = layoutModule.alignmentModule.alignments[0];\n        var offsets = aligments.map(function (al) {\n            return parseInt(jQuery(toMaximize).css(al));\n        });\n        var thisAlignment = aligments[offsets[0] === 0 ? 0 : 1];    //left at 0, right at 1\n        //left at 0, right at 1\n        var primaryPanel = toMaximize.siblings().find(function (s) {\n            return s.match && s.match('.primary');\n        });\n        var ppOffset;\n        if (primaryPanel && window.localStorage) {\n            ppOffset = localStorage.getItem(toMaximize.identify() + layoutModule.PANEL_WIDTH);\n        }\n        function saveState() {\n            jQuery(toMaximize).removeClass('minimized_if_vertical_orientation');\n            jQuery(toMaximize).removeClass('minimized');\n            jQuery(toMaximize).addClass('maximized');\n            window.localStorage && localStorage.setItem(toMaximize.identify() + layoutModule.MINIMIZED, false);\n            jQuery('div.content', toMaximize).show();\n        }\n        if (ppOffset && !isNaN(ppOffset)) {\n            ppOffset += 'px';\n            toMaximize.setStyle({ width: ppOffset });\n            if (noEffects) {\n                primaryPanel.style[thisAlignment] = ppOffset;\n                jQuery(toMaximize).removeClass('minimized_if_vertical_orientation');\n                jQuery(toMaximize).removeClass('minimized');\n                jQuery(toMaximize).addClass('maximized');\n                window.localStorage && localStorage.setItem(toMaximize.identify() + layoutModule.MINIMIZED, false);\n                jQuery('div.content', toMaximize).show();\n                jQuery('div.vtitle', toMaximize).hide();\n            } else {\n                //This...\n                new Effect.Morph(primaryPanel, {\n                    style: thisAlignment + ':' + ppOffset,\n                    duration: 0.6,\n                    afterFinish: function () {\n                        jQuery('body').trigger('layout_update');\n                    }\n                });    //...runs parallel to these two...\n                //...runs parallel to these two...\n                new Effect.Opacity(toMaximize, {\n                    to: 0,\n                    from: 1,\n                    duration: 0.3,\n                    queue: {\n                        position: 'front',\n                        scope: 'sidePanel'\n                    },\n                    afterFinish: saveState\n                });\n                new Effect.Opacity(toMaximize, {\n                    to: 1,\n                    from: 0,\n                    duration: 0.3,\n                    queue: {\n                        position: 'end',\n                        scope: 'sidePanel'\n                    }\n                });\n            }\n        }\n        jQuery(toMaximize).find('.sizer').show();\n        jQuery('body').trigger('layout_update', {\n            elem: elem.parentNode,\n            type: 'panel-maximize'\n        });\n        jQuery('.column.secondary > div.content > .body').show().height();\n    },\n    minimize: function (elem, noEffects) {\n        var primaryPanel;\n        noEffects = true;\n        var element = jQuery(elem).hasClass ? elem : jQuery(elem)[0];\n        var toMinimize = jQuery(element).hasClass('column') ? element : element.up('.column');\n        var isMinimized = window.localStorage && localStorage.getItem(toMinimize.identify() + layoutModule.MINIMIZED) == 'true';\n        !isMinimized && window.localStorage && localStorage.setItem(toMinimize.identify() + layoutModule.PANEL_WIDTH, toMinimize.getWidth());    //figure out alignment (left or right)\n        //figure out alignment (left or right)\n        var aligments = layoutModule.alignmentModule.alignments[0];\n        var offsets = aligments.map(function (al) {\n            return parseInt(jQuery(toMinimize).css(al));\n        });\n        var thisAlignment = aligments[offsets[0] === 0 ? 0 : 1];\n        //left at 0, right at 1\n        //left at 0, right at 1\n        primaryPanel = toMinimize.siblings().find(function (s) {\n            return s.match && s.match('.primary');\n        });\n        function saveState() {\n            jQuery(toMinimize).addClass('minimized');\n            jQuery(toMinimize).removeClass('maximized');\n            jQuery(toMinimize).removeClass('minimized_if_vertical_orientation');\n            window.localStorage && localStorage.setItem(toMinimize.identify() + layoutModule.MINIMIZED, true);\n            jQuery('div.content', toMinimize).hide();\n        }\n        if (primaryPanel) {\n            if (noEffects) {\n                var title = jQuery('div.title', toMinimize).eq(0);\n                var vTitle = jQuery('div.vtitle', toMinimize);\n                var headerText = title.html();\n                var w = jQuery.trim(title.text()).length * 7;\n                primaryPanel.style[thisAlignment] = '24px';\n                jQuery(toMinimize).addClass('minimized');\n                jQuery(toMinimize).removeClass('maximized');\n                jQuery(toMinimize).removeClass('minimized_if_vertical_orientation');\n                window.localStorage && localStorage.setItem(toMinimize.identify() + layoutModule.MINIMIZED, true);\n                if (!vTitle.length) {\n                    vTitle = jQuery('<div class=\"vtitle\"></div>').appendTo(toMinimize);\n                    vTitle.on('mouseup touchend', function (evt) {\n                        layoutModule.maximize(vTitle[0]);\n                        evt.preventDefault();\n                    });\n                    vTitle.html(jQuery.trim(headerText)).width(w + 24);\n                }\n                if (isIE7() || isIE8() || isIE9()) {\n                    vTitle.css({\n                        top: 0,\n                        left: 0\n                    });\n                } else {\n                    vTitle.css('top', w + 24 + 'px');\n                }\n\n                vTitle.show();\n\n                jQuery('div.content',toMinimize).hide();\n            } else {\n                //This...\n                new Effect.Morph(primaryPanel, {\n                    style: thisAlignment + ':0px',\n                    duration: 0.6,\n                    afterFinish: function () {\n                        jQuery('body').trigger('layout_update');\n                    }\n                });    //...runs parallel to these two...\n                //...runs parallel to these two...\n                new Effect.Opacity(toMinimize, {\n                    to: 0,\n                    from: 1,\n                    duration: 0.3,\n                    queue: {\n                        position: 'front',\n                        scope: 'sidePanel'\n                    },\n                    afterFinish: saveState\n                });\n                new Effect.Opacity(toMinimize, {\n                    to: 1,\n                    from: 0,\n                    duration: 0.3,\n                    queue: {\n                        position: 'end',\n                        scope: 'sidePanel'\n                    }\n                });\n            }\n        }\n        jQuery(toMinimize).find('.sizer').hide();\n        jQuery('body').trigger('layout_update', {\n            elem: elem.parentNode,\n            type: 'panel-minimize'\n        });\n    },\n    resizeOnClient: function (leftPanelID, mainPanelID, rightPanelID) {\n        var panels = [];\n        var jMainPanelElement = jQuery('#' + mainPanelID);\n        var diff = jQuery('#display').width() - 20 - parseInt(jMainPanelElement.width());\n        var minWidth;    /*\n         * Get panel state and dimensions\n         */\n        /*\n         * Get panel state and dimensions\n         */\n        jQuery.each([\n            leftPanelID,\n            rightPanelID\n        ], function (i, v) {\n            if (v) {\n                panels.push({\n                    id: v,\n                    isLeft: i === 0,\n                    jo: jQuery('#' + v),\n                    width: window.localStorage ? parseInt(localStorage.getItem(v + layoutModule.PANEL_WIDTH)) : 250\n                });\n                panels[i].minimized = window.localStorage ? localStorage.getItem(v + layoutModule.MINIMIZED) : false;\n                panels[i].minimized = !Object.isUndefined(panels[i].minimized) ? panels[i].minimized == 'true' : panels[i].jo.hasClass('minimized');\n                minWidth = panels[i].jo[0].currentStyle ? panels[i].jo[0].currentStyle.minWidth : document.defaultView.getComputedStyle(panels[i].jo[0], null)['minWidth'];\n                panels[i].minWidth = (minWidth && minWidth.indexOf('px')) > 0 ? minWidth.substring(0, minWidth.indexOf('px')) : 200;\n                panels[i].width = panels[i].width ? panels[i].width : panels[i].jo.width();\n                diff -= panels[i].width;\n            }\n        });\n        var offset = diff < 0 ? Math.abs(diff) : 0;\n        diff = 0;\n        jQuery.each(panels, function (i, panel) {\n            if (panel.jo.length && panel.jo.is(':visible')) {\n                if (panel.minimized) {\n                    panel.jo.removeClass('maximized').addClass('minimized');\n                    layoutModule.minimize(panel.jo[0], true);\n                } else {\n                    if (i == 1 && !panels[0].minimized && panels[0].jo.is(':visible')) {\n                        panel.width -= offset;\n                        if (panel.width < panel.minWidth) {\n                            diff = panel.width - panel.minWidth;\n                            panel.width = panel.minWidth;\n                        }\n                    }\n                    panel.jo.removeClass('minimized').addClass('maximized');\n                    jMainPanelElement.css(panel.isLeft ? 'left' : 'right', panel.width + 'px');\n                    panel.jo.css('width', panel.width + 'px');\n                }\n            }\n        });\n        if (diff !== 0) {\n            panels[0].width += diff;\n            panels[0].width = panels[0].width < panels[0].minWidth ? panels[0].minWidth : panels[0].width;\n            jMainPanelElement.css('left', panels[0].width + 'px');\n            panels[0].jo.css('width', panels[0].width + 'px');\n        }\n    },\n    autoMaximize: function (element) {\n        var minimized = window.localStorage ? localStorage.getItem(element.identify() + layoutModule.MINIMIZED) : 'false';\n        if (minimized == 'true') {\n            jQuery(element).hasClass('minimized') && layoutModule.maximize(element, true);\n        } else {\n            !jQuery(element).hasClass('minimized') && layoutModule.minimize(element, true);\n        }\n    },\n    autoMinimize: function (element) {\n        var minimized = window.localStorage ? localStorage.getItem(element.identify() + layoutModule.MINIMIZED) : 'false';\n        if (minimized == 'false') {\n            layoutModule.minimize(element, true);\n        } else {\n            jQuery(element).removeClass('minimized');\n        }\n    },\n    fixIE7Sizes: function () {\n        jQuery('.control.tabSet.buttons.vertical').each(function (elem) {\n            elem.immediateDescendants().each(function (child) {\n                child.style.width = elem.clientWidth || elem.offsetWidth;\n            });\n        });\n    },\n    storePanelWidth: function (panelName, width) {\n        window.localStorage && localStorage.setItem(panelName + layoutModule.PANEL_WIDTH, width);\n    },\n    getPanelWidth: function (panelName) {\n        return window.localStorage ? localStorage.getItem(panelName + layoutModule.PANEL_WIDTH) : undefined;\n    },\n    getPanelMinimizedState: function (panelName) {\n        return window.localStorage ? localStorage.getItem(panelName + layoutModule.MINIMIZED) : undefined;\n    },\n    storePanelMinimizedState: function (panelName, value) {\n        window.localStorage && localStorage.setItem(panelName + layoutModule.MINIMIZED, value.toString());\n    },\n    manuallyChangePanelState: function (panelName, clientKey, value) {\n        window.localStorage && localStorage.setItem(panelName + layoutModule.PANEL_STATE_CHANGED_MANUALLY + clientKey, value);\n    },\n    panelStateWasManuallyChanged: function (panelName, clientKey) {\n        return window.localStorage ? localStorage.getItem(panelName + layoutModule.PANEL_STATE_CHANGED_MANUALLY + clientKey) === 'true' : false;\n    }\n};\n\nexport default layoutModule;\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @author: Angus Croll\n * @version: $Id$\n */\n//////////////////////////////////////////////////////////\n// Drag.js\n// Generic drag objects and functions\n// Note: Not yet utilized by all dragging in Jasperserver\n//////////////////////////////////////////////////////////\n/**\n * Drag Listener\n * Co-ordinates drag callbacks\n */\nfunction DragListener() {\n    this.agents = [];\n    this.currentAgentName = null;\n    this.dragger;\n}    /**\n * Standard drag events\n */\n/**\n * Standard drag events\n */\nDragListener.DRAGGING_STARTED = 'draggingStarted';\nDragListener.DRAGGING_FINISHED = 'draggingFinished';\nDragListener.DRAGGING = 'dragging';    /**\n * register a dragging agent with teh drag listener\n * @param {String} agentName A key identifying the distinct functional area from which the drag originates (eg 'Tree', Table' etc.)\n * This allows us to segregate event actions according to type of drag\n */\n/**\n * register a dragging agent with teh drag listener\n * @param {String} agentName A key identifying the distinct functional area from which the drag originates (eg 'Tree', Table' etc.)\n * This allows us to segregate event actions according to type of drag\n */\nDragListener.prototype.registerAgent = function (agentName) {\n    this.agents[agentName] = [];\n};    /**\n * Register the event with an action\n * @param {String} agentName A key identifying the distinct functional area from which the drag originates (eg Tree, Table etc.)\n * @param {String} event Something that happens during drag, e.g. 'mouseOverColumn', 'mouseOutGroup' 'draggingStarted'\n * @param {Function} action Function to be performed when the specified event is triggered by the specified agent\n */\n/**\n * Register the event with an action\n * @param {String} agentName A key identifying the distinct functional area from which the drag originates (eg Tree, Table etc.)\n * @param {String} event Something that happens during drag, e.g. 'mouseOverColumn', 'mouseOutGroup' 'draggingStarted'\n * @param {Function} action Function to be performed when the specified event is triggered by the specified agent\n */\nDragListener.prototype.publishEvent = function (agentName, event, action) {\n    this.agents[agentName][event] = action;\n};    /**\n * Trigger the event\n * @param {Object} dragListenerEvent Something that happens during drag, e.g. 'mouseOverColumn', 'mouseOutGroup' 'draggingStarted'\n * @param {Object} browserEvent The window event\n */\n/**\n * Trigger the event\n * @param {Object} dragListenerEvent Something that happens during drag, e.g. 'mouseOverColumn', 'mouseOutGroup' 'draggingStarted'\n * @param {Object} browserEvent The window event\n */\nDragListener.prototype.notify = function (dragListenerEvent, browserEvent) {\n    var currentAgent = this.agents[this.currentAgentName];\n    if (currentAgent) {\n        var thisAction = currentAgent[dragListenerEvent];\n        if (thisAction) {\n            var draggingObjs = this.dragger ? this.dragger.draggingObjs : null;\n            thisAction(browserEvent, draggingObjs);\n        }\n    }\n};    /**\n * any dragging going on right now?\n */\n/**\n * any dragging going on right now?\n */\nDragListener.prototype.isDragging = function () {\n    return this.currentAgentName != null;\n};\nDragListener.prototype.setCurrentAgentName = function (agentName) {\n    this.currentAgentName = agentName;\n};\nDragListener.prototype.getCurrentAgentName = function () {\n    return this.currentAgentName;\n};    /**\n * Dragger\n * Drags anything......\n * @param {Object} evt current window event that triggered drag\n * @param {Array} draggingObjs are all objects being dragged whether or not the mouse is over them (multi-select)\n * @param {Boolean} dragsX can we drag horizontally\n * @param {Boolean} dragsY can we drag vertically\n * @param {Number} sigMove the number of pixels user must move mouse before we consider drag initiated\n * @param {DragListener} dragListener a dragListener instance\n * @param {Function} cleanUpUtil an optional utlity function to be invoked after drag is released (i.e. dropped)\n */\n/**\n * Dragger\n * Drags anything......\n * @param {Object} evt current window event that triggered drag\n * @param {Array} draggingObjs are all objects being dragged whether or not the mouse is over them (multi-select)\n * @param {Boolean} dragsX can we drag horizontally\n * @param {Boolean} dragsY can we drag vertically\n * @param {Number} sigMove the number of pixels user must move mouse before we consider drag initiated\n * @param {DragListener} dragListener a dragListener instance\n * @param {Function} cleanUpUtil an optional utlity function to be invoked after drag is released (i.e. dropped)\n */\nfunction Dragger(evt, draggingObjs, dragsX, dragsY, sigMove, dragListener, cleanUpUtil) {\n    evt = evt ? evt : event;\n    this.originalX = [];\n    this.originalY = [];\n    this.draggingObjs = draggingObjs;\n    this.dragsX = dragsX;\n    this.dragsY = dragsY;\n    this.sigMove = sigMove;\n    this.dragListener = dragListener;\n    this.cleanUpUtil = cleanUpUtil;\n    if (this.dragListener) {\n        this.dragListener.dragger = this;\n    }\n    for (var i = 0; i < draggingObjs.length; i++) {\n        this.originalX[i] = parseInt(draggingObjs[i].style.left);\n        this.originalY[i] = parseInt(draggingObjs[i].style.top);\n    }\n    this.mouseX = evt.clientX;\n    this.mouseY = evt.clientY;\n    this.isDragging = false;\n    this.initDragger(evt);\n}\nvar invokeDragging = function (dragger) {\n    return function (event) {\n        dragger.dragging(event);\n    };\n};\nvar invokeDraggingFinished = function (dragger) {\n    return function (event) {\n        dragger.draggingFinished(event);\n    };\n};    /**\n * Add an additional Element to the collection of dragging objects already defined in an existing Dragger\n * @param {Object} evt The window event\n * @param {Element} draggingObj An HTML element\n */\n/**\n * Add an additional Element to the collection of dragging objects already defined in an existing Dragger\n * @param {Object} evt The window event\n * @param {Element} draggingObj An HTML element\n */\nDragger.prototype.addAnotherDraggingObject = function (evt, draggingObj) {\n    evt = evt ? evt : event;\n    this.draggingObjs[this.draggingObjs.length] = draggingObj;\n    this.originalX[this.originalX.length] = parseInt(draggingObj.style.left);\n    this.originalY[this.originalY.length] = parseInt(draggingObj.style.top);\n    this.initDragger(evt);\n};\nDragger.prototype.initDragger = function (evt) {\n    this.isDragging = false;\n    this.mouseX = evt.clientX;\n    this.mouseY = evt.clientY;\n    document.onmousemove = invokeDragging(this);\n    document.onmouseup = invokeDraggingFinished(this);\n};\nDragger.prototype.dragging = function (evt) {\n    var e = evt ? evt : event;\n    var movedSignificantly = false;\n    var xDiff = 0;\n    var yDiff = 0;\n    if (this.dragsX) {\n        xDiff = e.clientX - this.mouseX;\n        movedSignificantly = Math.abs(xDiff) > this.sigMove;\n    }\n    if (this.dragsY) {\n        yDiff = e.clientY - this.mouseY;\n        movedSignificantly = movedSignificantly || Math.abs(yDiff) > this.sigMove;\n    }\n    if (!this.isDragging && movedSignificantly) {\n        this.isDragging = true;\n        if (this.dragListener) {\n            this.dragListener.notify(DragListener.DRAGGING_STARTED, evt);\n        }\n        for (var i = 0; i < this.draggingObjs.length; i++) {\n            this.draggingObjs[i].style.display = 'block';\n        }\n    }\n    if (this.isDragging) {\n        if (xDiff) {\n            for (var j = 0; j < this.draggingObjs.length; j++) {\n                var left = parseInt(this.originalX[j] + xDiff);    //                if (left < 0 || left + $(this.draggingObjs[i]).getWidth() > document.body.clientWidth) {\n                //                    xDiff = false;\n                //                    break;\n                //                }\n            }\n            if (xDiff) {\n                for (var k = 0; k < this.draggingObjs.length; k++) {\n                    this.draggingObjs[k].style.left = parseInt(this.originalX[k] + xDiff) + 'px';\n                }\n            }\n        }\n        if (yDiff) {\n            for (var l = 0; l < this.draggingObjs.length; l++) {\n                var top = parseInt(this.originalY[l] + yDiff);    //                if (top < 0 || top + $(this.draggingObjs[i]).getHeight() > document.body.clientHeight) {\n                //                    yDiff = false;\n                //                    break;\n                //                }\n            }\n            if (yDiff) {\n                for (var m = 0; m < this.draggingObjs.length; m++) {\n                    this.draggingObjs[m].style.top = parseInt(this.originalY[m] + yDiff) + 'px';\n                }\n            }\n        }\n        if (xDiff || yDiff) {\n            this.dragListener.notify(DragListener.DRAGGING, evt);\n        }\n    }\n};\nDragger.prototype.draggingFinished = function (evt) {\n    document.onmousemove = 'default';\n    document.onmouseup = 'default';\n    if (this.isDragging) {\n        this.isDragging = false;    //generic housekeeping for this drag host\n        //generic housekeeping for this drag host\n        if (this.cleanUpUtil) {\n            this.cleanUpUtil();\n        }\n        if (this.dragListener) {\n            this.dragListener.notify(DragListener.DRAGGING_FINISHED, evt);\n            this.dragListener.setCurrentAgentName(null);\n        }\n    } else {\n        if (this.dragListener) {\n            this.dragListener.setCurrentAgentName(null);\n        }\n    }\n};\nDragger.prototype.clearDraggingObjects = function () {\n    for (var i = 0; i < this.draggingObjs.length; i++) {\n        var thisOne = this.draggingObjs[i];\n        if (thisOne) {\n            if (thisOne.parentNode) {\n                thisOne.parentNode.removeChild(thisOne);\n            }\n            thisOne = null;\n        }\n    }\n};\n\nexport {Dragger, DragListener};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    MESSAGE_PATTERN: '.message',\n    ERROR_CLASS: 'error',\n    MESSAGE_WARNING_PATTERN: '.message.warning',\n    DETAILS_PATTERN: '.details',\n    MESSAGE_WARNING_DETAILS_PATTERN: '.details',\n    SUCCESS_CLASS: 'error',\n    MESSAGE_SUCCESS_PATTERN: '.message.success',\n    DIALOG_PATTERN: '.dialog'\n}"],"sourceRoot":""}