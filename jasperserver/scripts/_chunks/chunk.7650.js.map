{"version":3,"sources":["webpack://jrs-ui/./src/resource/resource.add.mondrianxmla.js","webpack://jrs-ui/./src/addResource/mondrianXml/addMondrianXml.common.js"],"names":["LABEL_ID","RESOURCE_ID_ID","DESCRIPTION_ID","CATALOG_ID","SAVE_BUTTON_ID","_canGenerateId","initialize","options","this","_form","jQuery","document","body","find","_label","_resourceId","_description","_catalog","_saveButton","_isEditMode","isEditMode","validator","resource","_catalogValidator","bind","picker","treeId","providerId","uriTextboxId","browseButtonId","title","selectLeavesOnly","_initEvents","on","e","_isDataValid","stopPropagation","element","target","include","ValidationModule","getValue","setValue","elementsToValidate","value","isValid","errorMessage","blank","jrsConfigs","_","window","localContext","resourceMondrianXmla","isIPad"],"mappings":"gMA0GA,QA9E2B,CACvBA,SAAU,QACVC,eAAgB,aAChBC,eAAgB,cAChBC,WAAY,UACZC,eAAgB,OAChBC,gBAAgB,EAChBC,WAAY,SAAUC,GAClBC,KAAKC,MAAQC,IAAOC,SAASC,MAAMC,KAAK,QAAQ,GAChDL,KAAKM,OAASJ,IAAO,IAAMF,KAAKR,UAAU,GAC1CQ,KAAKO,YAAcL,IAAO,IAAMF,KAAKP,gBAAgB,GACrDO,KAAKQ,aAAeN,IAAO,IAAMF,KAAKN,gBAAgB,GACtDM,KAAKS,SAAWP,IAAO,IAAMF,KAAKL,YAAY,GAC9CK,KAAKU,YAAcR,IAAO,IAAMF,KAAKJ,gBACrCI,KAAKW,YAAcZ,EAAQa,WAC3BZ,KAAKM,OAAOO,UAAYC,wBAA6Bd,MACrDA,KAAKO,YAAYM,UAAYC,6BAAkCd,MAC/DA,KAAKQ,aAAaK,UAAYC,8BAAmCd,MACjEA,KAAKS,SAASI,UAAYb,KAAKe,kBAAkBC,KAAKhB,MACtD,IAAIiB,iBAAoB,CACpBC,OAAQ,2BACRC,WAAY,2BACZC,aAAc,8BACdC,eAAgB,iBAChBC,MAAOR,yCACPS,kBAAkB,IAEtBvB,KAAKwB,eAETA,YAAa,WACRxB,KAAKU,YAAae,GAAG,QAAS,SAAUC,GAChC1B,KAAK2B,gBACND,EAAEE,mBAERZ,KAAKhB,OACPE,IAAOF,KAAKC,OAAOwB,GAAG,QAAS,SAAUC,GACrC,IAAIG,EAAUH,EAAEI,OACK,CACjB9B,KAAKM,OACLN,KAAKO,YACLP,KAAKQ,aACLR,KAAKS,UAEUsB,QAAQF,KACvBG,eAA0BlB,yBAA8B,CAACe,KACrDA,GAAW7B,KAAKO,aAAeP,KAAKO,YAAY0B,YAAcnB,uBAA4Bd,KAAKM,OAAO2B,cACtGjC,KAAKH,gBAAiB,GAEtBgC,GAAW7B,KAAKM,SAAWN,KAAKW,aAAeX,KAAKH,iBACpDG,KAAKO,YAAY2B,SAASpB,uBAA4Bd,KAAKM,OAAO2B,aAClED,eAA0BlB,yBAA8B,CAACd,KAAKO,kBAGxES,KAAKhB,QAEX2B,aAAc,WACV,IAAIQ,EAAqB,CACrBnC,KAAKM,OACLN,KAAKO,YACLP,KAAKQ,aACLR,KAAKS,UAET,OAAOuB,eAA0BlB,yBAA8BqB,KAEnEpB,kBAAmB,SAAUqB,GACzB,IAAIC,GAAU,EACVC,EAAe,GAKnB,OAJIF,EAAMG,UACND,EAAexB,4BACfuB,GAAU,GAEP,CACHA,QAASA,EACTC,aAAcA,KC1E1B,IAAIvC,EAAUyC,4CACdC,WAASC,OAAOC,aAAcH,iCAC9BC,WAAS3B,aAAmB0B,sCAC5BI,aAAgC7C,IAChC8C,YAAY/B","file":"_chunks/chunk.7650.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport jQuery from 'jquery';\nimport resource from './resource.base';\nimport {ValidationModule} from \"../util/utils.common\";\nimport picker from '../components/components.pickers';\n\nvar resourceMondrianXmla = {\n    LABEL_ID: 'label',\n    RESOURCE_ID_ID: 'resourceID',\n    DESCRIPTION_ID: 'description',\n    CATALOG_ID: 'catalog',\n    SAVE_BUTTON_ID: 'save',\n    _canGenerateId: true,\n    initialize: function (options) {\n        this._form = jQuery(document.body).find('form')[0];\n        this._label = jQuery('#' + this.LABEL_ID)[0];\n        this._resourceId = jQuery('#' + this.RESOURCE_ID_ID)[0];\n        this._description = jQuery('#' + this.DESCRIPTION_ID)[0];\n        this._catalog = jQuery('#' + this.CATALOG_ID)[0];\n        this._saveButton = jQuery('#' + this.SAVE_BUTTON_ID);\n        this._isEditMode = options.isEditMode;\n        this._label.validator = resource.labelValidator.bind(this);\n        this._resourceId.validator = resource.resourceIdValidator.bind(this);\n        this._description.validator = resource.descriptionValidator.bind(this);\n        this._catalog.validator = this._catalogValidator.bind(this);\n        new picker.FileSelector({\n            treeId: 'resourceTreeRepoLocation',\n            providerId: 'mondrianTreeDataProvider',\n            uriTextboxId: 'mondrianConnectionReference',\n            browseButtonId: 'browser_button',\n            title: resource.messages['resource.Add.Files.Title'],\n            selectLeavesOnly: true\n        });\n        this._initEvents();\n    },\n    _initEvents: function () {\n        (this._saveButton).on('click', function (e) {\n            if (!this._isDataValid()) {\n                e.stopPropagation();\n            }\n        }.bind(this));\n        jQuery(this._form).on('keyup', function (e) {\n            var element = e.target;\n            var targetElements = [\n                this._label,\n                this._resourceId,\n                this._description,\n                this._catalog\n            ];\n            if (targetElements.include(element)) {\n                ValidationModule.validate(resource.getValidationEntries([element]));\n                if (element == this._resourceId && this._resourceId.getValue() != resource.generateResourceId(this._label.getValue())) {\n                    this._canGenerateId = false;\n                }\n                if (element == this._label && !this._isEditMode && this._canGenerateId) {\n                    this._resourceId.setValue(resource.generateResourceId(this._label.getValue()));\n                    ValidationModule.validate(resource.getValidationEntries([this._resourceId]));\n                }\n            }\n        }.bind(this));\n    },\n    _isDataValid: function () {\n        var elementsToValidate = [\n            this._label,\n            this._resourceId,\n            this._description,\n            this._catalog\n        ];\n        return ValidationModule.validate(resource.getValidationEntries(elementsToValidate));\n    },\n    _catalogValidator: function (value) {\n        var isValid = true;\n        var errorMessage = '';\n        if (value.blank()) {\n            errorMessage = resource.messages['catalogIsEmpty'];\n            isValid = false;\n        }\n        return {\n            isValid: isValid,\n            errorMessage: errorMessage\n        };\n    }\n};\n\nexport default resourceMondrianXmla;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\nimport resource from '../../resource/resource.base';\nimport resourceMondrianXmla from '../../resource/resource.add.mondrianxmla';\nimport {isIPad} from \"../../util/utils.common\";\n\nvar options = jrsConfigs.addMondrianXML.localContext.initOptions;\n_.extend(window.localContext, jrsConfigs.addMondrianXML.localContext);\n_.extend(resource.messages, jrsConfigs.addMondrianXML.resource.messages);\nresourceMondrianXmla.initialize(options);\nisIPad() && resource.initSwipeScroll();\n"],"sourceRoot":""}