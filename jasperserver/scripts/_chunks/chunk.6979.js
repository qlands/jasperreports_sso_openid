(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[6979],{72012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(97836),i=r.n(a),s=r(72157),o=r.n(s),n=2147483647,h=function(e){i().bindAll(this,"getData"),e=e||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=e.pageSize||999,this.criteriaKey=e.searchKey||"criteria",this.maxSearchCacheSize=e.maxSearchCacheSize||50,this.getDataByCriteriaHolder={},this.criteriaValuesCache=[],this.controlGetTotal=void 0!==e.controlGetTotal&&e.controlGetTotal,this.dataConverter=e.dataConverter,this.saveLastCriteria=void 0!==e.saveLastCriteria&&e.saveLastCriteria,this.lastCriteria=null,this.serialRequestsDelay=void 0!==e.serialRequestsDelay?e.serialRequestsDelay:50,this.serialRequestsDelayedPromise=null,this.request=e.request};i().extend(h.prototype,{getData:function(e){if((e=e||{})[this.criteriaKey])return this._getDataByCriteria(e[this.criteriaKey])(e);if(void 0===e[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(e);this.lastCriteria=null;var t=o().Deferred(),r=this._getPagesToLoad(e);return r?this._requestData(e,r,t):this._resolveDeferredUsingDataFromCache(t,e),t.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.criteriaValuesCache=[],this.lastCriteria=null},_requestData:function(e,t,r){var a=(t[t.length-1]-t[0]+1)*this.pageSize,s=i().extend({},e,{offset:t[0]*this.pageSize,limit:a});this.controlGetTotal&&(s.skipGetTotal=!0),a>=n/this.pageSize*this.pageSize&&delete s.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete s.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(i().bind(this._requestDataDeferred,this,e,s,r),this.serialRequestsDelay)):this._requestDataDeferred(e,s,r)},_requestDataDeferred:function(e,t,r){this._getPagesToLoad(e)?this.serialRequestsDelayedPromise&&i().isEqual(t,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(r.resolve).fail(r.reject):(this.serialRequestsDelayedPromise={promise:r.promise(),query:t},this.request(t).done(i().bind(this._requestDone,this,e,t,r)).fail(r.reject)):this._resolveDeferredUsingDataFromCache(r,e)},_requestDone:function(e,t,r,a){this._putDataToCache(t,a),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(r,e)},_resolveDeferredUsingDataFromCache:function(e,t){var r=this._getDataFromCache(t);e.resolve({total:this.dataCacheTotal,data:r})},_getPagesToLoad:function(e){var t,r=this._convertLimitOffsetToFirstLast(e),a=this._findPageIndex(r.first),i=this._findPageIndex(r.last),s=[];for(t=a;t<=i;t++)if(!this.dataCachePages[t]){s.push(t);break}for(t=i;t>=a;t--)if(!this.dataCachePages[t]){s.push(t);break}return s.length>0?s:null},_findPageIndex:function(e){return Math.floor(e/this.pageSize)},_convertLimitOffsetToFirstLast:function(e){var t=e&&e.offset?e.offset:0,r=e&&e.limit?t+e.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:n;return this.dataCacheTotal&&r>this.dataCacheTotal-1&&(r=this.dataCacheTotal-1),{first:t,last:r}},_getDataFromCache:function(e){e=i().defaults(e,{offset:0,limit:n});var t=Math.max(0,e.offset),r=Math.min(t+e.limit,this.dataCacheTotal);return this.dataCache.slice(t,r)},_putDataToCache:function(e,t){var r;for(void 0!==t.total&&(this.dataCacheTotal=t.total),e.limit=e.limit||n,r=0;r<t.data.length;r++)this.dataCache[r+e.offset]=this.dataConverter?this.dataConverter(t.data[r]):t.data[r];var a=e.offset/this.pageSize,i=Math.floor((Math.min(e.limit,t.data.length)+e.offset-1)/this.pageSize);for(r=a;r<=i;r++)this.dataCachePages[r]=!0},_getDataByCriteria:function(e){if(!this.getDataByCriteriaHolder[e]){var t,r=Number.MAX_VALUE,a=0,i=0;for(var s in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(s)){i+=1;var o=this.getDataByCriteriaHolder[s];o.index<r&&(r=o.index,t=s),o.index>a&&(a=o.index)}i>=this.maxSearchCacheSize&&(delete this.getDataByCriteriaHolder[t],this.criteriaValuesCache=[]),this.getDataByCriteriaHolder[e]={getData:this._createDataProviderForCriteria(e),index:a+1},this.criteriaValuesCache.push(e)}return this.lastCriteria=e,this.getDataByCriteriaHolder[e].getData},_createDataProviderForCriteria:function(e){var t=this.request,r=this,a=new h({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(a){var s=i().extend({},a);return s[r.criteriaKey]=e,t(s)}}),s=a.getData;return a.getData=function(e){var t=i().extend({},e);return delete t[r.criteriaKey],s.call(a,t)},a.getData}});const l=h},81180:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(97836),i=r.n(a),s=r(15892);const o={100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"},n="unexpected.error";var h=r.n(s)().Model.extend({initialize:function(){this.on("error",h.unifyServerErrors)},serialize:function(){return i().clone(this.attributes)}},{unifyServerErrors:function(e,t){var r=o[t.status],a=h.createServerError(t);e.trigger("error:"+r,e,a,t),e.trigger("error:all",e,a,t)},createServerError:function(e){var t;try{t=JSON.parse(e.responseText)}catch(e){t={message:"Can't parse server response",errorCode:n,parameters:[]}}return t}});const l=h},92772:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var a=r(97836),i=r.n(a),s=function(e){function t(e){return"."===e?e="\\.":" "===e&&(e="\\s"),e}e=e||{},this.DECIMAL_SEPARATOR=e.decimalSeparator||".",this.GROUPING_SEPARATOR=e.groupingSeparator||",",this.decimalSeparator=t(this.DECIMAL_SEPARATOR),this.groupingSeparator=t(this.GROUPING_SEPARATOR),this.DECIMAL_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*("+this.decimalSeparator+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+this.decimalSeparator+"[0-9]+)?|0("+this.decimalSeparator+"[0-9]+)?)$"),this.INTEGER_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$")},o=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER+1:9007199254740992,n=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER-1:-9007199254740992;s.prototype.number_format=function(e,t,r,a){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i,s,o,n=isFinite(+e)?+e:0,h=isFinite(+t)?Math.abs(t):0,l=void 0===a?",":a,u=void 0===r?".":r,c=(h?(i=n,s=h,o=Math.pow(10,s),""+(Math.round(i*o)/o).toFixed(s)):""+Math.round(n)).split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(c[1]||"").length<h&&(c[1]=c[1]||"",c[1]+=new Array(h-c[1].length+1).join("0")),c.join(u)},s.prototype.isInt=function(e){return this.isNumberInt(e)||this.isStringInt(e)},s.prototype.isNumberInt=function(e){return i().isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&(e===+e&&e===(0|e)||e%1==0)},s.prototype.isStringInt=function(e){return i().isString(e)&&this.INTEGER_NUMBER_PATTERN.test(e)},s.prototype.isInt32=function(e){return this.isInt(e)&&this.parseNumber(e)>=-2147483648&&this.parseNumber(e)<=2147483647},s.prototype.isDecimal=function(e){return i().isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY||i().isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)},s.prototype.parseNumber=function(e){if(i().isNumber(e))return e;if(i().isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)){var t=1*(e=e.replace(new RegExp(this.groupingSeparator,"g"),"").replace(new RegExp(this.decimalSeparator,"g"),"."));return t>=o||t<=n?(window.console&&window.console.warn(e+" is out of the ["+(n+1)+", "+(o-1)+"] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):t}},s.prototype.formatNumber=function(e,t){t=t||{};var r=e.toString().split(".")[1],a=r?r.length:0;i().isUndefined(t.decimalPlacesAmount)||(a=t.decimalPlacesAmount);try{return this.number_format(e,a,t.decimalSeparator||this.DECIMAL_SEPARATOR,t.groupingSeparator||this.GROUPING_SEPARATOR)}catch(t){return e.toString()}},s.prototype.MaxRange=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER+1:9007199254740992,s.prototype.MinRange=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER-1:-9007199254740992;const h=s}}]);
//# sourceMappingURL=chunk.6979.js.map