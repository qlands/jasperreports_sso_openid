{"version":3,"sources":["webpack://jrs-ui/./src/actionModel/actionModel.json.property.js","webpack://jrs-ui/./src/actionModel/actionModel.modelGenerator.js","webpack://jrs-ui/./src/actionModel/actionModel.primaryNavigation.js","webpack://jrs-ui/./src/core/core.buttonManager.js"],"names":["JSON","actionModel","replaceNbsps","str","re","RegExp","replace","getMenuMouseupFunction","actionFunction","argsToInvokeWith","label","id","event","args","resolveReservedStringsInArray","funcString","belongsToLocalContext","func","toFunction","_","apply","window","localContext","fireMenuActionWithEvent","getAsFunction","evaluateTest","thisFunctionName","functionArgs","testForNegative","defaultResult","result","theFunction","this","oldArray","ev","collect","thisString","RES_SELECTED","selObjects","RES_LABEL","RES_ID","EVENT","resolveReservedStrings","getRandomId","Math","round","random","SIMPLE_ACTION","SELECT_ACTION","INPUT_ACTION","OPTION_ACTION","SEPARATOR","SINGLE_SELECT_CONSTRAINT","HIGH_Z_INDEX","lastItemWasSeparator","noItemsYet","data","openedSubMenus","parentMenu","menuDom","menuListDom","PARENT_MENU_CONTAINER","PARENT_MENU_STYLE","SIMPLE_ACTION_DOM_ID","SEPARATOR_DOM_ID","FLYOUT_PARENT_DOM_ID","EXTRA_INPUT_DOM_ID","LIST_ITEM_DOM_ID","DISPLAY_STYLE","DROP_DOWN_MENU_CLASS","MOUSE_OUT_PATTERNS","layoutModule","showDynamicMenu","menuContext","className","coordinates","actionModelScriptTag","updateContextActionModel","isProVersion","selectionObj","designerBase","getSelectedObject","menuLevel","resetMenu","updateCSSClass","initActionModelData","assembleMenuFromActionModel","setMenuPosition","setMenuEventHandlers","isIE","jQuery","prepend","makeMenuVisible","adjustMenuPosition","type","join","on","closeHandler","target","relatedTarget","hasClass","parents","length","attr","trigger","hideMenu","navtype","indexOf","dom","parentId","undefined","setAttribute","childElements","each","child","Element","remove","html","clone","menuList","down","menuListId","readAttribute","writeAttribute","updateTemplateId","getAttribute","lastInputSrc","templateId","isNotNullORUndefined","menuObj","location","leftOffset","topOffset","isSupportsTouch","changedTouches","x","pageX","y","pageY","Event","pointer","menuLeft","menuTop","setStyle","menu","left","top","width","height","fitObjectIntoScreen","contentParent","contextActionModel","thisAction","appendToMenu","removeTrailingSeparator","scriptTag","actionModelJson","passesClientTest","mouseUpFunction","action","actionArgs","text","appendDesiredRowType","mouseUpFunctionWithMenuHiding","isMenuShowing","addSimpleActionRow","addSeparatorRows","addSelector","addOption","newMenuRow","ontouchend","onmouseup","onmouseup_saved","textPlacement","newText","document","createTextNode","nodeValue","appendChild","menuId","insertMenuRow","isDisabled","cssOverride","separator","separatorId","newOptionRow","button","String","toLowerCase","newOptionRowId","isSelectedTest","isSelectedTestArgs","addClass","parentSelector","children","parentSelectorId","submenu","submenuList","submenuListId","subMenuContainer","select","subMenuContainerId","buildSubMenu","childAction","getSubMenuLeft","selectorObj","eq","clientWidth","abs","parseInt","offsetLeft","getSubMenuTop","offsetTop","showChildSubmenu","parent","i","j","pid","parentNode","f","hideChildSubmenu","get","splice","submenuTop","submenuHeight","submenuWidth","display","position","leftValue","topValue","cumulativeOffset","getHeight","windowHeight","getWindowHeight","submenuBottom","submenuLeftOffset","getWidth","getWindowWidth","push","makeMenuInVisible","zIndex","removeClass","getStyle","updateRowDom","domObject","actionText","domObjectId","launchNewMenu","alert","container","isSeparator","userId","identify","disableMenuOption","menuOption","buttonManager","childNodes","clientTestFunction","clientTest","startsWith","sub","clientTestArgs","selected","selectionConstraint","lastRow","lastChild","lastRowId","test","getMenuParent","getFirstMenuButton","focusMenu","jQMenuDom","activeElement","lastFocused","jQChildItems","find","focus","showDropDownMenu","object","context","cssClass","aModel","offsets","offset","observe","firstCall","initializeOneTimeMenuHandlers","setTimeout","nextFocus","ex","off","createMenuElement","options","Error","Object","extend","setSelected","primaryNavModule","NAVIGATION_MENU_CLASS","ACTION_MODEL_TAG","CONTEXT_POSTFIX","NAVIGATION_MUTTON_DOM_ID","NAVIGATION_MENU_PARENT_DOM_ID","navigationPaths","browse","url","params","home","library","logOut","search","favorites","report","jobs","olap","adminHome","organization","etl","mondrianProperties","flush","user","role","analysisOptions","designerOptions","designerCache","awsSettings","designer","dashboard","legacyDashboard","domain","dataSource","encodeURIComponent","logSettings","adminConsole","createReport","bodyIds","globalActions","bodyId","initializeNavigation","navKey","navId","navObject","exec","createMutton","leaf","domId","mutton","append","navigationMenuParent","showNavButtonMenu","elementId","isNavButton","setNewLocation","place","locObj","queryParams","destination","__jrsConfigs__","submitMe","getElementById","createElement","method","submit","href","e","navigationOption","option","body","execFunction","answer","executableFunction","onMenuHeaderMouseOver","over","element","findTargetFn","isSelected","out","up","isIPad","disable","enable","unSelect","tagetListItem"],"mappings":"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","file":"_chunks/chunk.2335.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar actionModelJson = {\n    JSON: null\n};\n\nexport default actionModelJson;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @author Angus Croll, Papanii Okai\n * @version: $Id$\n */\n/* global alert*/\n/**\n * ActionModel Object Originally written by Angus Croll.\n * Refactored for VFR project by Papanii Okai (a.k.a The Code Pimp)\n */\n\nimport _ from 'underscore';\nimport {\n    isIE,\n    isNotNullORUndefined,\n    isSupportsTouch,\n    fitObjectIntoScreen,\n    getAsFunction,\n    getWindowHeight,\n    getWindowWidth,\n    toFunction\n} from '../util/utils.common';\nimport buttonManager from '../core/core.buttonManager';\nimport actionModelJson from './actionModel.json.property'\nimport layoutModule from '../core/core.layout';\nimport {isProVersion} from \"../namespace/namespace\";\nimport jQuery from 'jquery';\n\nvar actionModel = {};    //action constants\n//action constants\nactionModel.SIMPLE_ACTION = 'simpleAction';\nactionModel.SELECT_ACTION = 'selectAction';\nactionModel.INPUT_ACTION = 'inputAction';\nactionModel.OPTION_ACTION = 'optionAction';\nactionModel.SEPARATOR = 'separator';\nactionModel.SINGLE_SELECT_CONSTRAINT = 'singleSelect';\nactionModel.HIGH_Z_INDEX = 99999;    //reserved variables\n//reserved variables\nactionModel.RES_LABEL = '$label';\nactionModel.RES_ID = '$id';\nactionModel.RES_SELECTED = '$selected';\nactionModel.EVENT = '$event';\nactionModel.selObjects = [];\nactionModel.lastItemWasSeparator = false;\nactionModel.noItemsYet = true;\nactionModel.data = null;\nactionModel.openedSubMenus = [];\nactionModel.parentMenu = '';\nactionModel.menuDom = null;\nactionModel.menuListDom = null;\nactionModel.PARENT_MENU_CONTAINER = 'menuList';\nactionModel.PARENT_MENU_STYLE = 'menu vertical context hidden';\nactionModel.SIMPLE_ACTION_DOM_ID = 'menuList_simpleAction';\nactionModel.SEPARATOR_DOM_ID = 'menuList_separator';\nactionModel.FLYOUT_PARENT_DOM_ID = 'menuList_flyout';\nactionModel.EXTRA_INPUT_DOM_ID = 'menuList_extraInput';\nactionModel.LIST_ITEM_DOM_ID = 'menuList_listItem';\nactionModel.DISPLAY_STYLE = 'inline';    //patterns\n//patterns\nactionModel.DROP_DOWN_MENU_CLASS = 'dropDown';\nactionModel.MOUSE_OUT_PATTERNS = [\n    '#' + layoutModule.MENU_ID,\n    '.' + layoutModule.MENU_ROOT_CLASS,\n    '.toolbar .capsule',\n    '.header > .button.mutton',\n    '#' + layoutModule.MENU_ID + ' *',\n    layoutModule.MENU_ROOT_CLASS + ' *'\n];    ////////////////////////////////////////////////////////////////////\n// Menu building\n////////////////////////////////////////////////////////////////////\n/*\n * Used to present the context menu to the user.\n * @param menuContext\n * @param event the event tied to the menu.\n * @param className class name a caller may wish to use instead of the default.\n * @param coordinates used for menu positioning.\n * @actionModelScriptTag\n * @updateContextActionModel - optional method which can update context action model\n */\n////////////////////////////////////////////////////////////////////\n// Menu building\n////////////////////////////////////////////////////////////////////\n/*\n * Used to present the context menu to the user.\n * @param menuContext\n * @param event the event tied to the menu.\n * @param className class name a caller may wish to use instead of the default.\n * @param coordinates used for menu positioning.\n * @actionModelScriptTag\n * @updateContextActionModel - optional method which can update context action model\n */\nactionModel.showDynamicMenu = function (menuContext, event, className, coordinates, actionModelScriptTag, updateContextActionModel) {\n    if (menuContext == null) {\n        if (isProVersion()) {\n            var selectionObj = window.designerBase.getSelectedObject();\n            if (selectionObj && selectionObj.menuLevel) {\n                menuContext = selectionObj.menuLevel;\n            } else {\n                return;    //no context - nothing to show\n            }\n        } else {\n            return;\n        }\n    }\n\n    actionModel.resetMenu(menuContext);\n    actionModel.updateCSSClass(className);\n    actionModel.initActionModelData(actionModelScriptTag);\n    actionModel.assembleMenuFromActionModel(menuContext, event, actionModel.menuListDom, updateContextActionModel);\n    actionModel.setMenuPosition(actionModel.menuDom, event, coordinates);\n    actionModel.setMenuEventHandlers(actionModel.menuDom, menuContext);\n    if (isIE()) {\n        jQuery('#' + actionModel.menuDom.id).prepend('<div class=\"msshadow\"></div>');\n    }\n    actionModel.makeMenuVisible(actionModel.menuDom);\n    actionModel.adjustMenuPosition(actionModel.menuDom,menuContext);\n    //actionModel.focusMenu();\n    if(event && event.type !== 'click' && menuContext !==\"folder_mutton\") {  // avoid attaching the mouseout close handler if menu is opened by mouse click\n        jQuery(actionModel.MOUSE_OUT_PATTERNS.join(',')).on('mouseout', actionModel.closeHandler);\n    }\n};\nactionModel.closeHandler = function (event) {\n    var target = jQuery(event.relatedTarget);\n    if (!((jQuery(target).hasClass('mutton') || target.parents('.mutton').length) && event.relatedTarget || (target.attr('id') === 'menu' || target.parents('#menu').length))) {\n        jQuery('body').trigger('actionmodel-mouseout');\n        actionModel.hideMenu();\n    }\n};    /*\n * Hide any menus created by the action model.\n * This means removing all child nodes and setting it back to default state.\n */\n/*\n * Hide any menus created by the action model.\n * This means removing all child nodes and setting it back to default state.\n */\nactionModel.resetMenu = function (menuContext) {\n    var navtype = menuContext.indexOf(\"toolbar\")>-1 ? \"toolbar\" : \"actionmenu\";\n    var dom = jQuery('#menu')[0];\n    dom.parentId = undefined;\n    dom.setAttribute('tabIndex', -1);\n    dom.setAttribute(\"js-navtype\",navtype);\n    dom.childElements().each(function (child) {\n        Element.remove(child);\n    });    //add common template\n    //add common template\n    jQuery(dom).html(jQuery(jQuery('#commonMenu').clone(true)).html());\n    var menuList = dom.down('ul');\n    var menuListId = menuList.readAttribute('id');\n    menuList.writeAttribute('id', actionModel.updateTemplateId(menuListId));    //remove any generated styles.\n    menuList.writeAttribute(\"js-navtype\", dom.getAttribute(\"js-navtype\"));\n    //remove any generated styles.\n    dom.className = actionModel.PARENT_MENU_STYLE;\n    dom.writeAttribute('style', '');\n    actionModel.menuDom = dom;\n    actionModel.menuListDom = menuList;    // One of: [\"none\",\"keyboard\",\"mouse\",\"touch\",\"automation\"].\n    // One of: [\"none\",\"keyboard\",\"mouse\",\"touch\",\"automation\"].\n    actionModel.lastInputSrc = 'none';\n};    /**\n * Used to update a template's id\n */\n/**\n * Used to update a template's id\n */\nactionModel.updateTemplateId = function (templateId) {\n    var re = new RegExp('_template');\n    return templateId.replace(re, '');\n};    /*\n * Method used to update the menu's css className\n * @param className\n */\n/*\n * Method used to update the menu's css className\n * @param className\n */\nactionModel.updateCSSClass = function (className) {\n    if (isNotNullORUndefined(className)) {\n        jQuery(actionModel.menuDom)[0].className = className + ' hidden';\n    }\n};    /*\n *  Determine position of menu based on mouse position..\n * @param event\n */\n/*\n *  Determine position of menu based on mouse position..\n * @param event\n */\nactionModel.setMenuPosition = function (menuObj, event, coordinates) {\n    var ev = event ? event : window.event, location;\n    if (ev) {\n        if (isSupportsTouch() && ev.changedTouches) {\n            // Touch-initiated.\n            location = {\n                x: ev.changedTouches[0].pageX + 20,\n                y: ev.changedTouches[0].pageY\n            };\n        } else {\n            // Mouse-initiated.\n            location = Event.pointer(ev);\n        }\n    } else {\n        // Keyboard-initiated.\n        location = {\n            x: 0,\n            y: 0\n        };\n    }\n    var leftOffset;\n    var topOffset;    //if coordinates are provided, override.\n    //if coordinates are provided, override.\n    if (isNotNullORUndefined(coordinates)) {\n        if (isNotNullORUndefined(coordinates.menuLeft)) {\n            leftOffset = coordinates.menuLeft;\n        } else {\n            leftOffset = location.x;\n        }\n        if (isNotNullORUndefined(coordinates.menuTop)) {\n            topOffset = coordinates.menuTop;\n        } else {\n            topOffset = location.y;\n        }\n    } else {\n        leftOffset = location.x;\n        topOffset = location.y;\n    }    //set top left to the mouse click\n    //set top left to the mouse click\n    menuObj.setStyle({\n        'left': leftOffset + 'px',\n        'top': topOffset + 'px'\n    });\n};\nactionModel.adjustMenuPosition = function (menu, left, top, width, height) {\n    if (!jQuery(menu).hasClass(this.DROP_DOWN_MENU_CLASS) || jQuery(menu).hasClass('fitable')) {\n        fitObjectIntoScreen(menu, null, top, null, height);\n    }\n};    /*\n * construct the menu dynamically based on the client side action model\n * @param menuContext\n * @param event\n * @updateContextActionModel - optional method which can update context action model\n */\n/*\n * construct the menu dynamically based on the client side action model\n * @param menuContext\n * @param event\n * @updateContextActionModel - optional method which can update context action model\n */\nactionModel.assembleMenuFromActionModel = function (menuContext, event, contentParent, updateContextActionModel) {\n    actionModel.noItemsYet = true;\n    var contextActionModel = actionModel.data && actionModel.data[menuContext];    //In this place we can update action model for specified context on the fly.\n    //This is necessary to have ability to construct fully dynamic menus which items can be calculated only\n    //right before showing menu\n    //In this place we can update action model for specified context on the fly.\n    //This is necessary to have ability to construct fully dynamic menus which items can be calculated only\n    //right before showing menu\n    if (updateContextActionModel) {\n        contextActionModel = updateContextActionModel(menuContext, contextActionModel);\n    }\n    contextActionModel && contextActionModel.each(function (thisAction) {\n        actionModel.appendToMenu(thisAction, event, contentParent);\n    });\n    actionModel.removeTrailingSeparator();\n};    /*\n * Initialize Action Model data with the JSON evaluated from the given element or directly from object.\n *\n * @param scriptTag Script holder identifier or simple object representing data.\n */\n/*\n * Initialize Action Model data with the JSON evaluated from the given element or directly from object.\n *\n * @param scriptTag Script holder identifier or simple object representing data.\n */\nactionModel.initActionModelData = function (scriptTag) {\n    if (scriptTag === 'navigationActionModel') {\n        actionModel.data = actionModelJson.JSON;\n    } else {\n        actionModel.data = _.isString(scriptTag) ? jQuery.parseJSON(jQuery('#' + scriptTag).html()) : scriptTag;\n    }\n};    /*\n * Helper method used in the construction of the menu\n * @param thisAction\n * @param event\n */\n/*\n * Helper method used in the construction of the menu\n * @param thisAction\n * @param event\n */\nactionModel.appendToMenu = function (thisAction, event, contentParent) {\n    if (!actionModel.passesClientTest(thisAction)) {\n        return;    //does not satisfy client-side condition to appear in this menu\n    }\n    var mouseUpFunction = getMenuMouseupFunction(getAsFunction(thisAction.action), thisAction.actionArgs, thisAction.text, thisAction.id, event);\n    actionModel.appendDesiredRowType(thisAction, event, mouseUpFunction, contentParent);\n};    /*\n * Append desired row type to menu\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n * @param event\n */\n/*\n * Append desired row type to menu\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n * @param event\n */\nactionModel.appendDesiredRowType = function (thisAction, event, mouseUpFunction, contentParent) {\n    var mouseUpFunctionWithMenuHiding = function () {\n        if (actionModel.isMenuShowing()) {\n            actionModel.hideMenu();\n        }\n        mouseUpFunction && mouseUpFunction();\n    };    //add new <li> element\n    //add new <li> element\n    if (thisAction.type == actionModel.SIMPLE_ACTION) {\n        actionModel.addSimpleActionRow(thisAction, mouseUpFunctionWithMenuHiding, contentParent);\n    }    //add new <li> separator\n    //add new <li> separator\n    if (thisAction.type == actionModel.SEPARATOR && !actionModel.lastItemWasSeparator) {\n        actionModel.addSeparatorRows(thisAction, contentParent);\n    }    //add new <li> flyout or new window?\n    //add new <li> flyout or new window?\n    if (thisAction.type == actionModel.SELECT_ACTION) {\n        actionModel.addSelector(thisAction, contentParent, event);\n    }    //add new <li> option\n    //add new <li> option\n    if (thisAction.type == actionModel.OPTION_ACTION) {\n        actionModel.addOption(thisAction, mouseUpFunctionWithMenuHiding, contentParent);\n    }\n};    /*\n * Add a simple action row to the menu\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n */\n/*\n * Add a simple action row to the menu\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n */\nactionModel.addSimpleActionRow = function (thisAction, mouseUpFunction, contentParent) {\n    var newMenuRow = null;\n    if (thisAction.className && thisAction.className == 'requiresInput') {\n        newMenuRow = jQuery('#' + actionModel.EXTRA_INPUT_DOM_ID)[0].clone(true);\n    } else {\n        newMenuRow = jQuery('#' + actionModel.SIMPLE_ACTION_DOM_ID)[0].clone(true);\n    }\n    if (isSupportsTouch()) {\n        newMenuRow.ontouchend = mouseUpFunction;\n    } else {\n        newMenuRow.onmouseup = mouseUpFunction;\n    }\n    newMenuRow.onmouseup_saved = mouseUpFunction;\n    var textPlacement = jQuery(newMenuRow)[0].down('.button');\n    var newText = document.createTextNode(thisAction.text);\n    newText.nodeValue = replaceNbsps(newText.nodeValue);\n    textPlacement.appendChild(newText);    //set new id to make it unique.\n    //set new id to make it unique.\n    var menuId = newMenuRow.readAttribute('id') + getRandomId();\n    newMenuRow.writeAttribute('id', menuId);\n    actionModel.insertMenuRow(contentParent, newMenuRow, false, thisAction.isDisabled, thisAction.id, null);\n};    /*\n * Add a separator row to the menu\n * @param thisAction\n * @param contentParent\n */\n/*\n * Add a separator row to the menu\n * @param thisAction\n * @param contentParent\n */\nactionModel.addSeparatorRows = function (thisAction, contentParent) {\n    var cssOverride = null;\n    if (actionModel.noItemsYet) {\n        return;    //don't need separator at very top;\n    }\n    var separator = jQuery('#' + actionModel.SEPARATOR_DOM_ID)[0].clone(true);\n    var separatorId = separator.readAttribute('id') + getRandomId();\n    separator.writeAttribute('id', separatorId);\n    if (thisAction.className) {\n        cssOverride = thisAction.className;\n    }\n    actionModel.insertMenuRow(contentParent, separator, true, thisAction.isDisabled, null, cssOverride);\n};    /*\n * Used to add a option\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n */\n/*\n * Used to add a option\n * @param thisAction\n * @param mouseUpFunction\n * @param contentParent\n */\nactionModel.addOption = function (thisAction, mouseUpFunction, contentParent) {\n    if (!actionModel.passesClientTest(thisAction)) {\n        return;    //does not satisfy client-side condition to appear in this menu\n    }\n    var cssOverride = null;\n    var newOptionRow = jQuery('#' + actionModel.LIST_ITEM_DOM_ID)[0].clone(true);\n    thisAction.button = thisAction.button && String(thisAction.button).toLowerCase() == 'true' ? true : false;\n    if (isSupportsTouch()) {\n        newOptionRow.ontouchend = mouseUpFunction;\n    } else {\n        newOptionRow.onmouseup = mouseUpFunction;\n    }\n    newOptionRow.onmouseup_saved = mouseUpFunction;\n    var textPlacement = jQuery(newOptionRow)[0].down('.button');\n    var newText = document.createTextNode(thisAction.text);\n    newText.nodeValue = replaceNbsps(newText.nodeValue);\n    textPlacement.appendChild(newText);\n    var newOptionRowId = newOptionRow.readAttribute('id') + getRandomId();\n    newOptionRow.writeAttribute('id', newOptionRowId);    //update dom id\n    //update dom id\n    if (thisAction.className) {\n        cssOverride = thisAction.className;\n    }\n    if (!thisAction.button && evaluateTest(thisAction.isSelectedTest, thisAction.isSelectedTestArgs, thisAction.text, thisAction.id, false, false)) {\n        jQuery(textPlacement).addClass('down');\n    }\n    actionModel.insertMenuRow(contentParent, newOptionRow, false, thisAction.isDisabled, thisAction.id, cssOverride);\n};    /*\n * Creates selector row and all sub menus related to that row\n * @param thisAction\n * @param contentParent\n * @param event\n */\n/*\n * Creates selector row and all sub menus related to that row\n * @param thisAction\n * @param contentParent\n * @param event\n */\nactionModel.addSelector = function (thisAction, contentParent, event) {\n    //since in the action model we specify the type of menu using the class nomenclature, we can check what\n    //type of selector we want by simply checking the class in the action object\n    var parentSelector;\n    var className = thisAction.className;\n    if (className == 'flyout') {\n        //do not render flyout list item if no submenu items exist\n        if (thisAction && thisAction.children.length > 0) {\n            parentSelector =  jQuery('#' + actionModel.FLYOUT_PARENT_DOM_ID).clone(true);\n            var textPlacement = parentSelector[0].down('.button');\n            var newText = document.createTextNode(thisAction.text);\n            newText.nodeValue = replaceNbsps(newText.nodeValue);\n            textPlacement.appendChild(newText);\n            var parentSelectorId = parentSelector.attr('id') + getRandomId();\n            parentSelector.attr('id', parentSelectorId);\n            actionModel.insertMenuRow(contentParent, parentSelector[0], false, thisAction.isDisabled, thisAction.id, null);    //now create submenu\n            //now create submenu\n            var submenu = actionModel.menuDom.clone(false);\n            submenu.writeAttribute('id', parentSelector.attr('id') + '_subMenu');    //add common template\n            //add common template\n            jQuery(submenu).html(jQuery(jQuery('#commonMenu')[0].clone(true)).html());\n            var submenuList = submenu.down('ul');\n            var submenuListId = submenuList.readAttribute('id');\n            submenuList.writeAttribute('id', actionModel.updateTemplateId(submenuListId));    //get containers width.\n            //get containers width.\n            parentSelector[0].appendChild(submenu);\n            var subMenuContainer = submenu.select('ul')[0];\n            var subMenuContainerId = subMenuContainer.writeAttribute('id', subMenuContainer.readAttribute('id') + '_subMenu');\n            actionModel.buildSubMenu(thisAction, subMenuContainerId, event);\n        }\n    } else {\n        thisAction.children.each(function (childAction) {\n            var mouseUpFunction = getMenuMouseupFunction(getAsFunction(childAction.action), childAction.actionArgs, childAction.text, childAction.id, event);\n            actionModel.appendDesiredRowType(childAction, event, mouseUpFunction, contentParent);\n        });\n    }\n};    /*\n * This method gets the left value for a submenu. It calculates if by getting the with of the parents content and adds\n * the parents left value to it since all menu objects are absolute.\n * @param selectorObj\n */\n/*\n * This method gets the left value for a submenu. It calculates if by getting the with of the parents content and adds\n * the parents left value to it since all menu objects are absolute.\n * @param selectorObj\n */\nactionModel.getSubMenuLeft = function (selectorObj) {\n    //<div menu>\n    var width = jQuery(selectorObj).parents().eq(2)[0].clientWidth;  //width of parent window\n    //width of parent window\n    var leftOffSet = Math.abs(parseInt(jQuery(selectorObj).parents().eq(1)[0].offsetLeft));    //offset\n    //offset\n    return width + leftOffSet;\n};\nactionModel.getSubMenuTop = function (selectorObj) {\n    return Math.abs(parseInt(jQuery('#' + selectorObj)[0].offsetTop));    //offset\n};    /*\n * Used to position the submenu with respect to its parent.\n * @param parent\n */\n/*\n * Used to position the submenu with respect to its parent.\n * @param parent\n */\nactionModel.showChildSubmenu = function (parent) {\n    var pid = parent.parentNode.parentNode.parentNode.id;    /*\n     * Hides submenus previously open\n     */\n    /*\n     * Hides submenus previously open\n     */\n    var i;\n    var j;\n    var f = false;\n    for (i = 0; i < actionModel.openedSubMenus.length; i++) {\n        if (actionModel.openedSubMenus[i] == pid) {\n            j = i;\n            f = true;\n            jQuery('#' + pid + '>div.content>ul').children('li.node').each(function () {\n                actionModel.hideChildSubmenu(jQuery(this).get(0));\n            });\n        }\n        if (f) {\n            jQuery('#' + actionModel.openedSubMenus[i] + '>div.content>ul').children('li.node').each(function () {\n                actionModel.hideChildSubmenu(jQuery(this).get(0));\n            });\n        }\n    }\n    actionModel.openedSubMenus.splice(j, actionModel.openedSubMenus.length - j);\n    var submenuTop = null;\n    var submenuHeight = null;\n    var submenuWidth = null;\n    var bottomPadding = 20;    //hack to prevent  bug20863\n    //hack to prevent  bug20863\n    var submenu = parent.childElements()[1];    //applying style for flyout submenu....\n    //applying style for flyout submenu....\n    if(submenu) {\n        submenu.setStyle({display: actionModel.DISPLAY_STYLE});\n        submenu.setStyle({position: 'absolute'});\n        var leftValue = actionModel.getSubMenuLeft(parent);\n        var topValue = 0;    //    var topValue = actionModel.getSubMenuTop(parent) + \"px\";\n        //set top left to the mouse click\n        //    var topValue = actionModel.getSubMenuTop(parent) + \"px\";\n        //set top left to the mouse click\n        submenu.setStyle({\n            'left': leftValue + 'px',\n            'top': topValue + 'px'\n        });\n        if (isIE()) {\n            jQuery(submenu).prepend('<div class=\"msshadow\"></div>');\n        }\n        actionModel.makeMenuVisible(submenu);\n        submenuTop = jQuery(submenu)[0].cumulativeOffset()[1];\n        submenuHeight = jQuery(submenu)[0].getHeight();    //hack to prevent  bug20863  (Due to Tim's markup change)\n        //hack to prevent  bug20863  (Due to Tim's markup change)\n        var windowHeight = getWindowHeight();\n        var submenuBottom = submenuTop + submenuHeight;\n        if (windowHeight < submenuBottom) {\n            topValue = windowHeight - submenuBottom - bottomPadding;\n            submenu.setStyle({'top': topValue + 'px'});\n        }\n        var submenuLeftOffset = submenu.cumulativeOffset()[0];\n        submenuWidth = submenu.getWidth();\n        if (getWindowWidth() < submenuLeftOffset + submenuWidth) {\n            submenu.setStyle({'left': '-' + submenuWidth + 'px'});\n        }\n        actionModel.openedSubMenus.push(pid);\n    }\n};    /*\n * Used to hide submenu\n * @param parent\n */\n/*\n * Used to hide submenu\n * @param parent\n */\nactionModel.hideChildSubmenu = function (parent) {\n    var submenu = parent.childElements()[1];\n    submenu.setStyle({ display: 'none' });\n    submenu.setStyle({ position: 'absolute' });\n    submenu.setStyle({ left: 0 });\n    actionModel.makeMenuInVisible(jQuery(submenu)[0]);\n};    /*\n * Used to change the css display value to make it visible.\n * @param menu object we changing the display style for.\n */\n/*\n * Used to change the css display value to make it visible.\n * @param menu object we changing the display style for.\n */\nactionModel.makeMenuVisible = function (menu) {\n    //test to see if we have any items to show\n    var list = menu.down('ul');\n    if (list.childElements().length > 0) {\n        menu.setStyle({ zIndex: actionModel.HIGH_Z_INDEX });\n        jQuery(menu).removeClass('hidden');\n    }\n};    /*\n * Used to change the css display value to make it invisible\n * @param menu object we changing the display style f   or.\n */\n/*\n * Used to change the css display value to make it invisible\n * @param menu object we changing the display style for.\n */\nactionModel.makeMenuInVisible = function (menu) {\n    jQuery(menu).addClass('hidden');\n};    /*\n * Used to build a the logical structure for a flyout menu\n * @param thisAction\n * @param parentId\n * @param event\n */\n/*\n * Used to build a the logical structure for a flyout menu\n * @param thisAction\n * @param parentId\n * @param event\n */\nactionModel.buildSubMenu = function (thisAction, parentId, event) {\n    thisAction.children.each(function (childAction) {\n        actionModel.appendToMenu(childAction, event, jQuery(parentId)[0]);\n    });\n};\nactionModel.isMenuShowing = function () {\n    return !(jQuery('#menu')[0].getStyle('display') == 'none' || jQuery('#menu').hasClass('hidden'));\n};    /*\n * Helper method to update row object\n * @param domObject\n * @param actionText\n */\n/*\n * Helper method to update row object\n * @param domObject\n * @param actionText\n */\nactionModel.updateRowDom = function (domObject, actionText) {\n    if (domObject) {\n        jQuery(domObject).html(actionText);\n        var domObjectId = domObject.readAttribute('id') + getRandomId();\n        domObject.writeAttribute('id', domObjectId);\n    }\n    return domObject;\n};    /**\n * Used to launch new menu (E.g. Calculated fields.)\n */\n/**\n * Used to launch new menu (E.g. Calculated fields.)\n */\nactionModel.launchNewMenu = function () {\n    actionModel.hideMenu();\n    alert('action not implemented...');\n};    /*\n * Helper to insert row in to menu\n * @param container\n * @param newMenuRow\n * @param isSeparator\n * @param isDisabled\n * @param userId\n */\n/*\n * Helper to insert row in to menu\n * @param container\n * @param newMenuRow\n * @param isSeparator\n * @param isDisabled\n * @param userId\n */\nactionModel.insertMenuRow = function (container, newMenuRow, isSeparator, isDisabled, userId, className) {\n    //check to see if item has a id, if not set one..\n    if (newMenuRow.readAttribute('id') == null) {\n        if (userId) {\n            newMenuRow.setAttribute('id', userId);\n        } else {\n            newMenuRow.identify();    //sets unique id\n        }\n    }\n    if (isDisabled) {\n        actionModel.disableMenuOption(newMenuRow);\n    }\n    if (className) {\n        jQuery(newMenuRow).addClass(className);\n    }\n\n    newMenuRow.setAttribute('js-navtype',container.getAttribute('js-navtype'));\n\n    container.appendChild(newMenuRow);\n    actionModel.lastItemWasSeparator = isSeparator;\n    actionModel.noItemsYet = false;\n};\nactionModel.disableMenuOption = function (menuOption) {\n    buttonManager.disable(menuOption);\n    _.isEmpty(menuOption.childNodes) && buttonManager.disable(menuOption.childNodes[0]);\n};    /*\n * Checking success of test.\n * @param action\n */\n/*\n * Checking success of test.\n * @param action\n */\nactionModel.passesClientTest = function (action) {\n    var clientTestFunction;\n    var result = true;    //default to true because if there are no tests, we passed by default!\n    //passes explicit test?\n    //default to true because if there are no tests, we passed by default!\n    //passes explicit test?\n    if (action.clientTest) {\n        clientTestFunction = action.clientTest;\n        var testForNegative = false;\n        if (clientTestFunction.startsWith('!')) {\n            //negative test\n            clientTestFunction = action.clientTest.sub('!', '');\n            testForNegative = true;\n        }\n        result = evaluateTest(clientTestFunction, action.clientTestArgs, action.text, action.id, testForNegative, null);\n    }    //number of selections ok?\n    //number of selections ok?\n    var selected = actionModel.selObjects;\n    if (!_.isEmpty(selected)) {\n        if (result && action.selectionConstraint) {\n            result = action.selectionConstraint == actionModel.SINGLE_SELECT_CONSTRAINT ? selected.length == 1 : selected.length > 1;\n        }\n    }\n    return result;\n};    /***\n * If last row is a separator, remove it\n */\n/***\n * If last row is a separator, remove it\n */\nactionModel.removeTrailingSeparator = function () {\n    var lastRow = actionModel.menuListDom.lastChild;\n    if (jQuery(lastRow)[0] && !actionModel.noItemsYet) {\n        var lastRowId = lastRow.identify();\n        var reg = new RegExp(\"\\w*separator\\w*\");\n        if (reg.test(lastRowId)) {\n            lastRow.remove();\n        }\n    }\n};    /**\n * Only applies to certain menus (e.g. naviagtion menu has a parent mutton)\n */\n/**\n * Only applies to certain menus (e.g. naviagtion menu has a parent mutton)\n */\nactionModel.getMenuParent = function () {\n    return jQuery('#' + actionModel.menuDom.parentId)[0];\n};\nactionModel.getFirstMenuButton = function () {\n    return actionModel.menuDom.down(layoutModule.BUTTON_PATTERN, 0);\n};    /* Move focus into the menu, starting with the top item in the list.  This\n * function runs when a user presses the down arrow key from a top-level main\n * menu entry.\n */\n/* Move focus into the menu, starting with the top item in the list.  This\n * function runs when a user presses the down arrow key from a top-level main\n * menu entry.\n */\nactionModel.focusMenu = function () {\n    var jQMenuDom = jQuery('#' + actionModel.menuDom.id);    // If the menu already has focus, do nothing.\n    // If the menu already has focus, do nothing.\n    if (!jQuery.contains(jQMenuDom, document.activeElement)) {\n        //will restore old focus when menu is closed\n        actionModel.lastFocused = document.activeElement;    //!menuDom.hasClass(layoutModule.HIDDEN_CLASS) && menuDom.focus();\n        //if (!jQMenuDom.hasClass(actionModel.DROP_DOWN_MENU_CLASS) && !is SupportsTouch()) {\n        /*\n       if (!jQMenuDom.hasClass(actionModel.DROP_DOWN_MENU_CLASS)) {\n            var jQChildItems = jQMenuDom.children(\"li\");\n            if (jQChildItems[0]) {\n                var firstButton = jQChildItems[0].find(layoutModule.BUTTON_PATTERN);\n                firstButton && buttonManager.over(firstButton);\n            }\n       }\n       */\n        //!menuDom.hasClass(layoutModule.HIDDEN_CLASS) && menuDom.focus();\n        //if (!jQMenuDom.hasClass(actionModel.DROP_DOWN_MENU_CLASS) && !is SupportsTouch()) {\n        /*\n       if (!jQMenuDom.hasClass(actionModel.DROP_DOWN_MENU_CLASS)) {\n            var jQChildItems = jQMenuDom.children(\"li\");\n            if (jQChildItems[0]) {\n                var firstButton = jQChildItems[0].find(layoutModule.BUTTON_PATTERN);\n                firstButton && buttonManager.over(firstButton);\n            }\n       }\n       */\n        var jQChildItems = jQMenuDom.find(layoutModule.BUTTON_PATTERN);\n        if (jQChildItems.length > 0) {\n            jQuery('#' + jQChildItems[0])[0].focus();\n        }\n    }\n};    /*\n * Used to display fine positioned menu relative to the object\n *\n * @param event Initial event\n * @param object Element that cause element to appear\n * @param context actionModel context in which we show this menu. Used to find proper metadata\n * @param cssClass Menu css class\n * @param aModel action model\n */\n/*\n * Used to display fine positioned menu relative to the object\n *\n * @param event Initial event\n * @param object Element that cause element to appear\n * @param context actionModel context in which we show this menu. Used to find proper metadata\n * @param cssClass Menu css class\n * @param aModel action model\n */\nactionModel.showDropDownMenu = function (event, object, context, cssClass, aModel) {\n    object = jQuery(object);\n    var offsets = object.offset(), coordinates = {\n        'menuLeft': offsets.left,\n        'menuTop': offsets.top + object.height() - 1\n    };\n    actionModel.showDynamicMenu(context, event, cssClass, coordinates, aModel);\n};    ////////////////////////////////////////////////////////////\n// General section for menu events\n////////////////////////////////////////////////////////////\n/**\n * Register event handlers to menu objects\n */\n////////////////////////////////////////////////////////////\n// General section for menu events\n////////////////////////////////////////////////////////////\n/**\n * Register event handlers to menu objects\n */\nactionModel.setMenuEventHandlers = function (menu , menuContext) {\n    menu.select('li').each(function (object) {\n        /*\n         * Special mouse-enter and mouse-leave events for fly-outs\n         */\n        if (!jQuery(object).hasClass('disabled')) {\n            if (jQuery(object).hasClass('node')) {\n                if (isSupportsTouch()) {\n                    Event.observe(object, 'touchstart', function (event) {\n                        if (!event.firstCall) {\n                            actionModel.showChildSubmenu(object);\n                        }\n                        event.firstCall = true;\n                    });    /*\n                    Event.observe(object, 'touchend', function(event) {\n                        var child = object.down();\n                        buttonManager.up(child);\n                        buttonManager.out(child);\n                        event.stopPropagation();\n                    });\n                    */\n                } else {\n                    Event.observe(object, 'mouseenter', function (event) {\n                        actionModel.showChildSubmenu(object);\n                    });\n                    if(menuContext!==\"folder_mutton\") {\n                        Event.observe(object, 'mouseleave', function (event) {\n                            actionModel.hideChildSubmenu(object);\n                        });\n                    }\n                }\n            }\n            else {\n                if(menuContext===\"folder_mutton\") {\n                    Event.observe(object, 'mouseover', function (event) {\n                        actionModel.showChildSubmenu(object);\n                    });\n                }\n            }\n\n        }\n    });\n};\nactionModel.initializeOneTimeMenuHandlers = function () {\n}    /**\n * generic mouseenter for menu - to initialize for mouse use\n */\n// FIXME-- turn back on, disabled for debugging\n/*\n    $('menu').observe('mouseenter', function(event) {\n        var selected = this.select(\".\" + layoutModule.HOVERED_CLASS)[0];\n        selected && buttonManager.out(selected);\n    }.bind($('menu')))\n    */;    /**\n * Public method used to hide a menu.\n */\n/**\n * Public method used to hide a menu.\n */\nactionModel.hideMenu = function () {\n    if (actionModel.isMenuShowing()) {\n        var setNextFocus = function () {\n            var nextFocus = actionModel.lastFocused;\n            try {\n                nextFocus && nextFocus.focus();\n            } catch (ex) {\n            }    //IE gets bothered if you try to focus something that it can't\n        };\n        !isSupportsTouch() && setTimeout(setNextFocus, 0);    //timeout so that any current key action misses this focus\n        //timeout so that any current key action misses this focus\n        actionModel.makeMenuInVisible(jQuery('#menu')[0]);\n        jQuery(actionModel.MOUSE_OUT_PATTERNS.join(',')).off('mouseout', actionModel.closeHandler);\n    }\n};    /*\n * Utility method which helps to create menu element\n * @param type type of menu element, one of [\"simpleAction\", \"selectAction\", \"optionAction\"]\n *  this is the only mandatory parameter to create manu item.\n * @param options - object with optional arguments.\n *  Possible object structure is:\n * {\n *  text: test,\n *  clientTest: clientTest,\n *  clientTestArgs: clientTestArgs,\n *  action: action,\n *  actionArgs: actionArgs,\n *  children: children,\n *  isSelectedTest: isSelectedTest,\n *  isSelectedTestArgs: isSelectedTestArgs,\n *  selectionConstraint: selectionConstraint,\n *  className: className\n *  }\n */\n/*\n * Utility method which helps to create menu element\n * @param type type of menu element, one of [\"simpleAction\", \"selectAction\", \"optionAction\"]\n *  this is the only mandatory parameter to create manu item.\n * @param options - object with optional arguments.\n *  Possible object structure is:\n * {\n *  text: test,\n *  clientTest: clientTest,\n *  clientTestArgs: clientTestArgs,\n *  action: action,\n *  actionArgs: actionArgs,\n *  children: children,\n *  isSelectedTest: isSelectedTest,\n *  isSelectedTestArgs: isSelectedTestArgs,\n *  selectionConstraint: selectionConstraint,\n *  className: className\n *  }\n */\nactionModel.createMenuElement = function (type, options) {\n    if (!type) {\n        throw new Error('Can not construct actionModel object: type can not be empty');\n    }\n    return Object.extend({ type: type }, options);\n};\nactionModel.setSelected = function (selected) {\n    actionModel.selObjects = selected;\n};    ////////////////////////////////////////////////////////////\n// function utils\n////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////\n// function utils\n////////////////////////////////////////////////////////////\nfunction replaceNbsps(str) {\n    var re = new RegExp('&nbsp;', 'g');\n    return str.replace(re, ' ');\n}\nfunction fireMenuAction(funcString, event) {\n    var func = getAsFunction(funcString);\n    if (!func) {\n        return;\n    }\n    func();\n}\nfunction fireMenuActionWithEvent(args, funcString, event) {\n    var func = toFunction(funcString), belongsToLocalContext;\n    func = func || (belongsToLocalContext = toFunction('localContext.' + funcString));\n    if (!func) {\n        return;\n    }\n    args = _.isArray(args) ? args : [args];\n    func.apply(belongsToLocalContext ? window.localContext : null, args);\n}\nfunction getMenuMouseupFunction(actionFunction, argsToInvokeWith, label, id, event) {\n    if (!actionFunction) {\n        return null;\n    }\n    if (!argsToInvokeWith) {\n        return function () {\n            fireMenuAction(actionFunction, event);\n        };\n    } else {\n        var args = resolveReservedStringsInArray(argsToInvokeWith, label, id, event);\n        return function () {\n            fireMenuActionWithEvent(args, actionFunction, event);\n        };\n    }\n}\nfunction evaluateTest(thisFunctionName, functionArgs, label, id, testForNegative, defaultResult) {\n    var result = defaultResult != null ? defaultResult : true;    //if no default assume true;\n    //if no default assume true;\n    var theFunction = getAsFunction(thisFunctionName);\n    if (theFunction) {\n        result = theFunction.apply(this, resolveReservedStringsInArray(functionArgs, label, id, null));\n        if (testForNegative) {\n            result = !result;\n        }\n    }\n    return result;\n}\nfunction resolveReservedStringsInArray(oldArray, label, id, ev) {\n    if (!oldArray) {\n        return [];\n    }\n    return oldArray.collect(function (thisString) {\n        return resolveReservedStrings(thisString, label, id, ev);\n    });\n}\nfunction resolveReservedStrings(thisString, label, id, ev) {\n    if (thisString == actionModel.RES_SELECTED) {\n        return actionModel.selObjects;\n    }\n    if (thisString == actionModel.RES_LABEL) {\n        return label;\n    }\n    if (thisString == actionModel.RES_ID) {\n        return id;\n    }\n    if (thisString == actionModel.EVENT) {\n        return ev;\n    }\n    return thisString;\n}    /**\n * Get a random number.\n * May need to move this to common utils\n */\n/**\n * Get a random number.\n * May need to move this to common utils\n */\nfunction getRandomId() {\n    var rand = Math.round(Math.random(10) * 50);\n    return '_' + rand;\n}\n\nactionModel.getMenuMouseupFunction = getMenuMouseupFunction;\n\nexport default actionModel;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport {\n    isNotNullORUndefined,\n    getAsFunction\n} from '../util/utils.common';\n\nimport actionModel from './actionModel.modelGenerator';\nimport actionModelJson from './actionModel.json.property';\nimport __jrsConfigs__ from 'js-sdk/src/jrs.configs';\nimport jQuery from 'jquery';\n\nvar primaryNavModule = {\n    NAVIGATION_MENU_CLASS: 'menu vertical dropDown',\n    ACTION_MODEL_TAG: 'navigationActionModel',\n    CONTEXT_POSTFIX: '_mutton',\n    NAVIGATION_MUTTON_DOM_ID: 'navigation_mutton',\n    NAVIGATION_MENU_PARENT_DOM_ID: 'navigationOptions',\n    /**\n     * Navigation paths used in the navigation menu\n     */\n    navigationPaths: {\n        browse: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow'\n        },\n        home: { url: 'home.html' },\n        library: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow&mode=library'\n        },\n        logOut: { url: 'exituser.html' },\n        search: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow&mode=search'\n        },\n        favorites: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow&mode=search&filterId=favoriteFilter&filterOption=favoriteFilter-favorites'\n        },\n        report: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow&mode=search&filterId=resourceTypeFilter&filterOption=resourceTypeFilter-reports&searchText='\n        },\n        jobs: { url: 'scheduler/main.html' },\n        olap: {\n            url: 'flow.html',\n            params: '_flowId=searchFlow&mode=search&filterId=resourceTypeFilter&filterOption=resourceTypeFilter-view&searchText='\n        },\n        event: {\n            url: 'flow.html',\n            params: '_flowId=logEventFlow'\n        },\n        adminHome: {\n            url: 'flow.html',\n            params: '_flowId=adminHomeFlow'\n        },\n        organization: {\n            url: 'flow.html',\n            params: '_flowId=tenantFlow'\n        },\n        etl: { url: 'etl' },\n        mondrianProperties: { url: 'olap/properties.html' },\n        flush: { url: 'olap/flush.html' },\n        user: {\n            url: 'flow.html',\n            params: '_flowId=userListFlow'\n        },\n        role: {\n            url: 'flow.html',\n            params: '_flowId=roleListFlow'\n        },\n        analysisOptions: {\n            url: 'flow.html',\n            params: '_flowId=mondrianPropertiesFlow'\n        },\n        designerOptions: {\n            url: 'flow.html',\n            params: '_flowId=designerOptionsFlow'\n        },\n        designerCache: {\n            url: 'flow.html',\n            params: '_flowId=designerCacheFlow'\n        },\n        awsSettings: {\n            url: 'flow.html',\n            params: '_flowId=awsSettingsFlow'\n        },\n        designer: {\n            url: 'flow.html',\n            params: '_flowId=adhocFlow'\n        },\n        dashboard: { url: 'dashboard/designer.html' },\n        legacyDashboard: {\n            url: 'flow.html',\n            params: '_flowId=dashboardDesignerFlow&createNew=true'\n        },\n        domain: { url: 'domaindesigner.html' },\n        dataSource: {\n            url: 'flow.html',\n            params: '_flowId=addDataSourceFlow&ParentFolderUri=' + encodeURIComponent('/datasources')\n        },\n        logSettings: { url: 'log_settings.html' },\n        adminConsole: { url: 'adminConsole.html' },\n        createReport: { url: 'view/view/modules/adhoc/createReport' }\n    },\n    /**\n     * List of dom Id's for pages that require user confirmation before leaving.\n     */\n    bodyIds: {\n        'designer': 'designerBase.confirmAndLeave',\n        'dashboardDesigner': 'designerBase.confirmAndLeave',\n        'repoBrowse': 'repositorySearch.confirmAndLeave',\n        'repoSearch': 'repositorySearch.confirmAndLeave',\n        'manage_users': 'orgModule.confirmAndLeave',\n        'manage_roles': 'orgModule.confirmAndLeave',\n        'manage_orgs': 'orgModule.confirmAndLeave',\n        'domainDesigner_tables': 'domain.designer.confirmAndLeave',\n        'domainDesigner_derivedTables': 'domain.designer.confirmAndLeave',\n        'domainDesigner_joins': 'domain.designer.confirmAndLeave',\n        'domainDesigner_calculatedFields': 'domain.designer.confirmAndLeave',\n        'domainDesigner_filters': 'domain.designer.confirmAndLeave',\n        'domainDesigner_display': 'domain.designer.confirmAndLeave',\n        'dataChooserDisplay': 'domain.chooser.confirmAndLeave',\n        'dataChooserFields': 'domain.chooser.confirmAndLeave',\n        'dataChooserPreFilters': 'domain.chooser.confirmAndLeave',\n        'dataChooserSaveAsTopic': 'domain.chooser.confirmAndLeave',\n        'reportViewer': 'Report.confirmAndLeave'\n    },\n    globalActions: {\n        'logOut': function (bodyId) {\n            return primaryNavModule.bodyIds[bodyId];\n        }\n    },\n    /**\n     * This method initializes the primary menu. This needs to be called only once.\n     */\n    initializeNavigation: function () {\n        var navKey;\n        var navId;\n        var navObject;\n        if (jQuery('#' + this.ACTION_MODEL_TAG)[0] === null) {\n            return;\n        }\n        actionModelJson.JSON = jQuery.parseJSON(!!jQuery('#' + this.ACTION_MODEL_TAG)[0] ? jQuery('#' + this.ACTION_MODEL_TAG)[0].text : '{}');\n        var re = /[A-Za-z]+[_]{1}[A-Za-z]+/;    //go through json and get keys. Keys == action model context == nav menu muttons\n        //go through json and get keys. Keys == action model context == nav menu muttons\n        for (navKey in actionModelJson.JSON) {\n            navId = re.exec(navKey)[0];    //strip out ids\n            //strip out ids\n            navObject = actionModelJson.JSON[navKey][0];    //get labels\n            //get labels\n            if (isNotNullORUndefined(navObject)) {\n                this.createMutton(navId, navObject.text);\n            } else {\n                if (navId === 'main_home' || navId === 'main_library') {\n                    var leaf = jQuery('#' + navId)[0];\n                    leaf && jQuery(leaf).removeClass('hidden');\n                }\n            }\n        }\n    },\n    /**\n     * helper to create dom object\n     */\n    createMutton: function (domId, label) {\n        var mutton = jQuery('#' + this.NAVIGATION_MUTTON_DOM_ID)[0].clone('true');\n        var textPlacement = jQuery(mutton).children('.button');\n        jQuery(mutton).attr('id', domId);    //TODO: see if we can do this with builder (maybe not)\n        //TODO: see if we can do this with builder (maybe not)\n        var text = document.createTextNode(label);\n        textPlacement.append(text);\n        var navigationMenuParent = jQuery('#' + this.NAVIGATION_MENU_PARENT_DOM_ID)[0];\n        navigationMenuParent && navigationMenuParent.append(mutton);\n    },\n    /* Show the drop-down menu for a given top-level menu item on the menu bar. */\n    showNavButtonMenu: function (event, object) {\n        var elementId = jQuery(object).attr('id');\n        actionModel.showDropDownMenu(event, object, elementId + this.CONTEXT_POSTFIX, this.NAVIGATION_MENU_CLASS, this.ACTION_MODEL_TAG);\n        jQuery('#' + 'menu')[0].parentId = elementId;\n    },\n    /**\n     * Used to determine if a element is part of the navigation button\n     * @param object\n     */\n    isNavButton: function (object) {\n        return jQuery(object).hasClass('mutton') || jQuery(object).hasClass('icon');\n    },\n    /**\n     * Object based method used to create a url based on the navigation path object\n     * @param place Place where to go described in primaryNavModule.navigationPaths\n     * @param params Request parameters\n     */\n    setNewLocation: function (place, params) {\n        var locObj = this.navigationPaths[place], queryParams = params || locObj.params;\n        if (!locObj)\n            return;\n        queryParams = queryParams ? '?' + queryParams : '';\n        var destination = __jrsConfigs__.urlContext + '/' + locObj.url + queryParams;    // without try/catch location.href change in combination with canceled onbeforeunload event throws\n        // error in IE.\n        // without try/catch location.href change in combination with canceled onbeforeunload event throws\n        // error in IE.\n        try {\n            if (locObj.url === this.navigationPaths.logOut.url) {\n                var submitMe = document.getElementById(\"exitUser\") || document.createElement(\"form\");\n                submitMe.setAttribute(\"id\", \"exitUser\");\n                submitMe.action = destination;\n                submitMe.method = \"post\";\n                jQuery('body').append(submitMe);\n                submitMe.submit();\n            } else {\n                window.location.href = destination;\n            }\n        } catch (e) {\n        }\n    },\n    /**\n     * Method used to create a url based on the navigation path object\n     * @param option\n     */\n    navigationOption: function (option) {\n        var bodyId = jQuery(document.body).attr('id'), execFunction = null;\n        if (primaryNavModule.globalActions[option]) {\n            execFunction = primaryNavModule.globalActions[option](bodyId);\n        } else if (primaryNavModule.bodyIds[bodyId]) {\n            execFunction = primaryNavModule.bodyIds[bodyId];\n        }\n        if (execFunction) {\n            var executableFunction = getAsFunction(execFunction);\n            var answer = executableFunction(option);\n            if (typeof answer == 'function') {\n                answer(function () {\n                    primaryNavModule.setNewLocation(option);\n                });\n                return;\n            } else if (!answer) {\n                return;\n            }\n        }\n        primaryNavModule.setNewLocation(option);\n    },\n    /* ==== EVENTS ==== */\n    /**\n     * Event for fired on mouse over. Used to show a menu.\n     * @param event\n     * @param object\n     */\n    onMenuHeaderMouseOver: function (event, object) {\n        this.showNavButtonMenu(event, object);\n    }\n};\n\n// expose into global scope\nwindow.primaryNavModule = primaryNavModule;\n\nexport default primaryNavModule;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nimport layoutModule from \"./core.layout\";\nimport {isIPad} from \"../util/utils.common\";\nimport jQuery from 'jquery';\n\n\nlet buttonManager = {\n    over: function (element, findTargetFn) {\n        if (element && !this.isSelected(element)) {\n            var target = findTargetFn ? findTargetFn(element) : element;\n            jQuery(target).addClass(layoutModule.HOVERED_CLASS);\n        }\n    },\n    out: function (element, findTargetFn) {\n        if (element) {\n            var target = findTargetFn ? findTargetFn(element) : element;\n            jQuery(target).removeClass(layoutModule.HOVERED_CLASS).removeClass(layoutModule.PRESSED_CLASS);\n        }\n    },\n    down: function (element, findTargetFn) {\n        if (element && !this.isSelected(element)) {\n            var target = findTargetFn ? findTargetFn(element) : element;\n            jQuery(target).removeClass(layoutModule.HOVERED_CLASS).addClass(layoutModule.PRESSED_CLASS);\n        }\n    },\n    up: function (element, findTargetFn) {\n        if (element && !this.isSelected(element)) {\n            var target = findTargetFn ? findTargetFn(element) : element;\n            target = jQuery(target);\n            target.removeClass(layoutModule.PRESSED_CLASS);\n            !isIPad() && target.addClass(layoutModule.HOVERED_CLASS);\n        }\n    },\n    disable: function (element) {\n        if (element) {\n            buttonManager.out(element);\n            jQuery(element).attr(layoutModule.DISABLED_ATTR_NAME, layoutModule.DISABLED_ATTR_NAME);\n        }\n    },\n    enable: function (element) {\n        if (element) {\n            buttonManager.out(element);\n            jQuery(element).attr(layoutModule.DISABLED_ATTR_NAME, null);\n        }\n    },\n    /**\n     * @deprecated custom jasperhandler in Prototype.js will suppress disabled elems\n     * @param {Object} element\n     */\n    isDisabled: function (element) {\n        if (element) {\n            return jQuery(element).attr(layoutModule.DISABLED_ATTR_NAME) === layoutModule.DISABLED_ATTR_NAME || jQuery(element).hasClass(layoutModule.DISABLED_CLASS);\n        }\n    },\n    ///////////////////////////////////////////////////////////////////////////////////////\n    // TODO: Only used by tab manager - maybe we should use up and down functions instead.\n    // (just need to make tabs use 'pressed' class instead of 'selected')\n    ///////////////////////////////////////////////////////////////////////////////////////\n    unSelect: function (element) {\n        if (element) {\n            jQuery(element).removeClass(layoutModule.SELECTED_CLASS);\n        }\n    },\n    select: function (element) {\n        if (element) {\n            jQuery(element).addClass(layoutModule.SELECTED_CLASS);\n        }\n    },\n    isSelected: function (element, findTargetFn) {\n        if (element) {\n            var target = findTargetFn ? findTargetFn(element) : jQuery(element)[0];\n            var tagetListItem = target.up('li');\n            return tagetListItem && jQuery(tagetListItem).hasClass(layoutModule.SELECTED_CLASS);\n        }\n        return false;\n    }\n};\n\nexport default buttonManager;"],"sourceRoot":""}