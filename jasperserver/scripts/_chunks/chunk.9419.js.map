{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/administer/administer.base.js","webpack://jrs-ui/./src/administer/administer.options.js","webpack://jrs-ui/./src/administer/administerAnalysisOptions.common.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/components/components.webHelp.js","webpack://jrs-ui/./src/core/core.events.bis.js","webpack://jrs-ui/./src/namespace/namespace.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","window","Administer","_","_messages","urlContext","getMessage","messageId","object","message","Template","evaluate","menuActions","_sendRequest","url","data","callback","ajaxTargettedUpdate","postData","mode","AjaxRequester","errorHandler","_errorHandler","ajaxAgent","getResponseHeader","location","baseErrorHandler","Options","SAVE_PFX","CANCEL_PFX","ERROR_PFX","INPUT_PFX","BUTTON_FLASH","initialize","jQuery","layoutModule","webHelpModule","on","e","elem","target","pattern","matchAny","matchMeOrUp","parentNode","hasClass","Event","stop","flushCache","button","name","saveValue","resetValue","value","switchButtons","is","nm","input","getElementById","params","type","checked","_flowExecutionKey","_eventId","Object","toQueryString","_updateCallback","vl","String","body","find","removeClass","isProVersion","_flushCallback","enable","_enableButton","buttonManager","response","error","optionName","addClass","html","dialogs","result","jrsConfigs","JSTooltip","element","options","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","update","getElementZIndex","parseInt","initialZIndex","toArray","memo","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","clientWidth","width","leftOffset","height","topOffset","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","attr","timer","clearTimeout","setTimeout","show","evt","clientX","clientY","enableTooltips","forEach","tooltip","disableTooltips","disable","hide","off","testId","setAttribute","reject","t","currentContext","displayWebHelp","webHelpModuleState","__jrsConfigs__","helpURL","hostURL","pagePrefix","getPageForContext","open","focus","setCurrentContext","context","observe","isSupportsTouch","targetEvent","event","treeEvent","listEvent","li","match","listItemElement","children","isRightClick","node","fire","isGlobalEventsAllowed","el","isIE","hasDisabledAttributeSet","primaryNavModule","className","preventDefault","siblings","$anchor","closest","addEventListener","calendar","hidden","TouchController","toggleClass","JRS","vars","element_scrolled","ajax_in_progress","current_flow","contextPath","i18n","isEncryptionOn","Mocks","Export","configs","TIMEOUT","DELAY","localContext","bundledCalendarFormat","bundledCalendarTimeFormat","jaspersoft","components","Draggable","prototype","startDrag","isDragging","dragging","delta","currentDelta","zindex","originalZ","Element","getStyle","style","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","insertBefore","tagName","appendChild","superghosting","prepare","pointer","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","pos","cumulativeOffset","r","realOffset","deltaX","deltaY","d","_isScrollChild","p","map","i","mouseOffset","offset","bind","snap","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","touches","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","Droppables","isAffected","drop","jo","w","h","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","finishDrag","success","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","reset","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","observer","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.9419.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport {Template} from 'prototype';\nimport _ from 'underscore';\nimport {ajaxTargettedUpdate, AjaxRequester} from \"../core/core.ajax\";\nimport {baseErrorHandler} from \"../core/core.ajax.utils\";\n\nif (typeof window.Administer === 'undefined') {\n    window.Administer = {};\n}\nwindow.Administer = _.extend({\n    _messages: {},\n    urlContext: null,\n    getMessage: function (messageId, object) {\n        var message = this._messages[messageId];\n        return message ? new Template(message).evaluate(object ? object : {}) : '';\n    },\n    menuActions: {\n        // Url context is necessary because some uf links has 2 levels or urls e.g. /olap/properties.html\n        // Analysis options button has different id's for different versions of JS\n        'p#navAnalysisOptions': function () {\n            return window.Administer.urlContext + '/flow.html?_flowId=mondrianPropertiesFlow';\n        },\n        'p#navAnalysisOptionsCE': function () {\n            return window.Administer.urlContext + '/olap/properties.html';\n        },\n        'p#navDesignerOptions': function () {\n            return window.Administer.urlContext + '/flow.html?_flowId=designerOptionsFlow';\n        },\n        'p#navDesignerCache': function () {\n            return window.Administer.urlContext + '/flow.html?_flowId=designerCacheFlow';\n        },\n        'p#navAwsSettings': function () {\n            return window.Administer.urlContext + '/flow.html?_flowId=awsSettingsFlow';\n        },\n        'p#navLogSettings': function () {\n            return window.Administer.urlContext + '/log_settings.html';\n        },\n        'p#logCollectors': function () {\n            return window.Administer.urlContext + '/logCollectors.html';\n        },\n        'p#navImport': function () {\n            return window.Administer.urlContext + '/adminImport.html';\n        },\n        'p#navExport': function () {\n            return window.Administer.urlContext + '/adminExport.html';\n        },\n        'p#navCustomAttributes': function () {\n            return window.Administer.urlContext + '/customAttributes.html';\n        },\n        'p#navResetSettings': function () {\n            return window.Administer.urlContext + '/resetSettings.html';\n        }\n    },\n    _sendRequest: function (url, data, callback) {\n        ajaxTargettedUpdate(url, {\n            postData: data,\n            callback: callback,\n            mode: AjaxRequester.prototype.EVAL_JSON,\n            errorHandler: this._errorHandler\n        });\n    },\n    _errorHandler: function (ajaxAgent) {\n        if (ajaxAgent.getResponseHeader('LoginRequested')) {\n            window.location = 'flow.html?_flowId=designerCacheFlow';\n            return true;\n        }\n        return baseErrorHandler(ajaxAgent);\n    }\n}, window.Administer);\n\nexport default window.Administer;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n\nimport layoutModule from '../core/core.layout';\nimport webHelpModule from '../components/components.webHelp';\nimport Administer from './administer.base';\nimport {matchAny, matchMeOrUp} from \"../util/utils.common\";\nimport buttonManager from '../core/core.events.bis';\nimport dialogs from '../components/components.dialogs';\nimport {isProVersion} from \"../namespace/namespace\";\nimport jQuery from 'jquery';\n\nvar Options = {\n    SAVE_PFX: 'save',\n    CANCEL_PFX: 'cancel',\n    ERROR_PFX: 'error_',\n    INPUT_PFX: 'input_',\n    BUTTON_FLASH: 'flushOLAPCache',\n    initialize: function () {\n        if (jQuery('#serverSettingsMenu').length > 0) {\n            layoutModule.resizeOnClient('serverSettingsMenu', 'settings');\n        }\n        webHelpModule.setCurrentContext('admin');\n        jQuery('#display').on('click', function (e) {\n            var elem = e.target;    // observe navigation\n            // observe navigation\n            for (var pattern in Administer.menuActions) {\n                if (matchAny(elem, [pattern], true) && !jQuery(matchMeOrUp(elem.parentNode, 'li')).hasClass('selected')) {\n                    document.location = Administer.menuActions[pattern]();\n                    return;\n                }\n            }\n            if (matchAny(elem, ['#' + Options.BUTTON_FLASH], true)) {\n                Event.stop(e);\n                Options.flushCache();\n                return;\n            }\n            var button = matchAny(elem, ['#' + Options.SAVE_PFX], true);\n            if (button) {\n                Event.stop(e);\n                var name = button.name;\n                Options.saveValue(name);\n                return;\n            }\n            button = matchAny(elem, ['#' + Options.CANCEL_PFX], true);\n            if (button) {\n                Event.stop(e);\n                Options.resetValue(button.name, button.value);\n            }    // observe inputs\n            // observe inputs\n            if (matchAny(elem, [\n                '.checkBox > input',\n                'select'\n            ])) {\n                Options.switchButtons(elem, true);\n            }\n        });    /*\n         // observe inputs\n         $('display').observe('change', function(e) {\n         var elem = e.element();\n\n         if (matchAny(elem,['input','select'])) {\n         Options.switchButtons(elem, true);\n         }\n         });\n         */\n        /*\n         // observe inputs\n         $('display').observe('change', function(e) {\n         var elem = e.element();\n\n         if (matchAny(elem,['input','select'])) {\n         Options.switchButtons(elem, true);\n         }\n         });\n         */\n        jQuery('#display').on('keydown', function (e) {\n            var elem = e.target;\n            if (jQuery(elem).is('input')) {\n                Options.switchButtons(elem, true);\n            }\n        });\n    },\n    saveValue: function (nm) {\n        var input = document.getElementById(Options.INPUT_PFX + nm);\n        var params = {\n            name: nm,\n            value: input.type == 'checkbox' ? input.checked : input.value,\n            _flowExecutionKey: Administer.flowExecutionKey,\n            _eventId: 'saveSingleProperty'\n        };\n        var url = 'flow.html?' + Object.toQueryString(params);\n        Administer._sendRequest(url, params, Options._updateCallback);\n    },\n    resetValue: function (nm, vl) {\n        var input = document.getElementById(Options.INPUT_PFX + nm);\n        if (input.type == 'checkbox') {\n            input.checked = String(vl) == 'true';\n        } else {\n            input.value = vl;\n        }\n        Options.switchButtons(input, false);\n        jQuery(document.body).find('[for=\"' + Options.INPUT_PFX + nm + '\"]').removeClass(layoutModule.ERROR_CLASS)[0];\n    },\n    flushCache: function () {\n        var url = isProVersion() ? 'flow.html?_flowExecutionKey=' + Administer.flowExecutionKey + '&_eventId=flushCache' : 'flush.html';\n        Administer._sendRequest(url, null, Options._flushCallback);\n    },\n    switchButtons: function (input, enable) {\n        if (typeof input == 'string') {\n            input = document.getElementById(Options.INPUT_PFX + input);\n        }\n        Options._enableButton(jQuery(matchMeOrUp(input, 'li')).find('button')[0], enable);\n        Options._enableButton(jQuery(matchMeOrUp(input, 'li')).find('button')[1], enable);\n    },\n    _enableButton: function (button, enable) {\n        if (enable) {\n            buttonManager.enable(button);\n        } else {\n            buttonManager.disable(button);\n        }\n    },\n    _updateCallback: function (response) {\n        if (response.error) {\n            jQuery(document.body).find('[for=\"' + Options.INPUT_PFX + response.optionName + '\"]').addClass(layoutModule.ERROR_CLASS)[0];\n            jQuery('#' + Options.ERROR_PFX + response.optionName).html(Administer.getMessage(response.error))[0];\n        } else {\n            Options.switchButtons(response.optionName, false);\n            dialogs.systemConfirm.show(Administer.getMessage(response.result));\n            jQuery(document.body).find('[for=\"' + Options.INPUT_PFX + response.optionName + '\"]').removeClass(layoutModule.ERROR_CLASS)[0]\n        }\n    },\n    _flushCallback: function (response) {\n        if (response.error) {\n            dialogs.systemConfirm.show(Administer.getMessage('JAM_018_ERROR') + ': ' + response.error);\n        } else {\n            dialogs.systemConfirm.show(Administer.getMessage(response.result));\n        }\n    }\n};\n\nexport default Options;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Administer from '../administer/administer.base';\nimport Options from '../administer/administer.options';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\nimport _ from 'underscore';\n\n_.extend(Administer._messages, jrsConfigs.Administer._messages);\nAdminister.urlContext = jrsConfigs.urlContext;\nAdminister.flowExecutionKey = jrsConfigs.Administer.flowExecutionKey;\nOptions.initialize();\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    actualX:0,\n    actualY:0,\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            this.actualX = offsets[0];\n            this.actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([tooltipModule.actualX, tooltipModule.actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                tooltipModule.actualX = evt.clientX;\n                tooltipModule.actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.setAttribute(\"id\",null);\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport __jrsConfigs__ from 'js-sdk/src/jrs.configs';\n\nvar webHelpModule = {\n    currentContext: 'default',\n    displayWebHelp: function () {\n        // If webHelpModuleState is undefined doesn't display Web Help\n        var webHelpModuleState = __jrsConfigs__.webHelpModuleState;\n        if (!webHelpModuleState) {\n            return;\n        }\n        var helpURL = webHelpModuleState.hostURL + '/' + webHelpModuleState.pagePrefix + webHelpModule.getPageForContext();\n        window.name = '';\n        var runPopup = window.open(helpURL, 'MCWebHelp');\n        runPopup.focus();\n    },\n    getPageForContext: function () {\n        return __jrsConfigs__.webHelpModuleState.contextMap[webHelpModule.currentContext];\n    },\n    setCurrentContext: function (context) {\n        webHelpModule.currentContext = context;\n    }\n};\n\nexport default webHelpModule;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n///////////////////////////////////////////////////////////////////////////////////\n// Drag with MouseDown\n///////////////////////////////////////////////////////////////////////////////////\nimport jQuery from 'jquery';\nimport {\n    isSupportsTouch,\n    matchMeOrUp,\n    isRightClick,\n    isIE,\n    hasDisabledAttributeSet,\n} from '../util/utils.common';\nimport layoutModule from '../core/core.layout';\nimport TouchController from '../util/touch.controller';\nimport {tooltipModule} from '../components/components.tooltip';\nimport primaryNavModule from '../actionModel/actionModel.primaryNavigation';\nimport buttonManager from './core.buttonManager';\n\ndocument.observe(isSupportsTouch() ? 'drag:touchstart' : 'drag:mousedown', function (evt) {\n    var element = evt.memo.targetEvent.element();\n    if (!isSupportsTouch() || !(event.treeEvent || event.listEvent)) {\n        var li = matchMeOrUp(element, layoutModule.LIST_ITEM_PATTERN);\n        if (li && !element.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)) {\n            buttonManager.down(li, function (listItemElement) {\n                return jQuery(listItemElement).children(layoutModule.LIST_ITEM_WRAP_PATTERN)[0];\n            });\n        }\n        if (element.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)) {\n            buttonManager.down(element);\n        }\n    }\n});    ///////////////////////////////////////////////////////////////////////////////////\n// Mouse Effects\n///////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////\n// Mouse Effects\n///////////////////////////////////////////////////////////////////////////////////\n// Suppress Default Context Menu\n///////////////////////////////////////////////////////////////////////////////////\n//use this to cancel the default event. Weird behavior on mac Gecko browser\n//see link:http://unixpapa.com/js/mouse.html for more info\n///////////////////////////////////////////////////////////////////////////////////\n// Suppress Default Context Menu\n///////////////////////////////////////////////////////////////////////////////////\n//use this to cancel the default event. Weird behavior on mac Gecko browser\n//see link:http://unixpapa.com/js/mouse.html for more info\ndocument.observe('mouseup', function (evt) {\n    if (isRightClick(evt)) {\n        var node = evt.element();\n        document.fire(layoutModule.ELEMENT_CONTEXTMENU, {\n            targetEvent: evt,\n            node: node\n        });\n    }\n});    // Workaround for IE9 native context menu\n// Workaround for IE9 native context menu\ndocument.observe('contextmenu', function (event) {\n    Event.stop(event);\n    return false;\n});\ndocument.observe('dom:loaded', function (event) {\n    var isGlobalEventsAllowed = function (el) {\n        var $el = jQuery(el);\n        return typeof $el.data('globalEvents') === 'undefined';\n    };\n    isIE() && document.body.setAttribute('oncontextmenu', 'return false');\n    jQuery('body').on('mouseover', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.over(this);\n    });\n    jQuery('body').on('mouseout', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (isGlobalEventsAllowed(this))\n            buttonManager.out(this);\n    });\n    jQuery('body').on('focus', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.over(this);\n    });\n    jQuery('body').on('blur', layoutModule.BUTTON_PATTERN + '.' + layoutModule.HOVERED_CLASS, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.out(this);\n    });\n    jQuery('body').on('mousedown mouseup touchstart touchend', [\n        layoutModule.BUTTON_PATTERN,\n        layoutModule.MENU_LIST_PATTERN,\n        layoutModule.DISCLOSURE_BUTTON_PATTERN,\n        layoutModule.META_LINKS_PATTERN\n    ].join(','), function (evt) {\n        if (evt.type == 'mousedown' || evt.type == 'touchstart') {\n            !hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && buttonManager.down(this);\n        } else {\n            !hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && buttonManager.up(this);\n        }\n        if (evt.type == 'mouseup' || evt.type == 'touchend') {\n            if (this.parentNode.id == layoutModule.MAIN_NAVIGATION_HOME_ITEM_ID)\n                primaryNavModule.navigationOption('home');\n            if (this.parentNode.id == layoutModule.MAIN_NAVIGATION_LIBRARY_ITEM_ID)\n                primaryNavModule.navigationOption('library');\n        }\n    });\n    jQuery('#frame').on('touchend mouseup', '.minimize', function (evt) {\n        if (this.parentNode.className.indexOf('maximized') >= 0) {\n            layoutModule.minimize(this);\n        } else {\n            layoutModule.maximize(this);\n        }\n        evt.preventDefault();\n    });\n    jQuery('#frame').on('touchend mouseup', layoutModule.TABSET_TAB_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && jQuery(this.parentNode).attr('disableCoreEvents') !== 'true') {\n            jQuery(this).siblings().removeClass(layoutModule.SELECTED_CLASS).each(function (index, element) {\n                jQuery(jQuery(this).attr('tabId')).addClass('hidden');\n            });\n            jQuery(this).addClass(layoutModule.SELECTED_CLASS);\n            jQuery(jQuery(this).attr('tabId')).removeClass('hidden');    // Dirty hack to make anchor bigger when attributes tab is selected.\n            // Dirty hack to make anchor bigger when attributes tab is selected.\n            var $anchor = jQuery(this).closest('.tabs').find('.control.tabSet.anchor');\n            jQuery(this).attr('tabId') === '#attributesTab' ? $anchor.addClass('attributesAnchor') : $anchor.removeClass('attributesAnchor');\n        }\n    });\n    jQuery('#' + layoutModule.META_LINK_LOGOUT_ID).on('mousedown touchstart', function (evt) {\n        evt.preventDefault();\n        primaryNavModule.navigationOption('logOut');\n    });    /*\n     * Tooltips\n     */\n    /*\n     * Tooltips\n     */\n    jQuery('body').on('mouseover mouseout click', '[tooltiptext]', function (evt) {\n        (evt.type == 'mouseout' || evt.type == 'click') && tooltipModule.hideJSTooltip(this);\n        evt.type == 'mouseover' && tooltipModule.showJSTooltip(this, [\n            evt.clientX,\n            evt.clientY\n        ]);\n    });    /*\n     * Top navigation menu\n     */\n    /*\n     * Top navigation menu\n     */\n    jQuery('#mainNavigation').on('mouseover', layoutModule.NAVIGATION_MUTTON_PATTERN, function (evt) {\n        primaryNavModule.showNavButtonMenu(evt, this);\n    });\n    if (isSupportsTouch()) {\n        document.body.addEventListener('touchstart', function (e) {\n            window.calendar && window.calendar.hide && !window.calendar.hidden && window.calendar.hide();\n            if (typeof TouchController !== 'undefined')\n                TouchController.element_scrolled = false;\n        }, false);\n        document.body.addEventListener('touchmove', function (e) {\n            //e.preventDefault();\n        }, false);\n    }    /*\n     * Bug fix 28602.\n     */\n    /*\n     * Bug fix 28602.\n     */\n    jQuery('#filePath').on('mouseenter mouseout', function () {\n        jQuery('#fake_upload_button').toggleClass('over');\n    });\n});\n\nexport default buttonManager;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/* global __jrsConfigs__ */\n//JasperServer namespace  mess\n\n/*\n *  One of Jasperserver namespaces.\n */\nvar JRS = {\n    vars: {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null,\n        contextPath: __jrsConfigs__.contextPath\n    },\n    i18n: {}\n};\nvar Calendar = {};\nif (typeof isEncryptionOn === 'undefined') {\n    var isEncryptionOn = false;\n}\nfunction isProVersion() {\n    return __jrsConfigs__.isProVersion;\n}\nvar jaspersoft = {\n    components: {},\n    i18n: {}\n};\nif (typeof JRS == 'undefined') {\n    JRS = { Mocks: {} };\n}\nif (typeof JRS.vars == 'undefined') {\n    JRS.vars = {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null\n    };\n}    //TODO: move closer to Import/Export\n//TODO: move closer to Import/Export\nif (typeof JRS.Export == 'undefined') {\n    JRS.Export = {\n        i18n: {\n            'file.name.empty': 'export.file.name.empty',\n            'file.name.too.long': 'export.file.name.too.long',\n            'file.name.not.valid': 'export.file.name.not.valid',\n            'export.select.users': 'export.select.users',\n            'export.select.roles': 'export.select.roles',\n            'export.session.expired': 'export.session.expired',\n            'error.timeout': 'export.file.name.empty'\n        },\n        configs: {\n            TIMEOUT: 1200000,\n            DELAY: 3000\n        }\n    };\n}\nif (typeof window.localContext == 'undefined') {\n    window.localContext = {};\n}    //TODO: move to common module\n//TODO: move to common module\nif (__jrsConfigs__.calendar) {\n    JRS.i18n['bundledCalendarFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarFormat;\n    JRS.i18n['bundledCalendarTimeFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat;\n}\n\nwindow.JRS = JRS;\nwindow.jaspersoft = jaspersoft;\nwindow.isProVersion = isProVersion;\n\nexport {jaspersoft, JRS, isProVersion};","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}