{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/messages/details/messageDetails.js","webpack://jrs-ui/./src/messages/details/messageDetails.common.js","webpack://jrs-ui/./src/util/touch.controller.js","webpack://jrs-ui/../js-sdk/src/common/util/xssUtil.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","messageDetailModule","_flowExecutionKey","_message","toolbar","_buttons","_id","initialize","toolbarButtonModule","jQuery","body","find","layoutModule","_initEventHandlers","refresh","each","button","bind","on","e","matchAny","target","location","identify","options","flowExecutionKey","message","_process","html","xssUtil","subject","date","component","jrsConfigs","TouchController","element","children","hbar","vbar","absolute","style","useParent","observer","translate3d","forceLayout","use2Fingers","fit","debug","border","noInit3d","pos","webkitTransform","left","top","scrollbars","appendTo","computeBoundaries","dragging","drag_sensitivity","scale","maxX","maxY","startTouchY","startTouchX","contentOffsetX","contentOffsetY","addEventListener","prototype","handleEvent","type","onTouchStart","onTouchMove","onTouchEnd","clientWidth","clientHeight","hratio","width","show","hide","vratio","height","minWidth","minHeight","id","maxWidth","maxHeight","scale_pre","touches","clientX","clientY","contentStartOffsetX","contentStartOffsetY","cy","cx","animateTo","isDragging","element_scrolled","preventDefault","cX","cY","deltaX","deltaY","offsetX","offsetY","dx","dy","adx","Math","abs","ady","shouldStartMomentum","reset","forceRefresh","isBottom","addPadding","padding","$id","w","right","h","bottom","window","htmlTagWhiteList","escapeMap","regexKeys","map","str","arr","k","Object","hasOwnProperty","call","push","replace","unescapeMap","hardEscapeRegex","RegExp","join","_stringCanonicObfuscator","obfChar","obfuscatedStr","i","charAt","canonicExclusionMap","key","obfuscStr","addCanonicObfuscArr","c","addObfuscStr","reverseCanonicExclusionMap","canonicExclusionRegex","reverseCanonicExclusionRegex","_getXssNonce","Error","_getNoncePrefix","undefined","noncePrefix","xssNonce","_getHtmlTagWhitelist","configHtmlTagWhitelist","_getConfigHtmlTagWhitelist","whitelistInitialized","startsWith","substr","_getWhitelistLeftRegex","leftTagRegexp","whitelistRegexInsert","_getWhitelistRightRegex","rightTagRegexp","_defaultAttribSoftEscapeMap","_getAttribSoftHtmlEscapeMap","attribSoftEscapeArr","configAttribSoftHtmlEscapeMap","configRegexArr","configReplArr","err","console","warn","softHtmlEscape","string","String","indexOf","noncePref","substring","match","canonicElem","createElement","innerHTML","value","_canonicalize","whiteList","Array","whitelistRegexStr","rtLeftTagRegexp","rtRightTagRegexp","tmpLeftTagRegexp","tmpRightTagRegexp","lastIndex","escapeTags","tmpTagWhiteList","attribSoftHtmlEscapeMap","regexArr","replArr","regex","replacement","hardEscape","unescape","unescapeRegexp","Draggable","startDrag","event","delta","currentDelta","zindex","originalZ","parseInt","Element","getStyle","zIndex","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","tagName","appendChild","superghosting","prepare","pointer","Event","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","cumulativeOffset","r","realOffset","d","_isScrollChild","p","mouseOffset","offset","snap","isFunction","isArray","v","round","constraint","visibility","initDrag","isUndefined","_dragging","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","stop","fire","targetEvent","Droppables","isAffected","drop","jo","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","include","finishDrag","success","isIE","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.8285.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport toolbarButtonModule from '../../components/components.toolbarButtons.events';\nimport layoutModule from '../../core/core.layout';\nimport {matchAny} from \"../../util/utils.common\";\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport jQuery from 'jquery';\n\nvar messageDetailModule = {\n    _flowExecutionKey: null,\n    _message: null,\n    toolbar: {\n        _buttons: null,\n        _id: 'toolbar',\n        initialize: function () {\n            toolbarButtonModule.initialize({});\n            this._buttons = jQuery(document.body).find(layoutModule.TOOLBAR_CAPSULE_PATTERN);\n            this._initEventHandlers();\n        },\n        refresh: function () {\n            jQuery(this._buttons).each(function (button) {\n                toolbarButtonModule.setButtonState(button, true);\n            }.bind(this));\n        },\n        _initEventHandlers: function () {\n            jQuery('#' + this._id).on('click', function (e) {\n                var button = matchAny(e.target, [layoutModule.BUTTON_PATTERN], true);\n                document.location = 'flow.html?_flowExecutionKey=' + messageDetailModule._flowExecutionKey + '&_eventId=' + button.identify();\n            }.bind(this));\n        }\n    },\n    initialize: function (options) {\n        this._flowExecutionKey = options.flowExecutionKey;\n        this._message = options.message;\n        this._process();\n        this.toolbar.initialize();\n    },\n    _process: function () {\n        jQuery('#subject').html(xssUtil.hardEscape(this._message.subject));\n        jQuery('#date').html(xssUtil.hardEscape(this._message.date));\n        jQuery('#component').html(xssUtil.hardEscape(this._message.component));\n        jQuery('#message').html(xssUtil.hardEscape(this._message.message));\n    }\n};\n\nexport default messageDetailModule;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport messageDetailModule from './messageDetails';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\n\nmessageDetailModule.initialize(jrsConfigs.messageDetailsInitOptions);\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nvar TouchController = function (element, parent, options) {\n    this.element = element;\n    this.parent = parent;\n    this.children = [];\n    this.hbar = null;\n    this.vbar = null;    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    options = options || {};\n    options.absolute ? this.element.style.position = 'absolute' : this.element.style.position = 'relative';\n    this.useParent = options.useParent ? this.observer = parent : this.observer = element;\n    this.translate3d = options.translate3d !== false ? true : false;\n    this.forceLayout = options.forceLayout !== true ? false : true;\n    this.use2Fingers = options.use2Fingers !== true ? false : true;\n    this.fit = options.fit;\n    if (options.debug) {\n        parent.style.border = 'solid 1px #f00';\n        element.style.border = 'solid 1px #00f';    //console.info('Px: ' + parent.clientWidth + ', Ex: ' + element.clientWidth + 'Dx: ' + (parent.clientWidth - element.clientWidth));\n        //console.info('Py: ' + parent.clientHeight + ', Ey: ' + element.clientHeight + 'Dy: ' + (parent.clientHeight - element.clientHeight));\n    }\n    if (this.translate3d && !options.noInit3d) {\n        var pos = $(element).position();\n        element.style.webkitTransform = 'translate3d(' + pos.left + 'px,' + pos.top + 'px,0)';\n        element.style.top = '';\n        element.style.left = '';\n    }\n    if (options.scrollbars === true) {\n        var hbar = $('<div style=\"position:absolute;bottom:4px;left:0;right:0;\"><div style=\"position:relative;background:#3fb8fa;min-height:4px;width:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        var vbar = $('<div style=\"position:absolute;top:0;bottom:0;right:4px;\"><div style=\"position:relative;background:#3fb8fa;min-width:4px;height:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        this.hbar = hbar.children().eq(0);\n        this.vbar = vbar.children().eq(0);\n    }\n    this.computeBoundaries();\n    this.dragging = false;\n    this.drag_sensitivity = 20;\n    this.scale = 1;\n    this.element.style.top = 0;\n    this.element.style.left = 0;\n    this.maxX = 0;\n    this.maxY = 0;\n    this.startTouchY = 0;\n    this.startTouchX = 0;\n    this.contentOffsetX = 0;\n    this.contentOffsetY = 0;\n    this.observer.addEventListener('touchstart', this, false);\n    this.observer.addEventListener('touchmove', this, false);\n    this.observer.addEventListener('touchend', this, false);\n};\nTouchController.prototype.handleEvent = function (e) {\n    switch (e.type) {\n    case 'touchstart':\n        this.onTouchStart(e);\n        break;\n    case 'touchmove':\n        this.onTouchMove(e);\n        break;\n    case 'touchend':\n        this.onTouchEnd(e);\n        break;\n    }\n};\nTouchController.prototype.computeBoundaries = function () {\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    this.maxX = this.maxX < 0 ? this.maxX : 0;\n    this.maxY = this.maxY < 0 ? this.maxY : 0;\n    if (this.hbar && this.maxX !== 0) {\n        this.hratio = this.parent.clientWidth / this.element.clientWidth;\n        this.hbar.width(this.hratio * this.parent.clientWidth);\n        this.hbar.show();\n    } else {\n        this.hbar && this.hbar.hide();\n    }\n    if (this.vbar && this.maxY !== 0) {\n        this.vratio = this.parent.clientHeight / this.element.clientHeight;\n        this.vbar.height(this.vratio * this.parent.clientHeight);\n        this.vbar.show();\n    } else {\n        this.vbar && this.vbar.hide();\n    }\n    if (this.maxX === 0 && this.maxY === 0) {\n        this.element.style.minWidth = this.parent.clientWidth + 'px';\n        this.element.style.minHeight = this.parent.clientHeight + 'px';\n        if (this.element.id === 'reportContainer') {\n            this.element.style.maxWidth = this.parent.clientWidth + 'px';\n            this.element.style.maxHeight = this.parent.clientHeight + 'px';\n        }\n    }\n};\nTouchController.prototype.onTouchStart = function (e) {\n    this.scale_pre = false;\n    this.computeBoundaries();\n    this.startTouchX = e.touches[0].clientX;\n    this.startTouchY = e.touches[0].clientY;\n    this.contentStartOffsetX = this.contentOffsetX;\n    this.contentStartOffsetY = this.contentOffsetY;\n};\nTouchController.prototype.onTouchMove = function (e) {\n    var cy = e.touches[0].clientY;\n    var cx = e.touches[0].clientX;\n    if (!this.use2Fingers || this.use2Fingers && e.touches.length == 2) {\n        if (this.dragging) {\n            this.animateTo(cx, cy);\n        } else {\n            if (this.isDragging(e)) {\n                TouchController.element_scrolled = true;\n                if (this.forceLayout) {\n                    this.element.style.top = 0;\n                    this.element.style.webkitTransform = 'translate3d(0,' + this.contentOffsetY + 'px,0)';\n                }\n                this.animateTo(cx, cy);\n            }\n        }\n    }\n};\nTouchController.prototype.onTouchEnd = function (e) {\n    if (this.dragging) {\n        if (this.forceLayout) {\n            this.element.style.webkitTransform = 'translate3d(0,0,0)';\n            this.element.style.top = this.contentOffsetY + 'px';\n        }\n        this.hbar && this.hbar.hide();\n        this.vbar && this.vbar.hide();\n        e.preventDefault();\n    }\n    this.dragging = false;\n};\nTouchController.prototype.animateTo = function (cX, cY) {\n    var deltaX = cX - this.startTouchX;\n    var deltaY = cY - this.startTouchY;\n    var offsetX = deltaX + this.contentStartOffsetX;\n    var offsetY = deltaY + this.contentStartOffsetY;\n    var pos = $(this.element).position();\n    if (this.translate3d) {\n        if (offsetX > 0)\n            offsetX = 0;\n        if (offsetY > 0)\n            offsetY = 0;\n        if (offsetX < this.maxX)\n            offsetX = this.maxX;\n        if (offsetY < this.maxY)\n            offsetY = this.maxY;\n    } else {\n        if (offsetX + pos.left > 0)\n            offsetX = -1 * pos.left;\n        if (offsetY + pos.top > 0)\n            offsetY = -1 * pos.top;\n        if (pos.left + offsetX < this.maxX)\n            offsetX = this.maxX - pos.left;\n        if (pos.top + offsetY < this.maxY)\n            offsetY = this.maxY - pos.top;\n    }\n    this.contentOffsetX = offsetX;\n    this.contentOffsetY = offsetY;\n    if (this.translate3d || this.use2Fingers) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n    } else {\n        this.element.style.top = pos.top + offsetY + 'px';\n        this.element.style.left = pos.left + offsetX + 'px';\n    }\n    this.hbar && this.hbar.css('left', -1 * offsetX * this.hratio + 'px');\n    this.vbar && this.vbar.css('top', -1 * offsetY * this.vratio + 'px');\n};\nTouchController.prototype.isDragging = function (e) {\n    var dx = e.touches[0].clientX - this.startTouchX;\n    var dy = e.touches[0].clientY - this.startTouchY;\n    var adx = Math.abs(dx);\n    var ady = Math.abs(dy);\n    this.dragging = adx > this.drag_sensitivity || ady > this.drag_sensitivity ? true : false;\n    return this.dragging;\n};\nTouchController.prototype.shouldStartMomentum = function () {\n    return false;\n};\nTouchController.prototype.reset = function () {\n    var offsetX = this.contentOffsetX;\n    var offsetY = this.contentOffsetY;\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    if (this.translate3d) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(0,0,0)';\n        this.contentOffsetX = 0;\n        this.contentOffsetY = 0;\n    } else {\n        this.element.style.top = 0;\n        this.element.style.left = 0;\n    }\n};\nTouchController.prototype.forceRefresh = function () {\n}    //this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,100px, 0)';\n//this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,0,0)';\n;\nTouchController.prototype.isBottom = function () {\n    if (this.maxY >= 0) {\n        return false;\n    } else {\n        return this.contentOffsetY - this.maxY < 10;\n    }\n};\nTouchController.prototype.addPadding = function (id, padding) {\n    var $id = $('#' + id);\n    var w = $id.width() + padding.right;\n    var h = $id.height() + padding.bottom;\n    this.element.style.width = w + 'px';\n    this.element.style.height = h + 'px';\n};    // TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\n// TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\nwindow.TouchController = TouchController;\nexport default TouchController;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * This is a standalone module.  jQuery,prototype, etc. - depend on this\n * @author: Borys Kolesnykov\n *\n */\n\nimport jrsConfigs from '../../jrs.configs';\n\nvar htmlTagWhiteList = 'a,abbr,acronym,address,animate,animateMotion,animateTransform,area,article,aside,b,bdi,bdo,big,blockquote,body,br,button,' +\n    'canvas,caption,center,circle,cite,clipPath,code,col,colgroup,color-profile,dd,defs,desc,details,dfn,discard,div,dl,dt,ellipse,em,' +\n    'feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,' +\n    'fieldset,filter,font,footer,form,h1,h2,h3,h4,h5,h6,head,' +\n    'header,hr,html,i,g,iframe,image,img,input,js-templateNonce,label,legend,li,line,linearGradient,main,map,mark,marker,mask,menu,menuitem,meta,metadata,mpath,nav,ol,option,p,path,pattern,polygon,polyline,' +\n    'pre,radialGradient,rect,section,select,set,small,span,stop,strike,strong,style,sub,summary,sup,svg,switch,symbol,table,tbody,td,text,textPath,textarea,tfoot,th,thead,title,tr,tspan,u,ul,use,view';\n\n// None of the chars in the values of the map should appear as the map key to\n// avoid multiple escaping in a case like xssUtil.hardEscape(xssUtil.hardEscape(str))\n// Also, the escapeMap keys should NOT contain any initial values of unescapeMap.map.\n// The canonicalization would be broken.  Eg. if escapeMap has a key 'c',\n// 'javas&#99;ript' won't be canonicalized to 'javascript', because canonicExclusionMap\n// would have {'&#99;': '*&*#*9*9*;*'}. '&#99;' would be excluded from canonic.\nvar escapeMap = {\n    '(': '&#40;',\n    ')': '&#41;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\n\n// here, we are escaping all the characters in str that are special in regex's.\n// The str returned here is used to further construct a regex as follows: (?: str ).\n// Eg. str = \"a{}\" results in \"a\\{\\}\" after replace().\nvar makeStringRegex = function(str){\n    return str == null ? '' : str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n};\n\n// Need to escape chars like ) and ( in order to construct correct regex later /(?: \\)|\\( )/g\nvar regexKeys = function(map) {\n    var arr = [];\n    for (var k in map) {\n        if (Object.prototype.hasOwnProperty.call(map, k))\n            arr.push(makeStringRegex(k));\n    }\n    return arr;\n};\n\n// unescapeMap is made from reverse of escapeMap + extra chars.\nvar unescapeMap = (function() {\n    var map = {\n            '&#111;': 'o',\n            '&#110;': 'n',\n            '&#115;': 's',\n            '&#114;': 'r',\n            '&#99;': 'c',\n            '&#100;': 'd',\n            '&amp;': '&'\n        }, k;\n    for (k in escapeMap) {\n        if (Object.prototype.hasOwnProperty.call(escapeMap, k))\n            map[escapeMap[k]] = k;\n    }\n\n    return map;\n})();\n\n//'hard' escape regex\nvar hardEscapeRegex = RegExp('(?:' + regexKeys(escapeMap).join('|') + ')', 'g');\n\n/*\n    'str' func argument should not be escaped (func returns false) if:\n    - str is not a String\n    - str is not an HTML; does not contain < and >\n */\nvar _isHTMLString = function (str) {\n    if (!(typeof(str) === 'string' || str instanceof String))\n        return false;\n\n    // not an HTML string\n    if (str.indexOf('<') < 0 && str.indexOf('>') < 0)\n        return false;\n\n    return true;\n};\n\n// This func. takes a string on input and retuns the string obfuscated it with an input char (obfChar).\n// It intersperses the obfuscation char around all the input string chars.\n// E.g.  &#40; is converted to *&*#*4*0*;* value\nvar _stringCanonicObfuscator = function (str, obfChar) {\n    var obfuscatedStr = obfChar;\n    for (var i = 0; i < str.length; ++i) {\n        obfuscatedStr += str.charAt(i);\n        obfuscatedStr += obfChar;\n    }\n\n    return obfuscatedStr;\n};\n\n// The keys of canonicExclusionMap are the html encoded characters that are not canonicalized during soft\n// escape (They are the values from escapeMap used in hardEscape func).  The values of the canonicExclusionMap\n// are its modified keys such that canonicalization does not decode the map keys found in the string.\n// It should be unlikely that these mutant values would be found in the application data stream.\n// If the values are found in the string by accident, they would be replaced by the map keys (danger)\nvar canonicExclusionMap = (function() {\n    var map = {}, key;\n\n    for (key in escapeMap) {\n        if (Object.prototype.hasOwnProperty.call(escapeMap, key)) {\n            var obfuscStr = escapeMap[key];\n            map[obfuscStr] = _stringCanonicObfuscator(obfuscStr, '*');\n        }\n    }\n\n    //textarea needs to be obfuscated because we are inserting into <textarea> elem. to canonicalize.  Firefox breaks in this case.\n    var addCanonicObfuscArr = ['<textarea', '</textarea>'];\n    for (var c = 0; c < addCanonicObfuscArr.length; ++c) {\n        var addObfuscStr = addCanonicObfuscArr[c];\n        map[addObfuscStr] = _stringCanonicObfuscator(addObfuscStr, '*');\n    }\n\n    return map;\n})();\n\nvar reverseCanonicExclusionMap = (function () {\n    var map = {}, key;\n    for (key in canonicExclusionMap) {\n        if (Object.prototype.hasOwnProperty.call(canonicExclusionMap, key)) {\n            map[canonicExclusionMap[key]] = key;\n        }\n    }\n\n    return map;\n})();\n\nvar canonicExclusionRegex = RegExp('(?:' + regexKeys(canonicExclusionMap).join('|') + ')', 'g');\nvar reverseCanonicExclusionRegex = RegExp('(?:' + regexKeys(reverseCanonicExclusionMap).join('|') + ')', 'g');\n\n/**\n * Canonicalize/decode the string from any HTML encoding to ASCII.\n * Hard escaped characters listed as keys in escapeMap are not canonicalized to prevent soft\n * escape from reversing the hard escape as in xssUtil.softHtmlEscape(xssUtil.hardEscape(str))\n *\n * @param string\n * @returns canonicalized {string}\n * @private\n */\nfunction _canonicalize(string) {\n    string = string == null ? '' : string;\n\n    // exclude potentially hard escaped chars from escapeMap values\n    string = canonicExclusionRegex.test(string) ? string.replace(canonicExclusionRegex, function(match) { return canonicExclusionMap[match]; }) : string;\n\n    var canonicElem = document.createElement('textarea');\n    canonicElem.innerHTML = string; // eslint-disable-line\n    string = canonicElem.value;\n\n    // revert the chars excluded above to their original values\n    string = reverseCanonicExclusionRegex.test(string) ? string.replace(reverseCanonicExclusionRegex, function(match) { return reverseCanonicExclusionMap[match]; }) : string;\n\n    return string;\n}\n\n/**\n * In visualize, jquery & xssUtil dependency are loaded before 'settings';\n * hence, it's possible for jrsConfigs.xssNonce to be undefined till jrsConfigs is\n * populated from 'settings'.\n *\n * @returns xssNonce\n * @private\n */\nfunction _getXssNonce() {\n    if (!jrsConfigs.xssNonce) {\n        throw new Error('xssNonce is not set. No render is allowed without xssNonce.');\n    }\n\n    return jrsConfigs.xssNonce;\n}\n\n/**\n * noncePrefix is used to prefix the result of xssUtil.softHtmlEscape(str, {whitelist: ['img']}), so that\n * the result is not overwritten during the subsequent call for html output -> xssUtil.softHtmlEscape(str)\n *\n * @returns nonce prefix\n * @private\n */\nfunction _getNoncePrefix() {\n    if (_getNoncePrefix.noncePrefix === undefined) {\n        var xssNonce = _getXssNonce();\n        if (!xssNonce)\n            return null;\n        _getNoncePrefix.noncePrefix = '<!--@' + xssNonce + '@-->'\n    }\n\n    return _getNoncePrefix.noncePrefix;\n}\n\n/**\n * In visualize, jquery & xssUtil dependency are loaded before 'settings';\n * hence, it's possible for jrsConfigs.xssHtmlTagWhiteList to be undefined till jrsConfigs is\n * populated from 'settings'.\n *\n * @returns configured htmlTagWhiteList (on the server)\n * @private\n */\nfunction _getConfigHtmlTagWhitelist() {\n    var configHtmlTagWhitelist = jrsConfigs.xssHtmlTagWhiteList;\n\n    configHtmlTagWhitelist = (typeof configHtmlTagWhitelist === 'string' ? configHtmlTagWhitelist : \"\");\n    configHtmlTagWhitelist = configHtmlTagWhitelist.replace(/\\s/g,'');   //remove the spaces from xss.soft.html.escape.tag.whitelist in security-config.properties\n    return configHtmlTagWhitelist;\n}\n\n/**\n * If htmlTagWhiteList is configured on the server, replace/modify htmlTagWhiteList with the server value.\n * if the 'configured htmlTagWhiteList' starts with +, the tags in config are added to the hard-coded htmlTagWhiteList;\n * otherwise, 'configured htmlTagWhiteList' replaces htmlTagWhiteList\n *\n * If there is no configuration on the server, return the default hard-coded htmlTagWhiteList.\n *\n * @returns htmlTagWhiteList\n * @private\n */\nfunction _getHtmlTagWhitelist() {\n    var configHtmlTagWhitelist = _getConfigHtmlTagWhitelist();\n\n    // if jrsConfigs.xssHtmlTagWhiteList starts with +, the tags are added to the htmlTagWhiteList;\n    // o/w, jrsConfigs.xssHtmlTagWhiteList replaces htmlTagWhiteList\n    if (configHtmlTagWhitelist.length > 0 && !_getHtmlTagWhitelist.whitelistInitialized) {\n        htmlTagWhiteList =\n            (configHtmlTagWhitelist.startsWith(\"+\") ? htmlTagWhiteList + ',' + configHtmlTagWhitelist.substr(1) : configHtmlTagWhitelist);\n        _getHtmlTagWhitelist.whitelistInitialized = true;\n    }\n\n    return htmlTagWhiteList;\n}\n\n/**\n * Construct left HTML tag regext from htmlTagWhiteList.\n *\n * @return {RegExp}\n * @private\n */\nfunction _getWhitelistLeftRegex() {\n    if (_getWhitelistLeftRegex.leftTagRegexp !== undefined)\n        return _getWhitelistLeftRegex.leftTagRegexp;\n\n    var whitelist = _getHtmlTagWhitelist();\n    var whitelistRegexInsert = whitelist.replace(/,/g,'\\\\b|');\n    _getWhitelistLeftRegex.leftTagRegexp =  RegExp('<(?!/|' + whitelistRegexInsert + '\\\\b|!--)', 'ig');\n\n    return _getWhitelistLeftRegex.leftTagRegexp;\n}\n\n/**\n * Construct right HTML tag regext from htmlTagWhiteList.\n *\n * @return {RegExp}\n * @private\n */\nfunction _getWhitelistRightRegex() {\n    if (_getWhitelistRightRegex.rightTagRegexp !== undefined)\n        return _getWhitelistRightRegex.rightTagRegexp;\n\n    var whitelist = _getHtmlTagWhitelist();\n    var whitelistRegexInsert = whitelist.replace(/,/g,'\\\\b|');\n    _getWhitelistRightRegex.rightTagRegexp = RegExp('</(?!' + whitelistRegexInsert + '\\\\b)', 'ig');\n\n    return _getWhitelistRightRegex.rightTagRegexp;\n}\n\n//regex map used to escape HTML tag attributes which produce javascript context.\n// During 'soft' html escape, the map keys are converted into Regexp(\\b<key>\\b, 'gi')\n// and replaced with the corresponding map values.\nvar _defaultAttribSoftEscapeMap = {\n    'regex': [\n        /\\bjavascript:/ig,\n        /\\bon(\\w+?)\\s*=/ig,\n        /\\bsrcdoc\\s*=/ig\n    ],\n    'replacement': [\n        '',\n        '&#111;&#110;$1=',\n        '&#115;&#114;&#99;doc='\n    ]\n};\n\nfunction _getConfigAttribSoftHtmlEscapeMap() {\n    return jrsConfigs.xssAttribSoftHtmlEscapeMap;\n}\n\nfunction _getAttribSoftHtmlEscapeMap() {\n    if (_getAttribSoftHtmlEscapeMap.attribSoftEscapeArr !== undefined)\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n\n    var configAttribSoftHtmlEscapeMap = _getConfigAttribSoftHtmlEscapeMap();\n    if (!configAttribSoftHtmlEscapeMap) {\n        _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr = _defaultAttribSoftEscapeMap;\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n    }\n\n    try {\n        var configRegexArr = [];\n        var configReplArr = [];\n        for (var k in configAttribSoftHtmlEscapeMap) {\n            if (configAttribSoftHtmlEscapeMap.hasOwnProperty(k)) {\n                configRegexArr.push(RegExp( k, 'ig'));\n                configReplArr.push(configAttribSoftHtmlEscapeMap[k]);\n            }\n        }\n\n        _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr = {\n            'regex': configRegexArr,\n            'replacement': configReplArr\n        };\n\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr\n    }\n    catch (err) {\n        console.warn(\"Unable to parse xss.soft.html.escape.attrib.map.  Using _defaultAttribSoftEscapeMap.\"); // eslint-disable-line no-console\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n    }\n}\n\n/*\n        _xssSoftHtmlEscape performs 'soft HTML escape': an escape of html such that no Javascript is executed in the browser.\n        _xssSoftHtmlEscape escapes parenthesis and <.  < is escaped only if it's not followed by a valid html tag as defined by\n        htmlTagWhiteList or options.whitelist.  _xssSoftHtmlEscape also escapes some HTML attributes switching the HTML context\n        to Javascript.\n\n        If the 'string' input is not an HTML or contains a session nonce, soft HTML escape is not applied.\n        Session nonce marks the HTML as safe; that HTML does not require escaping against XSS.  This lets us\n        mark our html templates as safe (allows to include javascript and gives a performance boost).\n\n        Note: it's important that applying this function more than once does not escape the string multiple times.\n        Multiple escapes will break UI.\n        E.g. < is replaced with &lt;.  None of the chars & l t or ; should be escaped. If, say, & were replaced with\n        &amp;, < would become &amp;lt; after two escapes instead of staying &lt;.\n\n        Note2: The regular expressions are defined outside the function to improve performance.  The regex's\n        persist on the page; they have an internal state parameter lastIndex (last match loc.).  It's important\n        to reset lastIndex=0 before using each regex, so that the regex exec. results are correct.  Alternatively,\n        one can recreate the regex on each function call.\n\n        Parameters:\n        string - string to be purged of XSS via 'soft' HTML escape.\n        options.whitelist - [array] if defined, substitutes htmlTagWhiteList tags.  Tags in whitelist won't be escaped.\n                            This option is useful when we want to prevent the text input rendered as HTML.\n                            E.g. options.whitelist=['a'].  <a> won't be escaped. <img> will be escaped as &lt;img>.\n        options.escapeTags - [array] the tags excluded from htmlTagWhiteList; those tags would be escaped.\n                            E.g. options.escapeTags = ['iframe'].  <iframe > would become &lt;iframe >.\n                            This option is available only when whitelist is not specified.\n     */\nvar _xssSoftHtmlEscape = function(string, options) {\n    string = string == null ? '' : string;\n    options = options || { };\n\n    if (!_isHTMLString(string))\n        return string;\n\n    // The case in which options.whitelist escape was applied first; string starts with nonce.\n    // Avoid the subsequent escape during html output on the page.\n    // E.g. jquery.html(xssUtil.softHtmlEscape(str, {whitelist:['img']})).  If not for the following statement,\n    // subsequent call to xssUtil.softHtmlEscape inside jquery.html would use the default htmlTagWhiteList\n    // and would write over options.whitelist escape.  noncePrefix is an html comment to avoid showing it on the page.\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        return string.substring(noncePref.length);\n\n    // If the string contains nonce (not noncePrefix in the 1st pos-n), it comes from JRS; it's safe to exec javascript.\n    var xssNonce = _getXssNonce();\n    if (xssNonce && string.indexOf(xssNonce) >= 0)\n        return string;\n\n    string = _canonicalize(string);\n\n    //avoid escaping < or > in <TAG> or </TAG>, where TAG is white-listed\n    if (options.whiteList && options.whiteList instanceof Array && options.whiteList.length > 0) {\n        //escape <TAG>\n        var whitelistRegexStr = options.whiteList.join('\\\\b|');\n        var rtLeftTagRegexp = RegExp('<(?!/|' + whitelistRegexStr + '\\\\b|!--)', 'ig');\n        string = rtLeftTagRegexp.test(string) ? string.replace(rtLeftTagRegexp, '&lt;') : string;\n\n        //escape </TAG>\n        var rtRightTagRegexp = RegExp('</(?!' + whitelistRegexStr + '\\\\b)', 'ig');\n        string = rtRightTagRegexp.test(string) ? string.replace(rtRightTagRegexp, '&lt;/') : string;\n\n        string = noncePref + string;\n    }\n    else {\n        var tmpLeftTagRegexp = _getWhitelistLeftRegex(), tmpRightTagRegexp = _getWhitelistRightRegex();\n        tmpLeftTagRegexp.lastIndex = 0;\n        tmpRightTagRegexp.lastIndex = 0;\n\n        if (options.escapeTags && options.escapeTags instanceof Array) {\n            var tmpTagWhiteList = _getHtmlTagWhitelist();\n            for (var i = 0; i < options.escapeTags.length; ++i) {\n                tmpTagWhiteList = tmpTagWhiteList.replace(options.escapeTags[i] + ',', '')\n            }\n\n            tmpLeftTagRegexp = RegExp('<(?!/|' + tmpTagWhiteList.replace(/,/g, '\\\\b|') + '\\\\b|!--)', 'ig');\n            tmpRightTagRegexp = RegExp('</(?!' + tmpTagWhiteList.replace(/,/g, '\\\\b|') + '\\\\b)', 'ig');\n        }\n\n        //escape <TAG>\n        string = tmpLeftTagRegexp.test(string) ? string.replace(tmpLeftTagRegexp, '&lt;') : string;\n\n        //escape </TAG>\n        string = tmpRightTagRegexp.test(string) ? string.replace(tmpRightTagRegexp, '&lt;/') : string;\n    }\n\n    var attribSoftHtmlEscapeMap = _getAttribSoftHtmlEscapeMap();\n    var regexArr = attribSoftHtmlEscapeMap['regex'];\n    var replArr = attribSoftHtmlEscapeMap['replacement'];\n\n    for (var k=0; k<regexArr.length; ++k) {\n        var regex = regexArr[k];\n        regex.lastIndex = 0;\n\n        var replacement = replArr[k];\n        string = regex.test(string) ? string.replace(regex, replacement) : string;\n    }\n\n    return string;\n};\n\n/*\n     Unlike 'soft' HTML escape (_xssSoftHtmlEscape), this function simply escapes based on escapeMap key-value pairs.\n     It will break all html and javasctipt.\n */\nvar _xssHardEscape = function(string) {\n    string = string == null ? '' : string;\n\n    if (!(typeof(string) === 'string' || string instanceof String))\n        return string;\n\n    // The case in which soft html escape with options.whitelist was applied first; string starts with nonce.\n    // Remove nonce prefix.  Hard escape happens anyways.\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        string = string.substring(noncePref.length);\n\n    hardEscapeRegex.lastIndex = 0;\n    string = hardEscapeRegex.test(string) ? string.replace(hardEscapeRegex, function(match) { return escapeMap[match]; }) : string;\n    return string;\n};\n\n//Unescape function\nvar _xssUnescape = function(string) {\n    string = string == null ? '' : string;\n\n    if (!(typeof(string) === 'string' || string instanceof String)) {\n        return string;\n    }\n\n    // after soft escape with options.whitelist, the string will have a nonce prefix.\n    // Remove it to unescape the string in xssUtil.unescape(xssUtil.softHtmlEscape(string, {whitelist: ['a','div']})).\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        string = string.substring(noncePref.length);\n\n    // If the string contains nonce, it comes from JRS: was not escaped\n    var xssNonce = _getXssNonce();\n    if (xssNonce && string.indexOf(xssNonce) >= 0)\n        return string;\n\n    var unescapeRegexp = RegExp('(?:' + regexKeys(unescapeMap).join('|') + ')', 'ig');\n    return unescapeRegexp.test(string) ? string.replace(unescapeRegexp, function(match) { return unescapeMap[match]; }) : string;\n};\n\nexport default {\n    softHtmlEscape: _xssSoftHtmlEscape,\n    hardEscape: _xssHardEscape,\n    unescape: _xssUnescape\n};\n","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}