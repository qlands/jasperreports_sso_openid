{"version":3,"sources":["webpack://jrs-ui/./src/components/components.searchBox.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/components/list.base.js","webpack://jrs-ui/./src/core/core.accessibility.js","webpack://jrs-ui/./src/util/utils.common.js"],"names":["SearchBox","options","this","_id","id","_dom","jQuery","_enabled","_process","_assignHandlers","addMethod","_input","find","_clearButton","_searchButton","on","e","Event","stop","_keyPressHandler","bindAsEventListener","_clearHandler","_searchHandler","KEY_RETURN","keyCode","_doSearch","getText","blank","removeClass","layoutModule","addClass","setText","getValue","text","setValue","_updateClearButtonVisibility","buttonManager","attr","onSearch","JSTooltip","element","srcElement","label","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","_fromAttribute","length","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","css","initialZIndex","parents","toArray","memo","parent","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","position","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","clientWidth","window","width","leftOffset","height","topOffset","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","timer","clearTimeout","setTimeout","show","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","document","getElementById","setAttribute","reject","t","baseList","isResponsive","item","hasClass","isCollapsible","selectItem","_allowSelections","isItemDisabled","deselectItem","isItemSelected","disableItem","enableItem","openItem","isOpen","isItemOpen","closeItem","dynamicList","lists","activeListId","_templateHash","messages","getDynamicListForElement","$list","is","_itemId","undefined","_list","first","last","isIconClicked","_value","_label","_subList","subList","_cssClassName","cssClassName","_templateDomId","templateDomId","_respondOnItemEvents","Object","isUndefined","respondOnItemEvents","_excludeFromEventHandling","excludeFromEventHandling","_excludeFromSelectionTriggers","excludeFromSelectionTriggers","FAVORITE_ICON_PATTERN","favoriteIconPattern","SCHEDULE_ICON_PATTERN","scheduleIconPattern","ListItem","list","getList","getNextItemId","container","processTemplate","_getTemplate","_getElement","_generateId","tabindex","listItem","refreshStyle","siblings","childElements","afterIndex","insert","after","hadFocus","activeElement","focus","remove","templateClassName","className","isSelected","isDisabled","getCssClassName","isComposite","cursor","isNotNullORUndefined","wrapper","cleanWhitespace","elementsCount","childNodes","getLabel","data","removeItems","getItems","isElement","clone","getId","DEFAULT_ITEM_ID_PREFIX","event","matchAny","target","CompositeItem","call","_items","items","_openUp","openUp","_subListOptions","listOptions","_listTagName","OPEN_HANDLER_PATTERN","openHandlerPattern","CLOSE_HANDLER_PATTERN","closeHandlerPattern","prototype","deepClone","tagName","_showSubList","_getSubListId","subListElement","Element","bottom","opts","List","allowSelections","responsive","_responsive","selectionDefaultsToCursor","_selectionDefaultsToCursor","collapsible","_collapsible","multiSelect","_multiSelect","listTemplateDomId","_listTemplateDomId","itemTemplateDomId","_itemTemplateDomId","itemCssClassName","_itemCssClassName","comparator","_comparator","_initEvents","_parentList","parentItem","bind","subitem","getFirstChild","deselect","setCursor","$item","refresh","DEFAULT_SUB_LIST_ID_SUFFIX","TemplatedListItem","tooltipText","tempFunc","constructor","UnderscoreTemplatedListItem","_template","template","tempFunction","_selectedItems","_lastSelectedItem","_nextId","draggables","_selectOnMousedown","selectOnMousedown","_setCursorOnMousedown","setCursorOnMousedown","dragPattern","scroll","setItems","_createFromTemplate","_registerCustomScroll","_msgNItemsSelected","Template","ITEM_SELECTED","ITEM_UNSELECTED","ITEM_MOUSEUP","ITEM_MOUSEDOWN","ITEM_CLICK","ITEM_DBLCLICK","ITEM_OPEN","ITEM_CLOSED","ITEM_CONTEXTMENU","ITEM_BEFORE_SELECT_OR_UNSELECT","newCursor","oldCursor","listEl","resetSelected","addItems","getCursor","compact","_prepareListItem","sort","pos","apply","concat","setList","getTemplateDomId","setTemplateDomId","setCssClassName","_removeItemFromSelected","getNextItem","getPreviousItem","unsetList","scrollUpTo","getSelectedItems","closest","isCtrlHeld","isShiftKeyHeld","isContextMenu","fire","stopSelectOrUnselect","isContextMenuOnSelected","reset","selectRange","start","end","min","i","_addItemToSelected","isShiftKey","findAll","skipParent","thatList","scrollEl","parentNode","scrollTop","scrollPortHeight","offsetHeight","correction","offsetTop","itemYPos","currentIndex","baseEvent","targetEvent","subItem","nextItem","preventDefault","stopPropagation","selectNext","isShiftHeld","previousItem","selectPrevious","headerHack","newScrollTop","iterItem","outItem","itemsAmount","itemElements","cursorWasFocus","isRendered","wasOpened","getCursorElement","clean","eventName","handler","observe","stopObserving","itemList","idsAreEqual","parentListContainsChild","contains","_getTemplateElement","disableSelectionWithoutCursorStyle","currentElement","cloneCustomAttributes","remember","without","evaluate","count","scrollBar","up","identify","thisElem","matchingElem","getItemByEvent","Draggable","superghosting","mouseOffset","onStart","setDragStartState","onEnd","setDragEndState","draggable","slice","_buildDnDOverlay","scrollSensitivity","Draggables","regionID","matchMeOrUp","_isElementInExcluded","listEvent","isInvoked","_isExcludedFromSelectionTriggers","isCtrlHeldValue","isMetaHeld","isShiftHeldValue","isContextMenuValue","isRightClick","isSelect","TouchController","isSupportsTouch","changedTouches","deselectOthers","twofingers","node","createDraggableIfNeeded","type","iconEvent","_itemPreventEvent","touches","source","_isCloseHandler","_isOpenHandler","_mousedownHandler","_mouseupHandler","isIPad","_mouseoverHandler","_clickHandler","_dblclickHandler","selectInwards","selectOutwards","selectPageDown","isFavHandler","isFavIcon","isOpenOrCloseHandler","which","_isFavoriteHandler","UnderscoreTemplatedList","arguments","temporaryFunc","accessibilityModule","ATTR_TAB_INDEX","ATTR_COMPONENT_TYPE","delayTime","components","currentTabIndex","initialize","tabIndex","getTabIndex","_focusByType","component","tree","dynamicTree","selectedNodes","bShowRoot","getRootNode","_doFocus","children","_blurByType","actionModel","object","_focusComponent","focusFunction","getType","_blurComponent","blurFunction","findTabComponent","match","getNext","startIndex","nextIndex","getPrevious","previousIndex","focusNext","focusByIndex","focusPrevious","blurCurrent","blurByIndex","log","isMacOS","isOS","isWindowsOS","isLinuxOS","osName","navigator","appVersion","toLowerCase","isAndroid","isMozilla","appName","isFirefox","userAgent","isWebKitEngine","Prototype","isChrome","platform","isIE","isIE6","isIEVersion","isIE7","isIE8","isIE9","isIE10","isIE11","isIEVersion7Upwards","getIEVersion","testVersion","version","ua","RegExp","exec","parseFloat","$1","msVersion","doNothing","addDataToForm","form","postData","addHiddenInputToForm","parameterName","parameterValue","input","val","append","parameterValues","updateYearMonth","date","year","month","setFullYear","setMonth","getMonth","getTZOffset","timezoneLabel","targetDateStr","utc_offset","tzList","utc","utc_dst","moment","isDST","exists","obj","isNumber","hasDisabledAttributeSet","getAttribute","getParentDiv","getAbsoluteParent","child","nextOne","style","getElementWithIdAndTagAndParent","parentElem","elems","getElementsByTagName","getClosestAncestor","cssRule","result","isDescendantOf","getCellIndex","cell","cellIndex","getRowIndex","row","rowIndex","ancestors","any","s","hasClassName","patterns","includeAncestors","j","upMatch","pattern","stylesMatch","elem1","elem2","styleName","getStyle","getNextMatchingSibling","nextSibling","getNextNonMatchingSibling","getPreviousMatchingSibling","previousSibling","getPreviousNonMatchingSibling","getAbsoluteOffsets","thisObj","oLeft","offsetLeft","oTop","thisParent","offsetParent","toUpperCase","Array","offsetWidth","getAbsoluteTopOffset","updatedTop","includeScrollOffsets","$","cumulativeOffset","posLeft","posTop","scrollOffsets","cumulativeScrollOffset","getInnerText","innerText","textContent","isPointOverlayingObject","x","y","Position","boxesOverlap","leftA","topA","rightA","bottomA","leftB","topB","rightB","bottomB","boxesOverlapVertically","boxesOverlapHorizontally","getOuterHeight","Number","replace","getBufferHeight","getOuterWidth","getBufferWidth","includeMargins","visible","digitRegex","marginTop","marginBottom","ceil","marginLeft","marginRight","getDimensionInPx","dimension","measurement","parentMeasurement","right","getActualDimension","purgeChildElements","kids","l","purge","removeChild","d","n","a","attributes","name","getCaret","el","selectionStart","selection","r","createRange","re","createTextRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","isAlmostInView","theElem","offset","getWindowHeight","getTouchedElement","elementFromPoint","centerLayer","getWindowWidth","centerElement","jquery","get","horz","w","getWidth","theWidth","vert","h","getHeight","theHeight","parseFunc","prefix","cssClasses","substring","cascadeElement","theBufferedWidth","parentWidth","horzOffset","number","theBufferedHeight","parentHeight","vertOffset","fitObjectIntoScreen","thisLeft","thisTop","thisWidth","thisHeight","sl","st","sw","sh","focusOn","selectAndFocusOn","renderHazeLayer","theBody","body","renderOverlay","scrollWidth","scrollHeight","overlayObject","createElement","appendChild","removeOverlay","reParent","newParent","getScrollLeftForAbsoluteParent","parentObj","scrollLeft","getScrollTopForAbsoluteParent","renderTransparentIFrame","iframe","frameBorder","Function","func","compose","argFunction","invokingFunction","overlayObjectStack","pushOverlayObject","elementId","pushOverlayObjectAtOffsets","pushTotalOverlayObject","popOverlayObject","pop","popAllOverlayObjects","disableSelection","KhtmlUserSelect","onselectstart","cancelBubble","MozUserSelect","enableSelection","theState","cursorDefault","cursorPointer","cursorWait","getCellAtColumn","cells","columnIndex","columnCount","colspan","getCellAtRow","rows","thisCell","rowspan","copyTable","fromT","toT","paramsAreTBody","fromBody","toBody","clearTable","html","copyTableJquery","myTable","all","deleteRow","scrollX","scrollY","scrollXToMiddle","excess","launchNewWindow","url","open","getIFrameDocument","iFrame","doc","contentWindow","contentDocument","getEvent","popEvent","cancelEventBubbling","triggerNativeEvent","ev","ie","documentElement","createEvent","initEvent","dispatchEvent","fireEvent","createEventObject","relatedTargetInElementSubtree","relatedTarget","descendantOf","cancelEventAndPreventDefault","enterKeyHit","charCode","whichKeyHit","ctrlKey","shiftKey","getEventTarget","isNavigationInput","code","Keys","DOM_VK_LEFT","DOM_VK_RIGHT","DOM_VK_TAB","DOM_VK_BACK_SPACE","DOM_VK_ENTER","verifyIsDigitInput","DOM_VK_0","DOM_VK_9","verifyIsInputNumericDecimalSeparator","keyPad","String","fromCharCode","decimalSeparator","numberOfDecimals","someNumericValue","wordLen","charAt","macOSKeyboardRightClick","button","macOSMouseRightClick","buttonRightclick","keyboardClick","mouseClick","isLeftClick","macUsesAlt","altKey","metaKey","trim","thisStr","strip","startsWith","string1","string2","getTextAfterUnderscore","theText","getTextAfterSubstring","getTextBeforeUnderscore","getTextBeforeSubstring","extractNumber","str","theSubstring","ssIndex","removeTrailingSlash","theString","removeTrailingPound","removeChars","charArray","replaceAll","str1","str2","gsub","jsHash","ret","clazz","textCounter","field","maxlimit","saveAndClear","myString","saveString","escapeString","escapeChars","alwaysUseFirstPattern","firstPattern","escapeChar","formatString","string","indexes","parts","splitText","splitPosition","substr","redirectToUrl","referLink","href","click","location","downloadFileByUrl","targetIframeId","targetIframe","display","checkURLProtocol","urlString","enforcePrefix","commonProtocols","getSymbolToAppendNextParam","urlSoFar","lastChar","restoreDefaultCursor","encodeText","encodeURIComponent","decodeText","decodeURIComponent","constrain","lower","upper","fromElement","toElement","attribute","initLog","logIt","task","Date","getTime","debug","message","console","startTimer","key","time","stopTimer","timeEnd","response","status","inspect","myObj","properties","property","hasOwnProperty","toBlockNotation","dotNotationString","map","getAsFunction","functionName","toFunction","theFunction","blockReference","eval","BusyMonitor","waitTime","InPlaceEditor","editing","evaluateScripts","containerObj","scripts","script","globalEval","evaluateScript","scriptId","scriptText","loadJSFiles","scriptLibraryArray","thisFile","loadJSFile","unloadAllScripts","loadCSSFiles","cssFileArray","addToBody","loadCSSFile","unloadCSSFile","cssLink","escape","unloadCSSFiles","ex","alert","createCSSRule","cssString","getFirstMatch","cssSelector","dialogOnMouseDown","cancelEventDragTarget","Dragger","DragListener","run","args","functionToCall","cancel","makeEditable","self","inputId","inputValue","inputBox","Builder","onceSelected","hover","onblur","onblurFunction","onkeyPressFunction","KEY_TAB","mouseHandler","onclickFunction","ontouchend","onmousedown","onkeydown","KEY_ESC","onescFunction","makeNonEditable","firstDescendant","revertEdit","cancelEventDrag","encodeUriParameter","replaceHTML","insertBefore","gotoDefaultLocation","params","gotoFolderExplorer","folderUri","switchDesign","switchTo","thisUrl","hasDecParam","showDiv","divId","div","oldZindex","hideDiv","borderImage","color","borderColor","resetRadio","radio","changed","checked","launchAboutDlg","aboutPanel","hideAboutDlg","unescapeBackslash","times","tracer","nativeCodeEx","indentCount","tracing","traceMe","methodName","traceOn","startTime","indentString","info","prop","traceOff","traceAll","root","recurse","test","untraceAll","thisTracing","ValidationModule","validate","validationEntries","showError","that","validateEntry","valid","entry","validationEntry","validator","validateLegacy","selector","_validateElement","newMsg","errorMessage","method","_runValidatorOnElement","validators","hideError","methods","res","isValid","attachOnEvent","_getMessage","customMessages","defaultMessages","fillPlaceholders","mandatory","tooSmall","tooBig","tooShort","tooLong","wordInvalidChars","shouldStartWithLetter","minMax","isNaN","minMaxLength","minLength","maxLength","resourceIdChars","localContext","initOptions","resourceIdNotSupportedSymbols","wordChars","search","startsWithLetter","isDecimal","isInteger","elemsWithErrors","onValid","onInvalid","_showMessage","containerClass","messageTypeClass","msgContainer","validatorMessageContainer","msg","utilsCommonEnum","classes","detailsMessage","detailsBtn","dialogs","errorPopup","showDetails","showSuccess","successMessage","cleanMessage","hideSuccess","ClassNameBuilder","classNameBuilder","names","uniq","newNames","isString","newName","JSCookie","days","_getCookies","_setCookie","cookies","cookie","invoke","nv","decodeURI","getCookieTemplate","encodeURI","expires","_getExpiresDate","toGMTString","setTime","daysToExpiration","sessionManager","RESET_SESSION_MIN_TIME","resetSession","flowExecutionKey","_lastSessionResetTime","buildActionUrl","eventId","errorHandler","ajaxNonReturningUpdate","ajaxAgent","getResponseHeader","urlContext","paramsClone","$w","toQueryString","pageDimmer","DOM_ID","owner","dialogIndex","setZindex","zindex","fileSender","ajaxIframeDownload","onload","src","parseAsDate","parseAsDateTime","padNumber","toTimestampString","getUTCFullYear","getDate","getHours","getMinutes","getSeconds","upload","flowId","callback","uploadMultiple","inputs","action","enctype","fileInput","cloneNode","file","moveEventHandlers","inp","submit","fromEl","toEl","CACHE","cache","getUniqueElementID","registry","registryEntry","uniqueID","_prototypeUID","Storage","UID","frame","c","floor","random","loaded","onComplete","f","frames","sessionTimeoutHandler","metas","content","DOM_VK_PAGE_UP","DOM_VK_DOWN","DOM_VK_INSERT","DOM_VK_DELETE","DOM_VK_NUMPAD0","DOM_VK_NUMPAD9","DOM_VK_DECIMAL","DOM_VK_COMMA","DOM_VK_PERIOD","DOM_VK_CANCEL","DOM_VK_HELP","DOM_VK_CLEAR","DOM_VK_RETURN","DOM_VK_SHIFT","DOM_VK_CONTROL","DOM_VK_ALT","DOM_VK_PAUSE","DOM_VK_CAPS_LOCK","DOM_VK_ESCAPE","DOM_VK_SPACE","DOM_VK_PAGE_DOWN","DOM_VK_END","DOM_VK_HOME","DOM_VK_UP","DOM_VK_PRINTSCREEN","DOM_VK_1","DOM_VK_2","DOM_VK_3","DOM_VK_4","DOM_VK_5","DOM_VK_6","DOM_VK_7","DOM_VK_8","DOM_VK_SEMICOLON","DOM_VK_EQUALS","DOM_VK_A","DOM_VK_B","DOM_VK_C","DOM_VK_D","DOM_VK_E","DOM_VK_F","DOM_VK_G","DOM_VK_H","DOM_VK_I","DOM_VK_J","DOM_VK_K","DOM_VK_L","DOM_VK_M","DOM_VK_N","DOM_VK_O","DOM_VK_P","DOM_VK_Q","DOM_VK_R","DOM_VK_S","DOM_VK_T","DOM_VK_U","DOM_VK_V","DOM_VK_W","DOM_VK_X","DOM_VK_Y","DOM_VK_Z","DOM_VK_CONTEXT_MENU","DOM_VK_NUMPAD1","DOM_VK_NUMPAD2","DOM_VK_NUMPAD3","DOM_VK_NUMPAD4","DOM_VK_NUMPAD5","DOM_VK_NUMPAD6","DOM_VK_NUMPAD7","DOM_VK_NUMPAD8","DOM_VK_MULTIPLY","DOM_VK_ADD","DOM_VK_SEPARATOR","DOM_VK_SUBTRACT","DOM_VK_SUBTRACT_UNDERSCORE_IE","DOM_VK_DIVIDE","DOM_VK_F1","DOM_VK_F2","DOM_VK_F3","DOM_VK_F4","DOM_VK_F5","DOM_VK_F6","DOM_VK_F7","DOM_VK_F8","DOM_VK_F9","DOM_VK_F10","DOM_VK_F11","DOM_VK_F12","DOM_VK_F13","DOM_VK_F14","DOM_VK_F15","DOM_VK_F16","DOM_VK_F17","DOM_VK_F18","DOM_VK_F19","DOM_VK_F20","DOM_VK_F21","DOM_VK_F22","DOM_VK_F23","DOM_VK_F24","DOM_VK_NUM_LOCK","DOM_VK_SCROLL_LOCK","DOM_VK_SLASH","DOM_VK_BACK_QUOTE","DOM_VK_OPEN_BRACKET","DOM_VK_BACK_SLASH","DOM_VK_CLOSE_BRACKET","DOM_VK_QUOTE","DOM_VK_META","compileTemplate","templateSelector","oldSettings","interpolate"],"mappings":"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","file":"_chunks/chunk.2492.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @author: Yuriy Plakosh\n * @version: $Id$\n */\n\n/*\n * Search box class.\n *\n * @param options {JSON Object} - Set of options for search box:\n * <ul>\n *      <li>id - the identifier of search box form element in the DOM</li>\n * </ul>\n */\n\nimport layoutModule from '../core/core.layout';\nimport buttonManager from '../core/core.events.bis';\nimport jQuery from 'jquery';\n\nvar SearchBox = function(options) {\n    this._id = options.id;\n    this._dom = jQuery('#' + this._id)[0];\n    this._enabled = true;\n\n    this._process();\n    this._assignHandlers();\n};\n\n/**\n * Processes DOM.\n */\nSearchBox.addMethod('_process', function() {\n    this._input = jQuery(this._dom).find('input')[0];\n    this._clearButton = jQuery(this._dom).find('.button.searchClear')[0];\n    this._searchButton = jQuery(this._dom).find('.button.search')[0];\n});\n\n/**\n * Assigns handlers.\n */\nSearchBox.addMethod('_assignHandlers', function() {\n    jQuery(this._dom).on('submit', function(e) {\n        Event.stop(e);\n    });\n\n    jQuery(this._input).on(\"keypress\", this._keyPressHandler.bindAsEventListener(this));\n\n    jQuery(this._clearButton).on('click', this._clearHandler.bindAsEventListener(this));\n    jQuery(this._searchButton).on('click', this._searchHandler.bindAsEventListener(this));\n});\n\n/**\n * Key pressed handler for input field.\n */\nSearchBox.addMethod('_keyPressHandler', function(e) {\n    if (this._enabled && Event.KEY_RETURN == e.keyCode) {\n        this._doSearch();\n\n        // Fix to prevent click event handling on clear button when enter key is pressed in the input field.\n        Event.stop(e);\n    }\n});\n\n/**\n * Updates visibility of clear button.\n */\nSearchBox.addMethod('_updateClearButtonVisibility', function() {\n    if (!this.getText().blank()) {\n        jQuery(this._clearButton).addClass(layoutModule.UP_CLASS);\n    } else {\n        jQuery(this._clearButton).removeClass(layoutModule.UP_CLASS);\n    }\n});\n\n/**\n * Click handler for clear button.\n */\nSearchBox.addMethod('_clearHandler', function() {\n    if (this._enabled) {\n        this.setText(\"\");\n        this._doSearch();\n    }\n});\n\n/**\n * Click handler for search button.\n */\nSearchBox.addMethod('_searchHandler', function() {\n    if (this._enabled) {\n        this._doSearch();\n    }\n});\n\n/**\n * Gets search box text.\n */\nSearchBox.addMethod('getText', function() {\n    return this._input.getValue();\n});\n\n/**\n * Sets search box text.\n */\nSearchBox.addMethod('setText', function(text) {\n    this._input.setValue(text);\n    this._updateClearButtonVisibility();\n});\n\n/**\n * Enables search box.\n */\nSearchBox.addMethod('enable', function() {\n    buttonManager.enable(this._clearButton);\n    buttonManager.enable(this._searchButton);\n    jQuery(this._input).attr(layoutModule.READONLY_ATTR_NAME, null);\n    jQuery(this._dom).attr(layoutModule.DISABLED_ATTR_NAME, null);\n\n    this._enabled = true;\n});\n\n/**\n * Disables search box.\n */\nSearchBox.addMethod('disable', function() {\n    buttonManager.disable(this._clearButton);\n    buttonManager.disable(this._searchButton);\n    jQuery(this._input).attr(layoutModule.READONLY_ATTR_NAME, layoutModule.READONLY_ATTR_NAME);\n    jQuery(this._dom).attr(layoutModule.DISABLED_ATTR_NAME, layoutModule.DISABLED_ATTR_NAME);\n\n    this._enabled = false;\n});\n\n/**\n * Does search action.\n */\nSearchBox.addMethod('_doSearch', function(text) {\n    this._updateClearButtonVisibility();\n    this.onSearch(this.getText());\n});\n\n/**\n * Is invoked when search action was performed (search button pressed, clear button pressed, enter key pressed in the\n * text input field). This method should be replaced in the instance of SearchBox class to handle search action.\n *\n * @param text the text in the search box.\n */\nSearchBox.addMethod('onSearch', function(text) {\n    // No-op.\n});\n\nexport default SearchBox;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    actualX:0,\n    actualY:0,\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            this.actualX = offsets[0];\n            this.actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([tooltipModule.actualX, tooltipModule.actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                tooltipModule.actualX = evt.clientX;\n                tooltipModule.actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.setAttribute(\"id\",null);\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport {Draggables, Draggable} from 'dragdropextra';\nimport {Template} from 'prototype';\nimport layoutModule from '../core/core.layout';\nimport buttonManager from '../core/core.events.bis';\nimport {\n    isNotNullORUndefined,\n    matchAny,\n    deepClone,\n    isArray,\n    isShiftHeld,\n    disableSelectionWithoutCursorStyle,\n    cloneCustomAttributes,\n    matchMeOrUp,\n    isMetaHeld,\n    isRightClick,\n    isSupportsTouch,\n    isIPad\n} from '../util/utils.common';\n\nimport TouchController from '../util/touch.controller';\nimport {JSTooltip} from \"./components.tooltip\";\nimport _ from 'underscore';\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport jQuery from 'jquery';\n\nvar baseList = {\n    isResponsive: function (item) {\n        return jQuery(item).parent().hasClass(layoutModule.RESPONSIVE_CLASS);\n    },\n    isCollapsible: function (item) {\n        return jQuery(item).parent().hasClass(layoutModule.COLLAPSIBLE_CLASS);\n    },\n    selectItem: function (item) {\n        if (this._allowSelections) {\n            if (this.isItemDisabled(item)) {\n                return;\n            }\n            jQuery(item).addClass(layoutModule.SELECTED_CLASS);\n        }\n    },\n    deselectItem: function (item) {\n        jQuery(item).removeClass(layoutModule.SELECTED_CLASS);\n    },\n    isItemSelected: function (item) {\n        return jQuery(item).hasClass(layoutModule.SELECTED_CLASS);\n    },\n    disableItem: function (item) {\n        buttonManager.disable(item);\n    },\n    enableItem: function (item) {\n        buttonManager.enable(item);\n    },\n    isItemDisabled: function (item) {\n        return buttonManager.isDisabled(item);\n    },\n    openItem: function (item) {\n        jQuery(item).removeClass(layoutModule.CLOSED_CLASS).addClass(layoutModule.OPEN_CLASS)[0].isOpen = true;\n    },\n    isItemOpen: function (item) {\n        return jQuery(item).hasClass(layoutModule.OPEN_CLASS) || jQuery(item)[0].isOpen && !jQuery(item).hasClass(layoutModule.CLOSED_CLASS);\n    },\n    closeItem: function (item) {\n        jQuery(item).removeClass(layoutModule.OPEN_CLASS).addClass(layoutModule.CLOSED_CLASS)[0].isOpen = false;\n    }\n};    ///////////////////////////////////////////////////////\n// Global module for all list related code\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Global module for all list related code\n///////////////////////////////////////////////////////\nvar dynamicList = {\n    /**\n     * Map of all created lists on current page\n     */\n    lists: {},\n    /**\n     * Id of last active list\n     */\n    activeListId: null,\n    _templateHash: {},\n    messages: { 'listNItemsSelected': '#{count} items selected' },\n    /**\n     * @return {dynamicList}\n     */\n    getDynamicListForElement: function (element) {\n        var $list = jQuery(element)[0];\n        if (!jQuery($list).is('ul,ol')) {\n            $list = jQuery($list).parent('ul,ol');\n            if ($list.length === 0) {\n                return null;\n            }\n        }\n        return dynamicList.lists[$list.id];\n    }\n};    ///////////////////////////////////////////////////////\n// ListItem\n///////////////////////////////////////////////////////\n/**\n * Respond on events: dblclick, click, mouseover, mousedown, mouseup, key:down and key:up\n * Options:\n *      respondOnItemEvents - when false all event will be ignored\n *      excludeFromEventHandling - [selectorPattern1, selectorPattern2]\n *      excludeFromSelectionTriggers - []\n *\n * @param options\n */\n///////////////////////////////////////////////////////\n// ListItem\n///////////////////////////////////////////////////////\n/**\n * Respond on events: dblclick, click, mouseover, mousedown, mouseup, key:down and key:up\n * Options:\n *      respondOnItemEvents - when false all event will be ignored\n *      excludeFromEventHandling - [selectorPattern1, selectorPattern2]\n *      excludeFromSelectionTriggers - []\n *\n * @param options\n */\ndynamicList.ListItem = function (options) {\n    this._itemId = undefined;\n    this._list = undefined;\n    this.first = false;\n    this.last = false;\n    if (options) {\n        this.isIconClicked = true;\n        this._value = options.value ? options.value : {};\n        this._label = options.label ? options.label : '';\n        this._subList = options.subList;\n        this._cssClassName = 'cssClassName' in options ? options.cssClassName : undefined;\n        this._templateDomId = 'templateDomId' in options ? options.templateDomId : undefined;\n        this._respondOnItemEvents = !Object.isUndefined(options.respondOnItemEvents) ? options.respondOnItemEvents : true;\n        this._excludeFromEventHandling = 'excludeFromEventHandling' in options ? options.excludeFromEventHandling : undefined;\n        this._excludeFromSelectionTriggers = 'excludeFromSelectionTriggers' in options ? options.excludeFromSelectionTriggers : undefined;\n        this.FAVORITE_ICON_PATTERN= options.favoriteIconPattern ;\n        this.SCHEDULE_ICON_PATTERN= options.scheduleIconPattern ;\n\n    }\n};    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addVar('DEFAULT_TEMPLATE_DOM_ID', 'dynamicListItemTemplate');\ndynamicList.ListItem.addVar('DEFAULT_ITEM_ID_PREFIX', 'item');\ndynamicList.ListItem.addVar('DEFAULT_SUB_LIST_ID_SUFFIX', 'SubList');    ///////////////////////////////////////////////////////\n// Public ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets ID of the item, which is being generated by the list.\n * @return {Number} ID of the item\n */\n///////////////////////////////////////////////////////\n// Public ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets ID of the item, which is being generated by the list.\n * @return {Number} ID of the item\n */\ndynamicList.ListItem.addMethod('getId', function () {\n    return this._itemId;\n});    /*\n * Sets the list and generates new id in that list.\n * This method is used by the list to set reference on itself.\n *\n * @param list {{@see dynamicList.List}}\n */\n/*\n * Sets the list and generates new id in that list.\n * This method is used by the list to set reference on itself.\n *\n * @param list {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('setList', function (list) {\n    this._list = list;\n    // This function should no longer be used for this purpose.\n    // Use \"unsetList\" instead.\n    // FIXME: Turn this on when logging is added to this module!\n    // this.logger.warn(\"deprecated use case\");\n    if (this.getList()) {\n        this._itemId = this.getList().getNextItemId();\n    }\n});    /*\n * Explicitly clears the item's link to its previous list.\n * Use this function instead of setList(null) or setList(undefined).\n *\n * @param list {{@see dynamicList.List}}\n */\n/*\n * Explicitly clears the item's link to its previous list.\n * Use this function instead of setList(null) or setList(undefined).\n *\n * @param list {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('unsetList', function () {\n    this._list = null;    // listItem IDs depend on their assigned list.\n    // listItem IDs depend on their assigned list.\n    this._itemId = undefined;\n});    /*\n * Gets the list where this item is listed.\n *\n * @return {{@see dynamicList.List}}\n */\n/*\n * Gets the list where this item is listed.\n *\n * @return {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('getList', function () {\n    return this._list;\n});    /**\n * Sets value of the item.\n *\n * @param {String}\n */\n/**\n * Sets value of the item.\n *\n * @param {String}\n */\ndynamicList.ListItem.addMethod('setValue', function (value) {\n    return this._value = value;\n});    /**\n * Gets value of the item.\n *\n * @return {String}\n */\n/**\n * Gets value of the item.\n *\n * @return {String}\n */\ndynamicList.ListItem.addMethod('getValue', function () {\n    return this._value;\n});    /**\n * Sets label defined by user.\n *\n * @param {Object}\n */\n/**\n * Sets label defined by user.\n *\n * @param {Object}\n */\ndynamicList.ListItem.addMethod('setLabel', function (label) {\n    return this._label = label;\n});    /**\n * Gets label of the item defined by user.\n *\n * @return {Object}\n */\n/**\n * Gets label of the item defined by user.\n *\n * @return {Object}\n */\ndynamicList.ListItem.addMethod('getLabel', function () {\n    return this._label;\n});    /**\n * Setter and getter for the style of the item.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n */\n/**\n * Setter and getter for the style of the item.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n */\ndynamicList.ListItem.addMethod('setCssClassName', function (cssClassName) {\n    this._cssClassName = cssClassName;\n}).addMethod('getCssClassName', function () {\n    return this._cssClassName;\n});    /**\n * Sets the ID of DOM element which will be used for rendering of mark up.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n *\n * @param templateDomId {String}\n */\n/**\n * Sets the ID of DOM element which will be used for rendering of mark up.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n *\n * @param templateDomId {String}\n */\ndynamicList.ListItem.addMethod('setTemplateDomId', function (templateDomId) {\n    this._templateDomId = templateDomId;\n});    /**\n * Gets the ID of the current template of the item.\n *                                  Attr\n * @return {String}\n */\n/**\n * Gets the ID of the current template of the item.\n *                                  Attr\n * @return {String}\n */\ndynamicList.ListItem.addMethod('getTemplateDomId', function () {\n    return this._templateDomId;\n});    /**\n * Render the item specified container.\n * Use this method when you need re-render item.\n *\n * @param container {DOMElement}\n */\n/**\n * Render the item specified container.\n * Use this method when you need re-render item.\n *\n * @param container {DOMElement}\n */\ndynamicList.ListItem.addMethod('show', function (container) {\n    if (!container) {\n        return;\n    }\n    this._element = this.processTemplate(this._getTemplate());\n    this._getElement().setAttribute('id', this._generateId());\n    this._getElement().setAttribute('tabindex', -1);\n    this.first && this.getList().tabindex && jQuery(this._getElement()).attr('tabindex', this.getList().tabindex);\n    this._getElement().listItem = this;\n    this.refreshStyle();\n    var siblings = container.childElements();\n    var itemIndex = this.index();\n    var afterIndex = itemIndex - 1;\n    afterIndex > -1 && afterIndex < siblings.length ? this._getElement().insert({ after: siblings[afterIndex] }) : jQuery(container)[0].insert(this._getElement());\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('refresh', function () {\n    var hadFocus = false;    // NOTE: _getElement is not just a simple accessor, and apparently has\n    // side-effects which are required elsewhere.\n    // NOTE: _getElement is not just a simple accessor, and apparently has\n    // side-effects which are required elsewhere.\n    if (!this._getElement()) {\n        return;\n    }\n    if (this.getList()) {\n        if (document.activeElement === this._getElement()) {\n            hadFocus = true;\n        }\n        this._element = this.processTemplate(this._getElement());\n        this.refreshStyle();\n        if (hadFocus) {\n            jQuery(this._getElement()).focus();\n        }\n    } else {\n        this._getElement().remove();\n        this._element = null;\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('refreshStyle', function () {\n    var element = this._getElement();    // List may not have been rendered yet.\n    // List may not have been rendered yet.\n    if (!element) {\n        return;\n    }\n    if (element.templateClassName) {\n        element.className = element.templateClassName;\n    }\n    if (this.first) {\n        jQuery(element).addClass(layoutModule.FIRST_CLASS);\n    }\n    if (this.last) {\n        jQuery(element).addClass(layoutModule.LAST_CLASS);\n    }\n    if (this.isSelected()) {\n        jQuery(element).addClass(layoutModule.SELECTED_CLASS);\n    }\n    if (this.isDisabled()) {\n        jQuery(element).addClass(layoutModule.DISABLED_CLASS);\n    }\n    if (this.getCssClassName()) {\n        jQuery(element).addClass(this.getCssClassName());\n    }    // Update cursor styles.  Note that cursor logic for composite items will\n    // be done after this call.\n    // Update cursor styles.  Note that cursor logic for composite items will\n    // be done after this call.\n    if (!this.isComposite) {\n        if (this === this.getList().cursor) {\n            jQuery(element).addClass('cursor');\n        }\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('isRendered', function () {\n    return isNotNullORUndefined(this._getElement());\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('disable', function () {\n    baseList.disableItem(this._getElement());\n}).addMethod('enable', function () {\n    baseList.enableItem(this._getElement());\n}).addMethod('isDisabled', function () {\n    return baseList.isItemDisabled(this._getElement());\n});    /**\n * Prepare mark up template of the item before render or process existing mark up when refresh the item.\n * If template was changed method should be overridden.\n *\n * @param {DOMElement} - current item element\n * @return {DOMElement} - element ready for use\n */\n/**\n * Prepare mark up template of the item before render or process existing mark up when refresh the item.\n * If template was changed method should be overridden.\n *\n * @param {DOMElement} - current item element\n * @return {DOMElement} - element ready for use\n */\ndynamicList.ListItem.addMethod('processTemplate', function (element) {\n    var wrapper = element.childElements()[0];\n    wrapper.cleanWhitespace();\n    var elementsCount = wrapper.childElements().length;\n    if (elementsCount == wrapper.childNodes.length) {\n        wrapper.insert(xssUtil.hardEscape(this.getLabel()));\n    } else {\n        wrapper.childNodes[elementsCount].data = this.getLabel();\n    }    //  $(wrapper.parentNode).writeAttribute(\"tabIndex\",-1);\n    //  $(wrapper.parentNode).writeAttribute(\"tabIndex\",-1);\n    return element;\n});    /**\n * focus on this node's element\n */\n/**\n * focus on this node's element\n */\ndynamicList.ListItem.addMethod('focus', function () {\n    this._getElement().focus();\n});    /**\n * Removes it self from the list.\n */\n/**\n * Removes it self from the list.\n */\ndynamicList.ListItem.addMethod('remove', function () {\n    this.getList().removeItems([this]);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('isSelected', function () {\n    return this.getList().isItemSelected(this);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('select', function () {\n    this.getList().selectItem(this, true);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('deselect', function () {\n    this.getList().deselectItem(this);\n});\ndynamicList.ListItem.addMethod('index', function () {\n    this.getList().getItems().indexOf(this);\n});    ///////////////////////////////////////////////////////\n// Private ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets or looking for DOM element of this item.\n *\n * @return {DOMElement}\n */\n///////////////////////////////////////////////////////\n// Private ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets or looking for DOM element of this item.\n *\n * @return {DOMElement}\n */\ndynamicList.ListItem.addMethod('_getElement', function () {\n    if (!this._element) {\n        var e = jQuery('#' + this._generateId())[0];\n        this._element = Object.isElement(e) ? e : undefined;\n    }\n    return this._element;\n});\ndynamicList.ListItem.addMethod('_getTemplate', function () {\n    var id = this._templateDomId;\n    if (!dynamicList._templateHash[id]) {\n        dynamicList._templateHash[id] = id;\n    }\n    var clone = document.getElementById(dynamicList._templateHash[id]).clone(true);\n    clone.templateId = id;\n    clone.templateClassName = clone.className;\n    return clone;\n});\ndynamicList.ListItem.addMethod('_generateId', function () {\n    // There are some weird situations where this can get called due to a\n    // refresh while deleting an item.  In these situations, the item may no\n    // longer be assigned to a list.  In this case, this function returns\n    // null.\n    if (!this.getList() || !this.getList().getId()) {\n        return null;\n    }\n    return this.getList().getId() + '_' + this.DEFAULT_ITEM_ID_PREFIX + this.getId();\n});\ndynamicList.ListItem.addMethod('_isElementInExcluded', function (event, item) {\n    var element = event.element();\n    return this._excludeFromEventHandling && matchAny(element, this._excludeFromEventHandling) != null;\n});\ndynamicList.ListItem.addMethod('_isExcludedFromSelectionTriggers', function (event) {\n    var element = event.target;\n    return this._excludeFromSelectionTriggers && matchAny(element, this._excludeFromSelectionTriggers) != null;\n});\ndynamicList.ListItem.addMethod('_isFavoriteHandler', function (element) {\n    return jQuery(element).is(this.FAVORITE_ICON_PATTERN);\n});\ndynamicList.ListItem.addMethod('_isScheduleHandler', function (element) {\n    return jQuery(element).is(this.SCHEDULE_ICON_PATTERN);\n})///////////////////////////////////////////////////////\n// Composite List Item\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Composite List Item\n///////////////////////////////////////////////////////\ndynamicList.CompositeItem = function (options) {\n    dynamicList.ListItem.call(this, options);\n    this.isComposite = true;\n    this._items = options.items;\n    this._openUp = options.openUp;\n    this._subList = null;\n    this._subListOptions = options.listOptions ? options.listOptions : {};\n    this._listTagName = 'ul';\n    this.FAVORITE_ICON_PATTERN = options.favoriteIconPattern ;\n    this.SCHEDULE_ICON_PATTERN = options.scheduleIconPattern;\n    this.OPEN_HANDLER_PATTERN = options.openHandlerPattern ? options.openHandlerPattern : this.OPEN_HANDLER_PATTERN;\n    this.CLOSE_HANDLER_PATTERN = options.closeHandlerPattern ? options.closeHandlerPattern : this.CLOSE_HANDLER_PATTERN;\n};\ndynamicList.CompositeItem.prototype = deepClone(dynamicList.ListItem.prototype);\ndynamicList.CompositeItem.addVar('OPEN_HANDLER_PATTERN', '[openHandler=openHandler]');\ndynamicList.CompositeItem.addVar('CLOSE_HANDLER_PATTERN', '[closeHandler=closeHandler]');\ndynamicList.CompositeItem.addMethod('getItems', function () {\n    return this._items;\n});\ndynamicList.CompositeItem.addMethod('setItems', function (items) {\n    this._items = items;\n});\ndynamicList.CompositeItem.addMethod('addItem', function (item) {\n    this._items.push(item);\n});\ndynamicList.CompositeItem.addMethod('removeItems', function (items) {\n    this._items = this._items.reject(function (item) {\n        return items.include(item);\n    });\n    this._subList.removeItems(items);\n});\ndynamicList.CompositeItem.addMethod('show', function (container) {\n    this._listTagName = container.tagName;\n    dynamicList.ListItem.prototype.show.call(this, container);\n    baseList.closeItem(this._getElement());\n    if (!this._items) {\n        return;\n    }\n    this._showSubList();\n});\ndynamicList.CompositeItem.addMethod('_showSubList', function () {\n    var id = this._getSubListId();\n    var subListElement = new Element(this._listTagName, { id: id });\n    this._getElement().insert(this._openUp ? { top: subListElement } : { bottom: subListElement });\n    var opts = this._subListOptions;\n    this._subList = new dynamicList.List(id, {\n        allowSelections: 'allowSelections' in opts ? opts.allowSelections : this.getList()._allowSelections,\n        responsive: 'responsive' in opts ? opts.responsive : this.getList()._responsive,\n        selectionDefaultsToCursor: 'selectionDefaultsToCursor' in opts ? opts.selectionDefaultsToCursor : this.getList()._selectionDefaultsToCursor,\n        collapsible: 'collapsible' in opts ? opts.collapsible : this.getList()._collapsible,\n        multiSelect: 'multiSelect' in opts ? opts.multiSelect : this.getList()._multiSelect,\n        cssClassName: 'cssClassName' in opts ? opts.cssClassName : this.getList()._cssClassName,\n        listTemplateDomId: 'listTemplateDomId' in opts ? opts.listTemplateDomId : this.getList()._listTemplateDomId,\n        itemTemplateDomId: 'itemTemplateDomId' in opts ? opts.itemTemplateDomId : this.getList()._itemTemplateDomId,\n        itemCssClassName: 'itemCssClassName' in opts ? opts.itemCssClassName : this.getList()._itemCssClassName,\n        comparator: 'comparator' in opts ? opts.comparator : this.getList()._comparator,\n        items: this._items\n    });\n    this._subList._initEvents = function () {\n    };\n    this._subList.show();\n    this._subList._parentList = this.getList();\n    this._subList.getItems().each(function (item) {\n        item.parentItem = this;\n    }.bind(this));    // It's possible that multiple sublists will be coming back from the\n    // database, so only move the cursor if this is the sublist for an item\n    // that is the current cursor.  Arguably we shouldn't set focus yet,\n    // either, in case the delay is so long that the user is doing something\n    // with some other part of the interface, but let's see if that actually\n    // comes up.\n    // It's possible that multiple sublists will be coming back from the\n    // database, so only move the cursor if this is the sublist for an item\n    // that is the current cursor.  Arguably we shouldn't set focus yet,\n    // either, in case the delay is so long that the user is doing something\n    // with some other part of the interface, but let's see if that actually\n    // comes up.\n    if (this === this.getList().cursor) {\n        var subitem = this.getFirstChild();\n        if (subitem) {\n            this.deselect();\n            subitem.getList().setCursor(subitem);    //subitem.select();\n            //subitem.select();\n            if (this._getElement()) {\n                var $item = jQuery(this._getElement());\n                $item.removeClass('cursor');\n                $item.addClass('supercursor');\n            }\n            if (subitem._getElement()) {\n                // WARNING - This must be done this way, do not change it.\n                // Trying to do a focus() call directly here will not work,\n                // because of the complex callback situation that generally\n                // puts us in here in the first place.\n                window.setTimeout(function () {\n                    jQuery(subitem._getElement()).focus();\n                }, 0);\n            }\n        }\n    }\n});\ndynamicList.CompositeItem.addMethod('refresh', function () {\n    dynamicList.ListItem.prototype.refresh.call(this);\n    if (!this._items) {\n        return;\n    }\n    if (this._subList) {\n        this._subList.refresh();\n    } else {\n        this._showSubList();\n    }\n});\ndynamicList.CompositeItem.addMethod('getFirstChild', function () {\n    if (this._subList.getItems().length < 1) {\n        // No children, OR, children still loading.\n        return null;\n    }\n    return this._subList.getItems()[0];\n});\ndynamicList.CompositeItem.addMethod('refreshStyle', function () {\n    dynamicList.ListItem.prototype.refreshStyle.call(this);\n    if (!this._getElement()) {\n        // List has not been rendered yet.\n        return;\n    }\n    if (baseList.isItemOpen(this._getElement())) {\n        baseList.openItem(this._getElement());\n        if (this === this.getList().cursor) {\n            if (this._subList && this._subList.cursor) {\n                // Sublist is open, and an item is an active cursor.\n                jQuery(this._getElement()).addClass('supercursor');\n            } else {\n                // Sublist is open, but has no active cursor.\n                jQuery(this._getElement()).addClass('cursor');\n            }\n        }\n    } else {\n        baseList.closeItem(this._getElement());\n        if (this === this.getList().cursor) {\n            jQuery(this._getElement()).addClass('cursor');\n        }\n    }\n    if (!this._subList) {\n        return;\n    }\n    this._subList.refreshStyle();\n});\ndynamicList.CompositeItem.addMethod('_isOpenHandler', function (element) {\n    return jQuery(element).is(this.OPEN_HANDLER_PATTERN);\n}).addMethod('_isCloseHandler', function (element) {\n    return jQuery(element).is(this.CLOSE_HANDLER_PATTERN);\n}).addMethod('_isFavoriteHandler', function (element) {\n    return jQuery(element).is(this.FAVORITE_ICON_PATTERN);\n}).addMethod('_isScheduleHandler', function (element) {\n    return jQuery(element).is(this.SCHEDULE_ICON_PATTERN);\n});\ndynamicList.CompositeItem.addMethod('_getSubListId', function () {\n    return this._generateId() + '_' + this.DEFAULT_SUB_LIST_ID_SUFFIX;\n});    ///////////////////////////////////////////////////////\n// Templated list item - uses Mustache to process item content as a template. Takes fields of item.getValue() to fill the template\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Templated list item - uses Mustache to process item content as a template. Takes fields of item.getValue() to fill the template\n///////////////////////////////////////////////////////\ndynamicList.TemplatedListItem = function (options) {\n    if (options) {\n        this.tooltipText = 'tooltipText' in options ? options.tooltipText : null;\n    }\n    dynamicList.ListItem.call(this, options);\n};\nvar tempFunc = function () {\n};\ntempFunc.prototype = dynamicList.ListItem.prototype;\ndynamicList.TemplatedListItem.prototype = new tempFunc();\ndynamicList.TemplatedListItem.prototype.constructor = dynamicList.TemplatedListItem;\ndynamicList.TemplatedListItem.prototype.processTemplate = function (element) {};\n// List element that is rendered from Underscore template string passed as an option\ndynamicList.UnderscoreTemplatedListItem = function (options) {\n    dynamicList.TemplatedListItem.call(this, options);\n    if (options) {\n        this._template = 'template' in options ? options.template : '';\n    }\n};\nvar tempFunction = function () {\n};\ntempFunction.prototype = dynamicList.TemplatedListItem.prototype;\ndynamicList.UnderscoreTemplatedListItem.prototype = new tempFunction();\ndynamicList.UnderscoreTemplatedListItem.prototype.constructor = dynamicList.UnderscoreTemplatedListItem;\ndynamicList.UnderscoreTemplatedListItem.prototype._getTemplate = function () {\n    return this._template;\n};\ndynamicList.UnderscoreTemplatedListItem.prototype.processTemplate = function () {\n    var element = jQuery(_.template(this._template, xssUtil.hardEscape(this.getValue())))[0];\n    element.templateClassName = element.className;\n    if (this.tooltipText != null) {\n        new JSTooltip(element, { text: xssUtil.hardEscape(this.tooltipText) });\n    }\n    return element;\n};    ///////////////////////////////////////////////////////\n// List Component\n///////////////////////////////////////////////////////\n/*\n * Dynamically creates items on specified UL element. Supports sorting and ...\n *\n * @param id {String} - ID of the UL element, this id will be used as ID of the list.\n * @param options {JSON Object}\n * <ul>\n * <li>items {Array} - array of {@link dynamicList.ListItem}, which need be shown when object is created</li>\n * </ul>\n */\n///////////////////////////////////////////////////////\n// List Component\n///////////////////////////////////////////////////////\n/*\n * Dynamically creates items on specified UL element. Supports sorting and ...\n *\n * @param id {String} - ID of the UL element, this id will be used as ID of the list.\n * @param options {JSON Object}\n * <ul>\n * <li>items {Array} - array of {@link dynamicList.ListItem}, which need be shown when object is created</li>\n * </ul>\n */\ndynamicList.List = function (id, options) {\n    this._id = id;\n    this._items = [];\n    this._selectedItems = [];\n    this._lastSelectedItem = null;\n    this.cursor = null;\n    this._nextId = 1;    // private static var\n    // private static var\n    this.draggables = [];\n    this._parentList = null;\n    if (options) {\n        // Options with defaults.\n        this._selectionDefaultsToCursor = 'selectionDefaultsToCursor' in options ? options.selectionDefaultsToCursor : true;\n        this._allowSelections = 'allowSelections' in options ? options.allowSelections : true;\n        this._cssClassName = 'cssClassName' in options ? options.cssClassName : '';\n        this._excludeFromEventHandling = 'excludeFromEventHandling' in options ? options.excludeFromEventHandling : false;\n        this._excludeFromSelectionTriggers = 'excludeFromSelectionTriggers' in options ? options.excludeFromSelectionTriggers : false;\n        this._multiSelect = 'multiSelect' in options ? options.multiSelect : false;\n        this._selectOnMousedown = 'selectOnMousedown' in options ? options.selectOnMousedown : true;\n        this._setCursorOnMousedown = 'setCursorOnMousedown' in options ? options.setCursorOnMousedown : true;    // Options with no default other than \"undefined\".\n        // Options with no default other than \"undefined\".\n        this._listTemplateDomId = options.listTemplateDomId;\n        this._itemTemplateDomId = options.itemTemplateDomId;\n        this._itemCssClassName = options.itemCssClassName;\n        this._comparator = options.comparator;\n        this.dragPattern = options.dragPattern;\n        this.scroll = options.scroll;    // An initial set of items may be passed in with the options hash.\n        // An initial set of items may be passed in with the options hash.\n        this.setItems(options.items);\n    }\n    this._createFromTemplate();\n    this._registerCustomScroll();\n    dynamicList.activeListId = this.getId();\n    this._msgNItemsSelected = new Template(dynamicList.messages['listNItemsSelected']);\n    dynamicList.lists[this._id] = this;\n};\ndynamicList.List.addVar('Event', {\n    ITEM_SELECTED: 'item:selected',\n    ITEM_UNSELECTED: 'item:unselected',\n    ITEM_MOUSEUP: 'item:mouseup',\n    ITEM_MOUSEDOWN: 'item:mousedown',\n    ITEM_CLICK: 'item:click',\n    ITEM_DBLCLICK: 'item:dblclick',\n    ITEM_OPEN: 'item:open',\n    ITEM_CLOSED: 'item:closed',\n    ITEM_CONTEXTMENU: 'item:contextmenu',\n    ITEM_BEFORE_SELECT_OR_UNSELECT: 'item:beforeSelectOrUnselect'\n});\ndynamicList.List.addVar('DND_WRAPPER_TEMPLATE', 'column_two');\ndynamicList.List.addVar('DND_ITEM_TEMPLATE', 'column_two:resourceName');    ///////////////////////////////////////////////////////\n// List public methods\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// List public methods\n///////////////////////////////////////////////////////\ndynamicList.List.addMethod('getNextItemId', function () {\n    return this._nextId++;\n});    /**\n * Gets ID of the list which can be used to find this list in map {@see dynamicList.lists}\n *\n * @return {String} - ID for the list and DOM element\n */\n/**\n * Gets ID of the list which can be used to find this list in map {@see dynamicList.lists}\n *\n * @return {String} - ID for the list and DOM element\n */\ndynamicList.List.addMethod('getId', function () {\n    return this._id;\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getItems', function () {\n    return this._items;\n});    /**\n * Resets list items with new items and sorts items, if comparator is defined.\n * @param items {Array} - new array of {@link dynamicList.ListItem}\n */\n/**\n * Resets list items with new items and sorts items, if comparator is defined.\n * @param items {Array} - new array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('setItems', function (items) {\n    if (!items) {\n        return;\n    }    // If the list had a cursor, a new cursor will need to be assigned.\n    // Likewise, if focus is lost, focus will need to be reassigned to prevent\n    // missing blur events when elements are dropped.\n    // NOTE: Do NOT use getCursor here, as it will attempt to assign a cursor\n    // if none exists, which in turn may add the cursor to the selection set,\n    // depending on list options.  THAT, in turn, could fire user callbacks\n    // that appear to run on items that are about to be replaced.  That could\n    // (and did) cause Filter problems on the Search Results page.\n    // If the list had a cursor, a new cursor will need to be assigned.\n    // Likewise, if focus is lost, focus will need to be reassigned to prevent\n    // missing blur events when elements are dropped.\n    // NOTE: Do NOT use getCursor here, as it will attempt to assign a cursor\n    // if none exists, which in turn may add the cursor to the selection set,\n    // depending on list options.  THAT, in turn, could fire user callbacks\n    // that appear to run on items that are about to be replaced.  That could\n    // (and did) cause Filter problems on the Search Results page.\n    var oldCursor = this.cursor;\n    var listEl = this._getElement();\n    var hadFocus = false;\n    if (listEl && (listEl === document.activeElement || jQuery.contains(listEl, document.activeElement))) {\n        hadFocus = true;\n    }\n    this._items = [];\n    this.resetSelected();\n    this.addItems(items);\n    var newCursor;\n    if (oldCursor) {\n        // A new cursor will be assigned, if any items exist.\n        newCursor = this.getCursor();\n    }\n    if (hadFocus) {\n        if (newCursor && newCursor._getElement()) {\n            // NOTE: StdNav plugin for dynamicList will auto-promote focus when\n            // available (accessibility extensions are on) and possible (items\n            // exist), but this is more efficient.\n            jQuery(newCursor._getElement()).focus();\n        } else if (listEl) {\n            // No items, no suitable cursor, or cursor has not been rendered\n            // yet-- focus the list itself.\n            jQuery(listEl).focus();\n        }  // FIXME: Enable when logger is added\n        // this.logger.error(\"Focus has been abandoned; region tabindex may be lost\");\n        //console.error(\"Focus has been abandoned; region tabindex may be lost\");\n    }\n});    /**\n * Adds items to array items of list and sorts it, if comparator is defined.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Adds items to array items of list and sorts it, if comparator is defined.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('addItems', function (items) {\n    if (!items) {\n        return;\n    }\n    items = _.isArray(items) ? items : [items];\n    items.compact().each(function (item) {\n        this._prepareListItem(item);\n        this._items.push(item);\n    }.bind(this));\n    if (this._comparator) {\n        this._items = this._items.sort(this._comparator);\n    }\n});    /**\n * Inserts items to appropriate position in array items of list.\n *\n * WARNING: Using this function with sortable lists may cause unexpected results\n *\n * @param pos {int} - position of element after which new items will be inserted.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Inserts items to appropriate position in array items of list.\n *\n * WARNING: Using this function with sortable lists may cause unexpected results\n *\n * @param pos {int} - position of element after which new items will be inserted.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('insertItems', function (pos, items) {\n    if (!items) {\n        return;\n    }\n    items = _.isArray(items) ? items : [items];\n    items = items.compact();\n    items.each(function (item) {\n        this._prepareListItem(item);\n    }.bind(this));\n    this._items.splice.apply(this._items, [\n        pos,\n        0\n    ].concat(items));\n    if (this._comparator) {\n        this._items = this._items.sort(this._comparator);\n    }\n});    /**\n * Prepare List Item for adding to list. Set List reference, template DOM ID and css class name.\n */\n/**\n * Prepare List Item for adding to list. Set List reference, template DOM ID and css class name.\n */\ndynamicList.List.addMethod('_prepareListItem', function (item) {\n    if (!item) {\n        return;\n    }\n    item.setList(this);\n    if (this._itemTemplateDomId && !item.getTemplateDomId()) {\n        // If list has specified template for all items and there is no other template\n        item.setTemplateDomId(this._itemTemplateDomId);\n    }\n    if (this._itemCssClassName && !item.getCssClassName()) {\n        // If list has specified CSS class for all items and the item don't has CSS class\n        item.setCssClassName(this._itemCssClassName);\n    }\n    if (this._excludeFromEventHandling && !item._excludeFromEventHandling) {\n        item._excludeFromEventHandling = this._excludeFromEventHandling;\n    }\n    if (this._excludeFromSelectionTriggers && !item._excludeFromSelectionTriggers) {\n        item._excludeFromSelectionTriggers = this._excludeFromSelectionTriggers;\n    }\n});    /**\n * Removes specified items from list\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Removes specified items from list\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('removeItems', function (items) {\n    if (!items || !isArray(items)) {\n        return;\n    }    // The current cursor and/or browser focus may be lost as a result of this\n    // operation.  Deleting the current focus does NOT fire blur events!\n    // Therefore it is critical to MOVE focus prior to deleting the element, if\n    // it is focused.\n    // The current cursor and/or browser focus may be lost as a result of this\n    // operation.  Deleting the current focus does NOT fire blur events!\n    // Therefore it is critical to MOVE focus prior to deleting the element, if\n    // it is focused.\n    var newCursor = this.getCursor();\n    var lostFocus = false;    // Deselect items PRIOR to removal.\n    // Deselect items PRIOR to removal.\n    items.each(function (item) {\n        // Note that _removeItemFromSelected is used instead of deselectItem to\n        // avoid changing the cursor prematurely.  This avoids callers reacting\n        // to selection/deselection events (which occur as a result of the cursor\n        // change on lists with alwaysSelectCursor style) on items that do not\n        // exist by the time they attempt to handle those events.\n        this._removeItemFromSelected(item);\n        if (newCursor === item) {\n            // If we are removing the cursor (or the prospective new cursor),\n            // ensure a new cursor is assigned.\n            newCursor = this.getNextItem(item);\n            if (!newCursor) {\n                newCursor = this.getPreviousItem(item);\n            }\n        }\n    }.bind(this));\n    this._items = this._items.reject(function (item) {\n        return items.include(item);\n    });\n    items.each(function (item) {\n        // Sanity check; remove when tested.\n        if (newCursor === item) {\n        }    // FIXME: Turn this on once the logger is in use.\n        // logger.error(\"Focus has been abandoned\");\n        //console.error(\"Focus has been abandoned\");\n        item.unsetList();\n        item.refresh();\n    });    // Update the cursor, if needed.  Note that lists with NO cursor should\n    // continue to have no cursor.\n    // Update the cursor, if needed.  Note that lists with NO cursor should\n    // continue to have no cursor.\n    if (newCursor !== this.getCursor()) {\n        this.setCursor(newCursor);\n    }    // If focus has been lost, focus the new cursor.\n    // If focus has been lost, focus the new cursor.\n    if (lostFocus) {\n        if (this.getCursor() && this.getCursor()._getElement()) {\n            jQuery(this.getCursor()._getElement().focus());\n        } else if (this._getElement()) {\n            // No cursor, or cursor has not been rendered yet.\n            // Set focus to the list, if possible.\n            jQuery(this._getElement().focus());\n        }\n    }\n});    /**\n * @param comparator {Function} -\n */\n/**\n * @param comparator {Function} -\n */\ndynamicList.List.addMethod('sort', function (comparator) {\n    comparator && (this._comparator = comparator);\n    if (this._comparator) {\n        this.getItems().sort(this._comparator);\n    }\n});    /** Note that it is not possible to set the cursor to null to remove it.  All\n *  lists have cursors, and those cursors need to be set.  You may not think\n *  you need one, but you do-- this is how visually-disabled users read through\n *  your list entries.\n *\n *  If you really want to disable a visual cursor indication for a particular\n *  list, use an ID-based CSS style rule to do so.  If the user tabs into the\n *  list, they will still be able to navigate using the arrow keys, and will\n *  see the usual :focus and .subfocus visual cues when doing so.\n */\n/** Note that it is not possible to set the cursor to null to remove it.  All\n *  lists have cursors, and those cursors need to be set.  You may not think\n *  you need one, but you do-- this is how visually-disabled users read through\n *  your list entries.\n *\n *  If you really want to disable a visual cursor indication for a particular\n *  list, use an ID-based CSS style rule to do so.  If the user tabs into the\n *  list, they will still be able to navigate using the arrow keys, and will\n *  see the usual :focus and .subfocus visual cues when doing so.\n */\ndynamicList.List.addMethod('setCursor', function (newCursor) {\n    // Other parts of the UI may move the cursor without wanting to move focus;\n    // do not grab keyboard focus when this happens.\n    var hadFocus = false;\n    if (document.activeElement && jQuery.contains(this._getElement(), document.activeElement)) {\n        hadFocus = true;\n    }    // The old cursor, if any (and if rendered), needs the CSS class removed.\n    // The old cursor, if any (and if rendered), needs the CSS class removed.\n    if (this.cursor && this.cursor.getList() && this.cursor._getElement()) {\n        jQuery(this.cursor._getElement()).removeClass('cursor');\n    }    // Whether it's been rendered or not, this is the new cursor.\n    // Whether it's been rendered or not, this is the new cursor.\n    this.cursor = newCursor;    // Keep in mind the cursor may not have been assigned to list yet, or\n    // rendered yet.  If it has been, assign the CSS class.\n    // Keep in mind the cursor may not have been assigned to list yet, or\n    // rendered yet.  If it has been, assign the CSS class.\n    if (newCursor && newCursor.getList() && newCursor._getElement()) {\n        this.scrollUpTo(newCursor);\n        if (this._allowSelections && this._selectionDefaultsToCursor) {\n            if (this.getSelectedItems().length < 1) {\n                this.selectItem(newCursor);\n            }\n        }\n        if (hadFocus) {\n            jQuery(this.cursor._getElement()).focus();\n        }\n        jQuery(this.cursor._getElement()).addClass('cursor');\n    }\n});    /**\n */\n/**\n */\ndynamicList.List.addMethod('getCursor', function () {\n    if (this.cursor && this.cursor.getList() && this.cursor._getElement()) {\n        // When filtering results, we can wind up with cursors that aren't\n        // actually visible anymore, because the list has been refreshed with\n        // filtered results.  However, checking for that is deferred until this\n        // point, to avoid interrupting an extended rendering sequence in a\n        // detached subtree that has not yet been appended to the DOM.\n        //\n        // TODO: Evaluate whether this would more appropriately check for the\n        // visibility within the list container itself, rather than the overall\n        // document.  Ensure headless testing does not break, however.\n        if (jQuery(this.cursor._getElement()).closest('BODY').length > 0) {\n            return this.cursor;\n        }\n    }    // No suitable cursor; use the most recently selected item, if any.\n    // No suitable cursor; use the most recently selected item, if any.\n    if (this._selectedItems.length > 0) {\n        if (this._selectedItems[this._selectedItems.length - 1]._getElement()) {\n            this.setCursor(this._selectedItems[this._selectedItems.length - 1]);    // Again, as in the case above, this is only useful if the item has\n            // not been filtered out, although this should not occur.\n            // Again, as in the case above, this is only useful if the item has\n            // not been filtered out, although this should not occur.\n            if (jQuery(this.cursor._getElement()).closest('BODY').length > 0) {\n                return this.cursor;\n            }\n        }\n    }    // No cursor or selected items, or possibly, no items in the list.\n    // Promote the first list item, if one exists.\n    // No cursor or selected items, or possibly, no items in the list.\n    // Promote the first list item, if one exists.\n    if (this._items.length > 0) {\n        this.setCursor(this._items[0]);\n        return this.cursor;\n    }    // No items in the list.\n    // No items in the list.\n    return null;\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getCursorElement', function () {\n    // No items in the list, return null.\n    if (this.getCursor()) {\n        return this.getCursor()._getElement();\n    } else {\n        return null;\n    }\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getSelectedItems', function () {\n    return this._selectedItems;\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('isItemSelected', function (item) {\n    return this.getSelectedItems().include(item);\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('selectItem', function (item, isCtrlHeld, isShiftKeyHeld, isContextMenu) {\n    var event = this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT, { item: item });\n    if (event.stopSelectOrUnselect) {\n        return;\n    }    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    if (this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeld || isShiftKeyHeld || isContextMenu)) {\n        return;\n    }\n    var isContextMenuOnSelected = this.isItemSelected(item) && isContextMenu;\n    var reset = !(this._multiSelect && isCtrlHeld) && !isContextMenuOnSelected;\n    var deselect = this.isItemSelected(item) && isCtrlHeld && !isContextMenuOnSelected;\n    var selectRange = this._multiSelect && !deselect && isNotNullORUndefined(this._lastSelectedItem) && isShiftKeyHeld;\n    var select = !deselect && !selectRange;\n    if (reset) {\n        this.resetSelected();\n    }\n    if (deselect && !reset) {\n        this._removeItemFromSelected(item);\n    }\n    if (selectRange) {\n        var start = this._items.indexOf(this._lastSelectedItem);\n        var end = this._items.indexOf(item);\n        var min = Math.min(start, end), max = Math.max(start, end);\n        if (min > -1) {\n            for (var i = min; i <= max; i++) {\n                this._addItemToSelected(this._items[i], false);\n            }\n        } else {\n            this._addItemToSelected(this._items[max], false);\n        }\n    }\n    if (select) {\n        this._addItemToSelected(item, !(isShiftKeyHeld && this._multiSelect));\n    }    // Move the cursor to the most recently selected or deselected item.\n    // Move the cursor to the most recently selected or deselected item.\n    this.setCursor(item);\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('deselectItem', function (item) {\n    this._removeItemFromSelected(item);    // Move the cursor to the most recently selected or deselected item.\n    // Move the cursor to the most recently selected or deselected item.\n    this.setCursor(item);\n});\ndynamicList.List.addMethod('deselectOthers', function (item, isCtrlHeld, isShiftKey, isContextMenu) {\n    var event = this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT, { item: item });\n    if (event.stopSelectOrUnselect) {\n        return;\n    }    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    if (this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeld || isShiftKey || isContextMenu)) {\n        var items = this._selectedItems.findAll(function (i) {\n            return i != item;\n        });\n        items.each(function (i) {\n            this._removeItemFromSelected(i);\n        }.bind(this));\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.List.addMethod('resetSelected', function (skipParent) {\n    var items = this._selectedItems;\n    this._selectedItems = [];\n    items.each(function (item) {\n        var thatList = item.getList();\n        if (thatList) {\n            if (thatList !== this) {\n                thatList.resetSelected(true);\n            }\n        }\n        item.refreshStyle();\n        this.fire(this.Event.ITEM_UNSELECTED, { item: item });\n    }.bind(this));\n    if (this._parentList && !skipParent) {\n        this._parentList.resetSelected();\n    }\n});    /** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n *\n */\n/** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n *\n */\ndynamicList.List.addMethod('scrollDownTo', function (item) {\n    var scrollEl = this._getElement().parentNode;\n    if (!scrollEl || !item || !item._getElement()) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        return;\n    }\n    var scrollTop = scrollEl.scrollTop;\n    var scrollPortHeight = scrollEl.offsetHeight;\n    var itemYPos = item._getElement().offsetTop;\n    var itemHeight = item._getElement().offsetHeight;    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    var correction = itemYPos + itemHeight - (scrollTop + scrollPortHeight);\n    if (correction > 0) {\n        scrollEl.scrollTop += correction;\n    }\n});    /** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n */\n/** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n */\ndynamicList.List.addMethod('scrollUpTo', function (item) {\n    var scrollEl = this._getElement().parentNode;\n    if (!scrollEl || !item || !item._getElement()) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        return;\n    }\n    var scrollTop = scrollEl.scrollTop;\n    var itemYPos = item._getElement().offsetTop;  // Hack to try and deal with column headers.  The header should NOT have\n    // been included in the scrollable region.\n    // FIXME-- remove the header from the scrollable region, then remove this\n    // hack.  Note the potentially invalid assumption that the header has the\n    // same height as an item.\n    // Hack to try and deal with column headers.  The header should NOT have\n    // been included in the scrollable region.\n    // FIXME-- remove the header from the scrollable region, then remove this\n    // hack.  Note the potentially invalid assumption that the header has the\n    // same height as an item.\n    var headerHeight = item._getElement().offsetHeight;    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    var correction = scrollTop + headerHeight - itemYPos;\n    if (correction > 0) {\n        scrollEl.scrollTop -= correction;\n    }\n});    /**\n * @param item - reference item\n */\n/**\n * @param item - reference item\n */\ndynamicList.List.addMethod('getNextItem', function (item) {\n    var items = this.getItems();\n    var currentIndex = items.indexOf(item);\n    return ~currentIndex ? this.getItems()[currentIndex + 1] : null;\n});    /**\n * @param item - reference item\n */\n/**\n * @param item - reference item\n */\ndynamicList.List.addMethod('getPreviousItem', function (item) {\n    var items = this.getItems();\n    var currentIndex = items.indexOf(item);\n    return ~currentIndex ? this.getItems()[currentIndex - 1] : null;\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectNext', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    var item = this.getCursor();\n    var subItem = null, nextItem = null;    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on the last subitem, in which case, fall through.\n    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on the last subitem, in which case, fall through.\n    if (item._subList && item._getElement() && jQuery(item._getElement()).hasClass(layoutModule.OPEN_CLASS)) {\n        // If we're moving into the sublist directly from the parent, ensure we\n        // go to the first item.\n        if (!jQuery(item._getElement()).hasClass('supercursor')) {\n            if (item._subList.getItems().length > 0) {\n                nextItem = item._subList.getItems()[0];\n                jQuery(item._getElement()).addClass('supercursor');\n                baseEvent.preventDefault();\n                baseEvent.stopPropagation();\n                item._subList.setCursor(nextItem);\n                jQuery(item._subList.cursor._getElement()).focus();\n                return;\n            }\n        }\n        subItem = item._subList.getCursor();\n        nextItem = subItem.getList().getNextItem(subItem);\n        if (nextItem) {\n            // Yes, another subitem is available.  Go deal with it.\n            return subItem.getList().selectNext(event);\n        }\n    }    // Either no sublist, sublist is closed,  or out of subitems; select next\n    // peer.\n    // Either no sublist, sublist is closed,  or out of subitems; select next\n    // peer.\n    jQuery(item._getElement()).removeClass('supercursor');\n    if (item._subList) {\n        item._subList.cursor = null;\n    }\n    nextItem = item.getList().getNextItem(item);\n    if (nextItem) {\n        if (this._multiSelect && isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(nextItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(nextItem, false);\n            }\n        } else {\n            this.resetSelected();\n            item.getList().selectItem(nextItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(nextItem);\n    }\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectPrevious', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    var item = this.getCursor();\n    var subItem = null, previousItem = null;    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on main item, in which case, fall through; or we\n    // were on the first subitem, in which case, move focus to the main item.\n    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on main item, in which case, fall through; or we\n    // were on the first subitem, in which case, move focus to the main item.\n    if (jQuery(item._getElement()).hasClass('supercursor')) {\n        subItem = item._subList.getCursor();\n        previousItem = subItem.getList().getPreviousItem(subItem);\n        if (previousItem) {\n            // Yes, a previous subitem is available.  Go deal with it.\n            return subItem.getList().selectPrevious(event);\n        } else {\n            // No previous subitem is available.  Select the main item instead.\n            if (item._subList.cursor) {\n                if (item._subList.cursor._element) {\n                    jQuery(item._subList.cursor._element).removeClass('cursor');\n                }\n                item._subList.cursor = null;\n            }\n            if (!(isShiftHeld(baseEvent) && this._multiSelect)) {\n                item._subList.resetSelected();\n            }\n            jQuery(item._getElement()).removeClass('supercursor');\n            this.setCursor(item);\n            jQuery(item._getElement()).focus();\n        }\n    } else {\n        // Normal case-- no sublist, or main item selected.\n        previousItem = item.getList().getPreviousItem(item);\n        if (previousItem) {\n            if (this._multiSelect && isShiftHeld(baseEvent)) {\n                if (this.isItemSelected(previousItem)) {\n                    item.getList().deselectItem(item);\n                } else {\n                    this._addItemToSelected(previousItem, false);\n                }\n            } else {\n                this.resetSelected();\n                item.getList().selectItem(previousItem);\n            }    // NOTE: Implies scroll, refresh, and possibly selection.\n            // NOTE: Implies scroll, refresh, and possibly selection.\n            this.setCursor(previousItem);\n        }\n    }\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectPageDown', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n    var item = this.getCursor();    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    var headerHack = item._getElement().offsetHeight;    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    var scrollEl = this._getElement().parentNode;\n    var newScrollTop = scrollEl.scrollTop + (scrollEl.offsetHeight - headerHack);\n    if (newScrollTop > scrollEl.offsetHeight) {\n        newScrollTop = scrollEl.offsetHeight;\n    }\n    scrollEl.scrollTop = newScrollTop;\n    var iterItem = item, nextItem = null;\n    while (iterItem && iterItem._getElement().offsetTop + iterItem._getElement().offsetHeight < scrollEl.scrollTop + scrollEl.offsetHeight) {\n        nextItem = iterItem;\n        if (isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(nextItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(nextItem, false);\n            }\n        }\n        iterItem = nextItem.getList().getNextItem(nextItem);\n    }\n    if (nextItem) {\n        if (!(this._multiSelect && isShiftHeld(baseEvent))) {\n            this.resetSelected();\n            item.getList().selectItem(nextItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(nextItem);\n    }\n});\ndynamicList.List.addMethod('selectPageUp', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n    var item = this.getCursor();    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    var headerHack = item._getElement().offsetHeight;    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    var scrollEl = this._getElement().parentNode;\n    var newScrollTop = scrollEl.scrollTop + (scrollEl.offsetHeight - headerHack);\n    if (newScrollTop > scrollEl.offsetHeight) {\n        newScrollTop = scrollEl.offsetHeight;\n    }\n    scrollEl.scrollTop = newScrollTop;\n    var iterItem = item, previousItem = null;\n    while (iterItem && iterItem._getElement().offsetTop > scrollEl.scrollTop - scrollEl.offsetHeight) {\n        previousItem = iterItem;\n        if (this._multiSelect && isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(previousItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(previousItem, false);\n            }\n        }\n        iterItem = previousItem.getList().getPreviousItem(previousItem);\n    }\n    if (previousItem) {\n        if (!(this._multiSelect && isShiftHeld(baseEvent))) {\n            this.resetSelected();\n            item.getList().selectItem(previousItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(previousItem);\n    }\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectOutwards', function (event) {\n    if (this.getSelectedItems().length < 1) {\n        return;\n    }\n    var item = this.getSelectedItems()[0];\n    var element = item._getElement();\n    var outItem = !baseList.isItemOpen(element) && item.parentItem;\n    if (outItem) {\n        item.deselect();\n        outItem.select();\n        outItem._getElement().focus();\n    } else {\n        baseList.closeItem(element);\n        this.fire(this.Event.ITEM_CLOSED, {\n            targetEvent: event,\n            item: item\n        });\n    }\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectInwards', function (event) {\n    var item = this.cursor;    // If there is no cursor for some reason (possibly during construction?)\n    // then use the first selected item.  If there is neither a cursor nor any\n    // selected items, abort.\n    // If there is no cursor for some reason (possibly during construction?)\n    // then use the first selected item.  If there is neither a cursor nor any\n    // selected items, abort.\n    if (!item) {\n        if (this.getSelectedItems().length < 1) {\n            return;\n        }\n        item = this.getSelectedItems()[0];\n    }\n    if (item.isComposite) {\n        var element = item._getElement();\n        if (baseList.isItemOpen(element)) {\n            var subitem = item.getFirstChild();\n            if (subitem) {\n                item.deselect();\n                subitem.getList().setCursor(subitem);    //subitem.select();\n                //subitem.select();\n                if (item._getElement()) {\n                    var $item = jQuery(item._getElement());\n                    if (jQuery($item).is('.cursor')) {\n                        jQuery($item).removeClass('cursor');\n                        jQuery($item).addClass('supercursor');\n                    }\n                }\n                if (subitem._getElement()) {\n                    jQuery(subitem._getElement()).focus();\n                }\n            }\n        } else {\n            baseList.openItem(element);\n            this.fire(this.Event.ITEM_OPEN, {\n                targetEvent: event,\n                item: item\n            });    // At this point, the contents of the sublist will still need to\n            // load, so we can take no other action.\n        }\n    }\n});    /**\n * Render list items. Use this method when you need to re-render list.\n */\n/**\n * Render list items. Use this method when you need to re-render list.\n */\ndynamicList.List.addMethod('show', function () {\n    dynamicList.activeListId = this.getId();\n    this._getElement().update();\n    var items = this.getItems();\n    var itemsAmount = items.length;\n    items.each(function (item, index) {\n        item.first = index === 0;\n        item.last = index === itemsAmount - 1;\n        item.show(this._getElement());\n    }.bind(this));\n    this.draggables = [];\n    this.scroll && this.scroll.refresh();\n    this._initEvents();\n});    /**\n * Updates UI from value of the item and remove unused DOM elements (li elements)\n */\n/**\n * Updates UI from value of the item and remove unused DOM elements (li elements)\n */\ndynamicList.List.addMethod('refresh', function () {\n    if (!this._getElement()) {\n        // List has not been rendered yet.\n        return;\n    }    // Ensure that the list has a cursor.\n    // Ensure that the list has a cursor.\n    this.getCursor();    // Get the current scroll offset, so it can be sustained after refreshing\n    // the list.\n    // Get the current scroll offset, so it can be sustained after refreshing\n    // the list.\n    var scrollEl = this._getElement().parentNode, scrollTop;\n    if (!scrollEl) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        scrollTop = 0;\n    } else {\n        scrollTop = scrollEl.scrollTop;\n    }\n    this.refreshStyle();\n    var elements = this._getElement().childElements(), itemElements = [], cursor = this.getCursor(), cursorWasFocus = false;\n    if (cursor && cursor.getList() && cursor._getElement()) {\n        if (document.activeElement === cursor._getElement() || jQuery.contains(cursor._getElement(), document.activeElement)) {\n            cursorWasFocus = true;\n        }\n    }\n    this.getItems().each(function (item, index) {\n        item.first = index === 0;\n        item.last = index === this.getItems().length - 1;\n        if (item.isRendered()) {\n            if (item.index() != elements.indexOf(item._getElement())) {\n                var wasOpened = baseList.isItemOpen(item._getElement());\n                item._getElement().remove();\n                item.show(this._getElement());\n                if (wasOpened) {\n                    baseList.openItem(item._getElement());\n                }\n            } else {\n                item.refresh();\n            }\n        } else {\n            item.show(this._getElement());\n        }\n        itemElements.push(item._getElement());\n    }.bind(this));\n    elements.each(function (e) {\n        if (!itemElements.include(e) && e.parentNode) {\n            e.remove();\n        }\n    });    //this.scroll && this.scroll.refresh();\n    //this.scroll && this.scroll.refresh();\n    this.setCursor(cursor);    // Refresh can result in loss of focus under certain circumstances.\n    // Refresh can result in loss of focus under certain circumstances.\n    if (cursorWasFocus) {\n        jQuery(this.getCursorElement())[0].focus();\n    }    // Finally, restore the scroll offset.  This is necessary if the list was\n    // manually scrolled so that the cursor is no longer visible.\n    // Finally, restore the scroll offset.  This is necessary if the list was\n    // manually scrolled so that the cursor is no longer visible.\n    if (scrollEl) {\n        scrollEl.scrollTop = scrollTop;\n    }\n});    /**\n * Refreshing classname of the list\n */\n/**\n * Refreshing classname of the list\n */\ndynamicList.List.addMethod('refreshStyle', function (clean) {\n    var element = this._getElement();\n    if (!element) {\n        // List has not been rendered yet.\n        return;\n    }\n    if (element.templateClassName) {\n        element.className = element.templateClassName;\n    }\n    if (this._cssClassName) {\n        jQuery(element).addClass(this._cssClassName);\n    }\n});    /**\n * Generates custom event of the list.\n *\n * @param eventName\n */\n/**\n * Generates custom event of the list.\n *\n * @param eventName\n */\ndynamicList.List.addMethod('fire', function (eventName, memo) {\n    var element = jQuery(this._getElement())[0];\n    if (element) {\n        return element.fire(eventName, memo);\n    } else {\n        return null;\n    }\n});    /**\n * @param eventName\n */\n/**\n * @param eventName\n */\ndynamicList.List.addMethod('observe', function (eventName, handler) {\n    this._getElement().observe(eventName, handler);\n});    /**\n * @param eventName\n */\n/**\n * @param eventName\n */\ndynamicList.List.addMethod('stopObserving', function (eventName, handler) {\n    this._getElement().stopObserving(eventName, handler);\n});    ///////////////////////////////////////////////////////\n// List private methods\n///////////////////////////////////////////////////////\n/**\n * Gets list container\n * @return {DOMElement}\n */\n///////////////////////////////////////////////////////\n// List private methods\n///////////////////////////////////////////////////////\n/**\n * Gets list container\n * @return {DOMElement}\n */\ndynamicList.List.addMethod('_getElement', function () {\n    if (!this._element) {\n        // TODO: Improve performance by using a jQuery lookup specifically on\n        // the list subdom, rather than the whole page.\n        this._element = jQuery('#' + this.getId())[0];\n    }\n    return this._element;\n});    /**\n * Gets the item from the event in list\n *\n * @paran {Event}\n */\n/**\n * Gets the item from the event in list\n *\n * @paran {Event}\n */\ndynamicList.List.addMethod('getItemByEvent', function (event) {\n    if (event) {\n        var element = Event.element(event);    //event.originalTarget || event.srcElement;\n        //event.originalTarget || event.srcElement;\n        while (element && element.readAttribute && jQuery(element).attr('id') !== this.getId()) {\n            var item = element.listItem;\n            if (item && item.getList() != null) {\n                var itemList = item.getList(), idsAreEqual = itemList.getId() == this.getId(), parentListContainsChild = this._getElement().contains(itemList._getElement());\n                if (idsAreEqual || parentListContainsChild) {\n                    item._label = xssUtil.unescape(item._label);\n                    return item;\n                } else {\n                    break;\n                }\n            } else {\n                element = jQuery( element.parentNode)[0];\n            }\n        }\n    }\n    return null;\n});\ndynamicList.List.addMethod('_createFromTemplate', function () {\n    var tabindex = jQuery(this._getElement()).attr('tabindex');\n    this.tabindex = parseInt(tabindex && tabindex.length > 0 ? tabindex : -1);\n    this._getElement().insert({ after: this._getTemplateElement(this._getElement()) });\n    this._getElement().remove();\n    this._element = null;\n    this._getElement().update();\n    this.tabindex && this.tabindex.length > 0 && jQuery(this._getElement()).attr('tabindex', this.tabindex);\n    disableSelectionWithoutCursorStyle(this._getElement());\n});\ndynamicList.List.addMethod('_getTemplateElement', function (currentElement) {\n    var id = this._listTemplateDomId;\n    if (!dynamicList._templateHash[id]) {\n        dynamicList._templateHash[id] = id;\n    }\n    var clone = document.getElementById(dynamicList._templateHash[id]).clone(true);\n    jQuery(clone).attr('id', this.getId());    //clone.down().writeAttribute(\"tabIndex\", -1);\n    //clone.down().writeAttribute(\"tabIndex\", -1);\n    clone.templateId = id;\n    clone.templateClassName = clone.className;\n    cloneCustomAttributes(currentElement, clone);\n    return clone;\n});\ndynamicList.List.addMethod('_addItemToSelected', function (item, remember) {\n    if (item && !this.isItemSelected(item)) {\n        this._selectedItems.push(item);\n        if (remember) {\n            this._lastSelectedItem = item;\n        }    //        item.focus();\n        //        item.focus();\n        item.refreshStyle();\n        if (this._parentList) {\n            this._parentList._addItemToSelected(item, remember);\n        } else {\n            this.fire(this.Event.ITEM_SELECTED, { item: item });\n        }\n    }\n});\ndynamicList.List.addMethod('_removeItemFromSelected', function (item) {\n    if (item && this.isItemSelected(item)) {\n        this._selectedItems = this._selectedItems.without(item);\n        item.refreshStyle();\n        if (this._parentList) {\n            this._parentList._removeItemFromSelected(item);\n        } else {\n            this.fire(this.Event.ITEM_UNSELECTED, { item: item });\n        }\n    }\n});\ndynamicList.List.addMethod('_buildDnDOverlay', function (element) {\n    //    var wrapper = $(this.DND_WRAPPER_TEMPLATE).cloneNode(true), template = $(this.DND_ITEM_TEMPLATE).cloneNode(true);\n    element.setStyle({\n        width: null,\n        height: null\n    });\n    if (element.items.length > 1) {\n        element.update(this._msgNItemsSelected.evaluate({ count: element.items.length }));\n    } else if (element.items.length == 1) {\n        element.update(xssUtil.hardEscape(element.items[0].getLabel()));\n    }\n});\ndynamicList.List.addMethod('_registerCustomScroll', function () {\n    if (!this.scroll && this._getElement()) {\n        var scrollBar = this._getElement().up(layoutModule.SWIPE_SCROLL_PATTERN);\n        if (scrollBar) {\n            var scroll = layoutModule.scrolls.get(scrollBar.identify());\n            scroll && (this.scroll = scroll);\n        }\n    }\n});    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List DnD\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List DnD\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\ndynamicList.List.addMethod('createDraggableIfNeeded', function (event) {\n    //make draggable - test in this order - for efficiency\n    //test 1) does the tree have any drag patterns?\n    //test 2) is a draggable already created for the clicked element?\n    //test 3) does clicked element or its ancestors match any draggable patterns?\n    //test 4) is a draggable already created for the clicked element or matching ancestor?\n    //5) if it's complex markup then we go up to parent which matching pattern\n    var thisElem = event.element ? event.element() : event.target;\n    if (this.dragPattern && !this.draggables[thisElem.identify()]) {\n        var matchingElem = matchAny(thisElem, [this.dragPattern], true);\n        if (matchingElem) {\n            //matchingElem = matchingElem.up(this.dragPattern);\n            if (!matchingElem || this.draggables[matchingElem.identify()]) {\n                return;\n            }\n            var item = this.getItemByEvent(event);\n            this.draggables[matchingElem.identify()] = new Draggable(matchingElem, {\n                superghosting: true,\n                mouseOffset: true,\n                onStart: this.setDragStartState.bind(this, item),\n                onEnd: this.setDragEndState.bind(this, item)\n            });\n        }\n    }\n});\ndynamicList.List.addMethod('setDragStartState', function (item, draggable, event) {\n    var templateClassName = item._getElement().templateClassName;\n    if (templateClassName) {\n        jQuery(draggable.element).addClass(templateClassName);\n    }\n    jQuery(draggable.element).addClass(layoutModule.DRAGGING_CLASS).addClass(this.getId());\n    draggable.element.items = this.getSelectedItems().slice(0);\n    this._buildDnDOverlay(draggable.element);\n    draggable.options.scroll = this._getElement();\n    draggable.options.scrollSensitivity = layoutModule.SCROLL_SENSITIVITY;\n    Draggables.dragging = this.regionID || true;\n});\ndynamicList.List.addMethod('setDragEndState', function (draggable, event, item) {\n    Draggables.dragging = null;\n});    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List event handling\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List event handling\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\ndynamicList.List.addMethod('_mouseupHandler', function (event) {\n    var element = event.target;\n    var item = matchMeOrUp(element, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    event.listEvent = true;\n    if (item._respondOnItemEvents && !event.isInvoked) {\n        this.fire(this.Event.ITEM_MOUSEUP, {\n            targetEvent: event,\n            item: item\n        });\n        if (!item._isExcludedFromSelectionTriggers(event)) {\n            var isCtrlHeldValue = isMetaHeld(event), isShiftHeldValue = isShiftHeld(event), isContextMenuValue = isRightClick(event);    // NOTE: See also comments and logic for drag-and-drop, as these\n            // functions overlap\n            // NOTE: See also comments and logic for drag-and-drop, as these\n            // functions overlap\n            var isSelect = !this._selectOnMousedown && !TouchController.element_scrolled && (!isSupportsTouch() || event.changedTouches.length >= 1);\n            isSelect && item.getList().selectItem(item, isCtrlHeldValue, isShiftHeldValue, isContextMenuValue);    // Fix for Shift key multiple selection if we change selection inside selected range.\n            // We need to remember the position of current item as last selected even if selectItem method\n            // did not do it. This will help to correctly determine select range start on next selectItem call.\n            // Fix for Shift key multiple selection if we change selection inside selected range.\n            // We need to remember the position of current item as last selected even if selectItem method\n            // did not do it. This will help to correctly determine select range start on next selectItem call.\n            if (!isSelect && this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeldValue || isShiftHeldValue || isContextMenuValue)) {\n                this._lastSelectedItem = item;\n            }\n            item.getList().deselectOthers(item, isMetaHeld(event), isShiftHeld(event), isRightClick(event));\n            if (this.twofingers) {\n                this.twofingers = false;\n                var li = jQuery(element).parents('li:first');\n                li.hasClass('selected') && document.fire(layoutModule.ELEMENT_CONTEXTMENU, {\n                    targetEvent: event,\n                    node: element\n                });\n            }\n        }\n        this.createDraggableIfNeeded(event);\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_mousedownHandler', function (event) {\n    event = event.type == 'dataavailable' ? event.memo.targetEvent : event;\n    var element = event.target;\n    var item = matchMeOrUp(element, layoutModule.BUTTON_PATTERN + ',' + layoutModule.LIST_ITEM_WRAP_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    event.listEvent = true;\n    let iconEvent = this._itemPreventEvent(item,event);\n    if (event.touches && event.touches.length == 2) {\n        this.twofingers = true;    //var li = jQuery(element).parents('li:first');\n        //li.hasClass('selected') && document.fire(layoutModule.ELEMENT_CONTEXTMENU, {targetEvent: event, node: element});\n        //return;\n    } else {\n        this.twofingers = false;\n    }\n    if (iconEvent){\n        // Do not focus items that have only had their expanders clicked--\n        // this will result in a fixFocus call to the current selection\n        // (clicking on the expander will not change the selection), which\n        // in turn will fix focus on the current selection, which may move\n        // the newly-expanded item out of view.  (Clicking on the actual\n        // item selects it prior to focusing, which avoids the problem.)\n        event.stopPropagation();\n        event.preventDefault();\n    }\n    else {\n        if (item._respondOnItemEvents && !event.isInvoked) {\n            this.fire(this.Event.ITEM_MOUSEDOWN, {\n                targetEvent: event,\n                item: item\n            });\n            if (!item._isExcludedFromSelectionTriggers(event)) {\n                // FIXME: See if this can be moved into setCursor\n                if (this._selectOnMousedown) {\n                    // && (!isSupportsTouch() || event.touches.length == 1);\n                    item.getList().selectItem(item, isMetaHeld(event), isShiftHeld(event), isRightClick(event));\n                }\n                if (this._setCursorOnMousedown && !isMetaHeld(event)) {\n                    item.getList().setCursor(item);\n                }\n            }\n            item.focus();\n        }\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_mouseoverHandler', function (event) {\n    matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.createDraggableIfNeeded(event);\n});\ndynamicList.List.addMethod('_clickHandler', function (event) {\n    var item = matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    if (!event.isInvoked) {\n        if (item._respondOnItemEvents) {\n            this.fire(this.Event.ITEM_CLICK, {\n                targetEvent: event,\n                item: item\n            });\n        }\n        if (!item.isComposite)\n            return;\n        var element = item._getElement(), source = event.target;\n        if (item._isCloseHandler(source) && baseList.isItemOpen(element)) {\n            baseList.closeItem(element);\n            this.fire(this.Event.ITEM_CLOSED, {\n                targetEvent: event,\n                item: item\n            });\n        } else if (item._isOpenHandler(source) && !baseList.isItemOpen(element)) {\n            baseList.openItem(element);\n            this.fire(this.Event.ITEM_OPEN, {\n                targetEvent: event,\n                item: item\n            });\n        }\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_dblclickHandler', function (event) {\n    var item = matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    if (item._respondOnItemEvents && !event.isInvoked) {\n        this.fire(this.Event.ITEM_DBLCLICK, {\n            targetEvent: event,\n            item: item\n        });\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_initEvents', function () {\n    var container = this._getElement();\n    this.draggables = [];\n    if (isSupportsTouch()) {\n        container.stopObserving('touchstart').observe('touchstart', this._mousedownHandler.bindAsEventListener(this));    //scriptaculous stopped mousedown event but we made it throw this instead\n        //scriptaculous stopped mousedown event but we made it throw this instead\n        container.stopObserving('drag:touchstart').observe('drag:touchstart', this._mousedownHandler.bindAsEventListener(this));\n        container.stopObserving('touchend').observe('touchend', this._mouseupHandler.bindAsEventListener(this));\n    } else {\n        container.stopObserving('mouseup').observe('mouseup', this._mouseupHandler.bindAsEventListener(this));\n        container.stopObserving('mousedown').observe('mousedown', this._mousedownHandler.bindAsEventListener(this));    //scriptaculous stopped mousedown event but we made it throw this instead\n        //scriptaculous stopped mousedown event but we made it throw this instead\n        container.stopObserving('drag:mousedown').observe('drag:mousedown', this._mousedownHandler.bindAsEventListener(this));\n    }\n    if (!isIPad)\n        container.stopObserving('mouseover').observe('mouseover', this._mouseoverHandler.bindAsEventListener(this));\n    container.stopObserving('click').observe('click', this._clickHandler.bindAsEventListener(this));\n    container.stopObserving('dblclick').observe('dblclick', this._dblclickHandler.bindAsEventListener(this));\n    container.stopObserving('key:down').observe('key:down', this.selectNext.bindAsEventListener(this));\n    container.stopObserving('key:up').observe('key:up', this.selectPrevious.bindAsEventListener(this));\n    container.stopObserving('key:right').observe('key:right', this.selectInwards.bindAsEventListener(this));\n    container.stopObserving('key:left').observe('key:left', this.selectOutwards.bindAsEventListener(this));\n    container.stopObserving('key:pagedown').observe('key:pagedown', this.selectPageDown.bindAsEventListener(this));    /*\n    container.stopObserving('key:pageup').observe('key:pageup', this.selectPageUp.bindAsEventListener(this));\n    container.stopObserving('key:home').observe('key:home', this.selectFirst.bindAsEventListener(this));\n    container.stopObserving('key:end').observe('key:end', this.selectLast.bindAsEventListener(this));\n    */\n});\ndynamicList.List.addMethod('_itemPreventEvent',function(item , event){\n    let isComposite = item.isComposite,\n        isFavIcon = item.isIconClicked,\n        isOpenOrCloseHandler = isComposite && (item._isOpenHandler(event.target) || item._isCloseHandler(event.target)),\n        isFavHandler;\n    if ( event.which !== 3 ) {\n        isFavHandler = item._isFavoriteHandler(event.target);\n    }\n\n    const compositeItemSelectable = isComposite && ( isOpenOrCloseHandler||isFavHandler);\n    const listItemSelectable = isFavIcon && isFavHandler;\n\n    return compositeItemSelectable || listItemSelectable ;\n});\n// List element that is rendered from Underscore template string passed as an option\n// List element that is rendered from Underscore template string passed as an option\ndynamicList.UnderscoreTemplatedList = function (id, options) {\n    if (options) {\n        this._template = 'template' in options ? options.template : '';\n    }\n    dynamicList.List.apply(this, arguments);\n};\nvar temporaryFunc = function () {\n};\ntemporaryFunc.prototype = dynamicList.List.prototype;\ndynamicList.UnderscoreTemplatedList.prototype = new temporaryFunc();\ndynamicList.UnderscoreTemplatedList.prototype.constructor = dynamicList.UnderscoreTemplatedList;\ndynamicList.UnderscoreTemplatedList.prototype._getTemplateElement = function (currentElement) {\n    var element = jQuery(_.template(this._template, {}))[0];\n    jQuery(element).attr('id', this.getId());\n    element.templateClassName = element.className;\n    cloneCustomAttributes(currentElement, element);\n    return element;\n};\n\nexport {dynamicList, baseList};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n\nimport dynamicTree from '../dynamicTree/dynamicTree.utils';\nimport buttonManager from '../core/core.events.bis';\nimport actionModel from '../actionModel/actionModel.modelGenerator';\nimport layoutModule from '../core/core.layout';\nimport {isShiftHeld} from \"../util/utils.common\";\nimport {dynamicList} from '../components/list.base';\nimport jQuery from 'jquery';\n\nvar accessibilityModule = {\n    ATTR_TAB_INDEX: 'data-tab-index',\n    ATTR_COMPONENT_TYPE: 'data-component-type',\n    delayTime: 500,\n    components: [],\n    currentTabIndex: -1,\n    disabled: true,\n    initialize: function () {\n        var elements = jQuery('*[' + this.ATTR_TAB_INDEX + ']');\n        elements.each(function (element) {\n            var tabIndex = this.getTabIndex(element);\n            tabIndex > 0 && (this.components[tabIndex] = element);\n        }.bind(this));\n        this.enable();\n    },\n    enable: function () {\n        this.disabled = false;\n    },\n    disable: function () {\n        this.disabled = true;\n    },\n    _focusByType: {\n        'tree': function (component) {\n            var id = jQuery(component).attr('id');\n            var tree = dynamicTree.trees[id];\n            if (tree) {\n                var node = tree.selectedNodes.last();\n                node = node || (tree.bShowRoot ? tree.getRootNode() : tree.getRootNode().getFirstChild());\n                if (node) {\n                    node.isSelected() || node.select();\n                    accessibilityModule._doFocus(node);\n                }\n            }\n        },\n        'list': function (component) {\n            var id = jQuery(component).attr('id');\n            var list = dynamicList.lists[id];\n            if (list) {\n                var item = list.getSelectedItems().last();\n                item = item || list.getItems().first();\n                if (item) {\n                    item.isSelected() || item.select();\n                    accessibilityModule._doFocus(item);\n                }\n            }\n        },\n        'search': function (component) {\n            var target = component.children('input');\n            target && target.select();\n            accessibilityModule._doFocus(target);\n        },\n        'navigation': function (component) {\n            var target = component.children('#main_home');\n            buttonManager.over(target.children(layoutModule.BUTTON_PATTERN));\n            accessibilityModule._doFocus(target);\n        },\n        'linkList': function (component) {\n            buttonManager.over(component.children('a'));\n            accessibilityModule._doFocus(component);\n        }\n    },\n    _blurByType: {\n        'navigation': function (component) {\n            actionModel.hideMenu();    //deselect object.\n            //deselect object.\n            component.find('.over').each(function (object) {\n                buttonManager.out(object);\n            });\n        },\n        'linkList': function (component) {\n            component.find('a.over').each(function (object) {\n                buttonManager.out(object);\n            });\n        }\n    },\n    _doFocus: function (target) {\n        setTimeout(function () {\n            target.focus();\n        }, this.delayTime);\n    },\n    _focusComponent: function (component) {\n        var focusFunction = component && this.getType(component) && this._focusByType[this.getType(component)];\n        return focusFunction && focusFunction(component);\n    },\n    _blurComponent: function (component) {\n        var blurFunction = component && this.getType(component) && this._blurByType[this.getType(component)];\n        return blurFunction && blurFunction(component);\n    },\n    findTabComponent: function (component) {\n        var match;\n        while (component && !match) {\n            match = component.hasAttribute && component.hasAttribute(this.ATTR_TAB_INDEX) && component;\n            component = jQuery('#' + component.parentNode)[0];    //            console.log(\"findTabComponent\")\n        }\n        return match;\n    },\n    getTabIndex: function (component) {\n        var tabIndex = -1;\n        if (component && component.hasAttribute) {\n            component.hasAttribute(this.ATTR_TAB_INDEX) || (component = accessibilityModule.findTabComponent(component));\n            var index = component ? jQuery(component).attr(this.ATTR_TAB_INDEX) : this.currentTabIndex;\n            try {\n                index && index.length > 0 && (tabIndex = parseInt(index));\n            } catch (e) {\n            }\n        }\n        return tabIndex;\n    },\n    getType: function (component) {\n        return component && component.hasAttribute(this.ATTR_COMPONENT_TYPE) ? jQuery(component).attr(this.ATTR_COMPONENT_TYPE) : undefined;\n    },\n    getNext: function (startIndex) {\n        var nextIndex = -1;\n        if (this.components.length > 0) {\n            startIndex || (startIndex = this.currentTabIndex);\n            startIndex < 0 && (startIndex = 0);\n            nextIndex = startIndex + 1;\n            while (Object.isUndefined(this.components[nextIndex]) && nextIndex != startIndex) {\n                nextIndex++;\n                nextIndex < this.components.length || (nextIndex = 0);    //                console.log(\"getNext\")\n            }\n        }\n        return nextIndex;\n    },\n    getPrevious: function (startIndex) {\n        var previousIndex = -1;\n        if (this.components.length > 0) {\n            startIndex || (startIndex = this.currentTabIndex);\n            startIndex < 0 && (startIndex = 0);\n            previousIndex = startIndex - 1;\n            while (Object.isUndefined(this.components[previousIndex]) && previousIndex != startIndex) {\n                previousIndex--;\n                previousIndex > -1 || (previousIndex = this.components.length - 1);    //console.log(\"getPrevious\");\n            }\n        }\n        return previousIndex;\n    },\n    focusNext: function (startIndex) {\n        this.focusByIndex(this.getNext(startIndex));\n    },\n    focusPrevious: function (startIndex) {\n        this.focusByIndex(this.getPrevious(startIndex));\n    },\n    focusByIndex: function (index) {\n        index > -1 && (this.currentTabIndex = index) && this._focusComponent(this.components[index]);\n    },\n    blurCurrent: function () {\n        var component = this.components[this.currentTabIndex];\n        component && this._blurComponent(component);\n    },\n    blurByIndex: function (index) {\n        var component = this.components[index];\n        component && this._blurComponent(component);\n    }\n};\ndocument.observe('key:tab', function (event) {\n    if (!accessibilityModule.disabled) {\n        var tabIndex = accessibilityModule.getTabIndex(event.element());\n        accessibilityModule.blurCurrent();\n        isShiftHeld(event) ? accessibilityModule.focusPrevious(tabIndex) : accessibilityModule.focusNext(tabIndex);\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n    }\n});    //document.onfocusout = function(e) {\n//    var event = e ? e : Event.extend(window.event);\n//    var tabIndex = accessibilityModule.getTabIndex(event.target);\n//\n//    accessibilityModule.blurByIndex(tabIndex);\n//};\n//\n//document.addEventListener && document.addEventListener('blur', document.onfocusout, true);\n\nexport default accessibilityModule;\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/**\n * A collection of Common Utilities.\n */\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// **IMPORTANT - PLEASE READ!!!****\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//\n// In order to keep this file organized and readable please consider which section to add your new function\n// Also check if there is already something there you can use or extend\n// Remember also we have prototype.js at our disposal\n//\n// These are the sections:\n//\n// Operating System check\n// Browser Sniffing\n// Generic Functions\n// DOM Navigation\n// Element Inspection\n// Element Positioning\n// Element Displaying and Effects\n// Element Overlays\n// Element Enabling\n// Mousepointer\n// Table Utils\n// Window Inspection\n// Window Positioning\n// Window Creation\n// IFRAME Utils\n// Event Utils\n// String Utils\n// URL Utils\n// Object Utils\n// Function Utils\n// Arithmetic Utils\n// Busy Monitor\n// In Place Editor\n// <Script> utils\n// CSS utils\n// CSS Selector utils\n// Dialog events\n// Ajax utils\n// Tracer Utils\n// Validation module\n// Cookie Util\n// Session management\n// Webflow utils\n// Page Dimmer\n// File upload method (Ajax IFrame Upload)\n// Touch Utils\n// Keyboard events\n// Encryption utils\n// Template utils\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/*global alert, escape */\n/* eslint no-array-constructor: \"off\", no-new-wrappers: \"off\", no-new-object: \"off\" */\nimport {Draggables} from 'dragdropextra';\nimport jQuery from 'jquery';\nimport _ from 'underscore';\nimport utilsCommonEnum from './utils.common.enum';\nimport Builder from 'scriptaculous/src/builder';\nimport {Dragger, DragListener} from './tools.drag';\nimport moment from 'moment';\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport {$, $w, Prototype, Position} from 'prototype';\n\nvar log = '';    ///////////////////////////////////////////\n// Operating System check.\n///////////////////////////////////////////\n/**\n * Are we on a Mac?\n */\n///////////////////////////////////////////\n// Operating System check.\n///////////////////////////////////////////\n/**\n * Are we on a Mac?\n */\nfunction isMacOS() {\n    return isOS('mac');\n}    /**\n * Are we on a Windows PC?\n */\n/**\n * Are we on a Windows PC?\n */\nfunction isWindowsOS() {\n    return isOS('win');\n}    /**\n * Are we on a Linux PC?\n */\n/**\n * Are we on a Linux PC?\n */\nfunction isLinuxOS() {\n    return isOS('linux');\n}    /**\n * Generic Operating System tester\n * @param {Object} osName - string to test OS against\n */\n/**\n * Generic Operating System tester\n * @param {Object} osName - string to test OS against\n */\nfunction isOS(osName) {\n    return navigator.appVersion.toLowerCase().include(osName);\n}\nfunction isSupportsTouch() {\n    return isIPad() || isAndroid();\n}    ///////////////////////////////////////////\n// Browser Sniffing.\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Browser Sniffing.\n///////////////////////////////////////////\nfunction isMozilla() {\n    return navigator.appName === 'Netscape';\n}\nfunction isFirefox() {\n    return navigator.userAgent.toLowerCase().include('firefox');\n}\nfunction isWebKitEngine() {\n    return Prototype.Browser.WebKit;\n}\nfunction isChrome() {\n    return navigator.userAgent.toLowerCase().include('chrome');\n}\nfunction isIPad() {\n    return navigator.platform == 'iPad';\n}\nfunction isAndroid() {\n    return navigator.userAgent.toLowerCase().include('android');\n}\nfunction isIE() {\n    return navigator.appName === 'Microsoft Internet Explorer' || navigator.userAgent.indexOf('Trident/') >= 0;\n}\nfunction isIE6() {\n    return isIEVersion(6);\n}\nfunction isIE7() {\n    return isIEVersion(7);\n}\nfunction isIE8() {\n    return isIEVersion(8);\n}\nfunction isIE9() {\n    return isIEVersion(9);\n}\nfunction isIE10() {\n    return isIEVersion(10);\n}\nfunction isIE11() {\n    return isIEVersion(11);\n}\nfunction isIEVersion7Upwards() {\n    return getIEVersion() >= 7;\n}\nfunction isIEVersion(testVersion) {\n    return getIEVersion() === testVersion;\n}\nfunction getIEVersion() {\n    var version = 0;    // not IE\n    // not IE\n    if (getIEVersion.version >= 0) {\n        return getIEVersion.version;\n    }\n    if (isIE()) {\n        if (navigator.appName === 'Netscape') {\n            var ua = navigator.userAgent;\n            var re = new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})');\n            if (re.exec(ua) != null) {\n                version = parseFloat(RegExp.$1);\n            }\n        } else {\n            var msVersion = navigator.appVersion.split('MSIE')[1];\n            version = parseFloat(msVersion);\n        }\n    }\n    getIEVersion.version = version;\n    return version;\n}    /////////////////////////////////////////////\n// .prototype Overrides\n/////////////////////////////////////////////\n/**\n * Provide Function with a convenience method to add a new method to its prototype\n * With thanks to \"JavaScript: The Good Parts by Douglas Crockford. Copyright 2008 Yahoo! Inc., 978-0596-51774-8\"\n * @param {Object} name\n * @param {Object} func\n */\n/////////////////////////////////////////////\n// .prototype Overrides\n/////////////////////////////////////////////\n/**\n * Provide Function with a convenience method to add a new method to its prototype\n * With thanks to \"JavaScript: The Good Parts by Douglas Crockford. Copyright 2008 Yahoo! Inc., 978-0596-51774-8\"\n * @param {Object} name\n * @param {Object} func\n */\nFunction.prototype.addMethod = function (name, func) {\n    this.prototype[name] = func;\n    return this;\n};    /**\n * Provide Function with a convenience method to add a new var to its prototype\n * Identical to addMethod - but renaming for better semantics\n * @param {Object} name\n * @param {Object} func\n */\n/**\n * Provide Function with a convenience method to add a new var to its prototype\n * Identical to addMethod - but renaming for better semantics\n * @param {Object} name\n * @param {Object} func\n */\nFunction.prototype.addVar = function (name, value) {\n    this.prototype[name] = value;\n    return this;\n};\nFunction.prototype.compose = function (argFunction) {\n    var invokingFunction = this;\n    return function () {\n        return invokingFunction.call(this, argFunction.apply(this, arguments));\n    };\n};    ///////////////////////////////////////////\n// Generic Functions\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Generic Functions\n///////////////////////////////////////////\nfunction doNothing() {\n}    //what it says\n/**\n * Add data to form.\n * @param form Dom element form\n * @param postData Map where key is a parameter name and value is a value or array of values\n */\n/**\n * Add data to form.\n * @param form Dom element form\n * @param postData Map where key is a parameter name and value is a value or array of values\n */\nfunction addDataToForm(form, postData) {\n    var addHiddenInputToForm = function (parameterName, parameterValue) {\n        var input = jQuery('<input>').attr('type', 'hidden').attr('name', parameterName).val(parameterValue);\n        jQuery(form).append(jQuery(input));\n    };\n    _.each(postData, function (parameterValues, parameterName) {\n        if (_.isArray(parameterValues)) {\n            _.each(parameterValues, function (parameterValue) {\n                addHiddenInputToForm(parameterName, parameterValue);\n            });\n        } else {\n            addHiddenInputToForm(parameterName, parameterValues);\n        }\n    });\n}    /**\n * Change year and moth in specified date\n */\n/**\n * Change year and moth in specified date\n */\nfunction updateYearMonth(date, year, month) {\n    if (date) {\n        date.setFullYear(year);\n        date.setMonth(month);    // If we have 2012-12-31 and set Nov(11 - 1) then date will be 2012-12-01\n        // So we need to set it again\n        // If we have 2012-12-31 and set Nov(11 - 1) then date will be 2012-12-01\n        // So we need to set it again\n        if (date.getMonth() !== month) {\n            date.setMonth(month);\n        }\n    }\n    return date;\n}\n\nfunction getTZOffset(timezoneLabel, targetDateStr) {\n    if (!timezoneLabel) {\n        return 0;\n    }\n    var utc_offset;\n    var tzList = {\n        'africa/abidjan': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/accra': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/addis_ababa': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/algiers': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/asmara': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/asmera': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/bamako': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/bangui': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/banjul': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/bissau': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/blantyre': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/brazzaville': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/bujumbura': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/cairo': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/casablanca': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'africa/ceuta': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'africa/conakry': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/dakar': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/dar_es_salaam': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/djibouti': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/douala': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/el_aaiun': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/freetown': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/gaborone': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/harare': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/johannesburg': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/juba': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/kampala': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/khartoum': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/kigali': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/kinshasa': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lagos': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/libreville': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lome': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/luanda': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lubumbashi': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/lusaka': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/malabo': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/maputo': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/maseru': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/mbabane': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/mogadishu': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/monrovia': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/nairobi': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/ndjamena': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/niamey': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/nouakchott': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/ouagadougou': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/porto-novo': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/sao_tome': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/timbuktu': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/tripoli': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/tunis': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/windhoek': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'akst9akdt': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/adak': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'america/anchorage': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/anguilla': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/antigua': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/araguaina': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/buenos_aires': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/catamarca': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/comodrivadavia': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/cordoba': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/jujuy': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/la_rioja': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/mendoza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/rio_gallegos': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/salta': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/san_juan': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/san_luis': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/tucuman': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/ushuaia': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/aruba': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/asuncion': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/atikokan': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/atka': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'america/bahia': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/bahia_banderas': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/barbados': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/belem': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/belize': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/blanc-sablon': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/boa_vista': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/bogota': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/boise': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/buenos_aires': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cambridge_bay': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/campo_grande': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/cancun': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/caracas': {\n            utc: -4.5,\n            utc_dst: -4.5\n        },\n        'america/catamarca': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cayenne': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cayman': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/chicago': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/chihuahua': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/coral_harbour': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/cordoba': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/costa_rica': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/creston': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/cuiaba': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/curacao': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/danmarkshavn': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'america/dawson': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/dawson_creek': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/denver': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/detroit': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/dominica': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/edmonton': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/eirunepe': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/el_salvador': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/ensenada': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/fort_wayne': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/fortaleza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/glace_bay': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/godthab': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/goose_bay': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/grand_turk': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/grenada': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/guadeloupe': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/guatemala': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/guayaquil': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/guyana': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/halifax': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/havana': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/hermosillo': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/indiana/indianapolis': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/knox': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/indiana/marengo': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/petersburg': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/tell_city': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/indiana/vevay': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/vincennes': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/winamac': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indianapolis': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/inuvik': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/iqaluit': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/jamaica': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/jujuy': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/juneau': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/kentucky/louisville': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/kentucky/monticello': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/knox_in': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/kralendijk': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/la_paz': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/lima': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/los_angeles': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/louisville': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/lower_princes': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/maceio': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/managua': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/manaus': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/marigot': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/martinique': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/matamoros': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/mazatlan': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/mendoza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/menominee': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/merida': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/metlakatla': {\n            utc: -8,\n            utc_dst: -8\n        },\n        'america/mexico_city': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/miquelon': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/moncton': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/monterrey': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/montevideo': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/montreal': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/montserrat': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/nassau': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/new_york': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/nipigon': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/nome': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/noronha': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'america/north_dakota/beulah': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/north_dakota/center': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/north_dakota/new_salem': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/ojinaga': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/panama': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/pangnirtung': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/paramaribo': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/phoenix': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/port_of_spain': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/port-au-prince': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/porto_acre': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/porto_velho': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/puerto_rico': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/rainy_river': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/rankin_inlet': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/recife': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/regina': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/resolute': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/rio_branco': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/rosario': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/santa_isabel': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/santarem': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/santiago': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/santo_domingo': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/sao_paulo': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/scoresbysund': {\n            utc: -1,\n            utc_dst: 0\n        },\n        'america/shiprock': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/sitka': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/st_barthelemy': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_johns': {\n            utc: -3.5,\n            utc_dst: -2.5\n        },\n        'america/st_kitts': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_lucia': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_thomas': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_vincent': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/swift_current': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/tegucigalpa': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/thule': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/thunder_bay': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/tijuana': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/toronto': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/tortola': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/vancouver': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/virgin': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/whitehorse': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/winnipeg': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/yakutat': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/yellowknife': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'antarctica/casey': {\n            utc: 11,\n            utc_dst: 8\n        },\n        'antarctica/davis': {\n            utc: 5,\n            utc_dst: 7\n        },\n        'antarctica/dumontdurville': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'antarctica/macquarie': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'antarctica/mawson': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'antarctica/mcmurdo': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'antarctica/palmer': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'antarctica/rothera': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'antarctica/south_pole': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'antarctica/syowa': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'antarctica/vostok': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'arctic/longyearbyen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'asia/aden': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/almaty': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/amman': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/anadyr': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/aqtau': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/aqtobe': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/ashgabat': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/ashkhabad': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/baghdad': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/bahrain': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/baku': {\n            utc: 4,\n            utc_dst: 5\n        },\n        'asia/bangkok': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/beirut': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/bishkek': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/brunei': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/calcutta': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/choibalsan': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/chongqing': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/chungking': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/colombo': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/dacca': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/damascus': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/dhaka': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/dili': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/dubai': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/dushanbe': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/gaza': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/harbin': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/hebron': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/ho_chi_minh': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/hong_kong': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/hovd': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/irkutsk': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/istanbul': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/jakarta': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/jayapura': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/jerusalem': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/kabul': {\n            utc: 4.5,\n            utc_dst: 4.5\n        },\n        'asia/kamchatka': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/karachi': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/kashgar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kathmandu': {\n            utc: 5.75,\n            utc_dst: 5.75\n        },\n        'asia/katmandu': {\n            utc: 5.75,\n            utc_dst: 5.75\n        },\n        'asia/kolkata': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/krasnoyarsk': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuala_lumpur': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuching': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuwait': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/macao': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/macau': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/magadan': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/makassar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/manila': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/muscat': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/nicosia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/novokuznetsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/novosibirsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/omsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/oral': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/phnom_penh': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/pontianak': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/pyongyang': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/qatar': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/qyzylorda': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/rangoon': {\n            utc: 6.5,\n            utc_dst: 6.5\n        },\n        'asia/riyadh': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/saigon': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/sakhalin': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'asia/samarkand': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/seoul': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/shanghai': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/singapore': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/taipei': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/tashkent': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/tbilisi': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/tehran': {\n            utc: 3.5,\n            utc_dst: 4.5\n        },\n        'asia/tel_aviv': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/thimbu': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/thimphu': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/tokyo': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/ujung_pandang': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/ulaanbaatar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/ulan_bator': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/urumqi': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/vientiane': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/vladivostok': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'asia/yakutsk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'asia/yekaterinburg': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/yerevan': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'atlantic/azores': {\n            utc: -1,\n            utc_dst: 0\n        },\n        'atlantic/bermuda': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'atlantic/canary': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/cape_verde': {\n            utc: -1,\n            utc_dst: -1\n        },\n        'atlantic/faeroe': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/faroe': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/jan_mayen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'atlantic/madeira': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/reykjavik': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'atlantic/south_georgia': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'atlantic/st_helena': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'atlantic/stanley': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'australia/act': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/adelaide': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/brisbane': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/broken_hill': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/canberra': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/currie': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/darwin': {\n            utc: 9.5,\n            utc_dst: 9.5\n        },\n        'australia/eucla': {\n            utc: 8.75,\n            utc_dst: 8.75\n        },\n        'australia/hobart': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/lhi': {\n            utc: 10.5,\n            utc_dst: 11\n        },\n        'australia/lindeman': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/lord_howe': {\n            utc: 10.5,\n            utc_dst: 11\n        },\n        'australia/melbourne': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/north': {\n            utc: 9.5,\n            utc_dst: 9.5\n        },\n        'australia/nsw': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/perth': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'australia/queensland': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/south': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/sydney': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/tasmania': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/victoria': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/west': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'australia/yancowinna': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'brazil/acre': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'brazil/denoronha': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'brazil/east': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'brazil/west': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'canada/atlantic': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'canada/central': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'canada/eastern': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'canada/east-saskatchewan': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'canada/mountain': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'canada/newfoundland': {\n            utc: -3.5,\n            utc_dst: -2.5\n        },\n        'canada/pacific': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'canada/saskatchewan': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'canada/yukon': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'cet': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'chile/continental': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'chile/easterisland': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'cst6cdt': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'cuba': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'eet': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'egypt': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'eire': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'est': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'est5edt': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'etc/gmt': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/gmt+0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/uct': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/universal': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/utc': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/zulu': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'europe/amsterdam': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/andorra': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/athens': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/belfast': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/belgrade': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/berlin': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/bratislava': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/brussels': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/bucharest': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/budapest': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/chisinau': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/copenhagen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/dublin': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/gibraltar': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/guernsey': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/helsinki': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/isle_of_man': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/istanbul': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/jersey': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/kaliningrad': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'europe/kiev': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/lisbon': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/ljubljana': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/london': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/luxembourg': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/madrid': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/malta': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/mariehamn': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/minsk': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'europe/monaco': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/moscow': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/nicosia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/oslo': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/paris': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/podgorica': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/prague': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/riga': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/rome': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/samara': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/san_marino': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/sarajevo': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/simferopol': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/skopje': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/sofia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/stockholm': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/tallinn': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/tirane': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/tiraspol': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/uzhgorod': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/vaduz': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vatican': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vienna': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vilnius': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/volgograd': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/warsaw': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/zagreb': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/zaporozhye': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/zurich': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'gb': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'gb-eire': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'gmt': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt+0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt-0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'greenwich': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'hongkong': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'hst': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'iceland': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'indian/antananarivo': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/chagos': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'indian/christmas': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'indian/cocos': {\n            utc: 6.5,\n            utc_dst: 6.5\n        },\n        'indian/comoro': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/kerguelen': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'indian/mahe': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'indian/maldives': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'indian/mauritius': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'indian/mayotte': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/reunion': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'iran': {\n            utc: 3.5,\n            utc_dst: 4.5\n        },\n        'israel': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'jamaica': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'japan': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'jst-9': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'kwajalein': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'libya': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'met': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'mexico/bajanorte': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'mexico/bajasur': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'mexico/general': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'mst': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'mst7mdt': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'navajo': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'nz': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'nz-chat': {\n            utc: 12.75,\n            utc_dst: 13.75\n        },\n        'pacific/apia': {\n            utc: 13,\n            utc_dst: 14\n        },\n        'pacific/auckland': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'pacific/chatham': {\n            utc: 12.75,\n            utc_dst: 13.75\n        },\n        'pacific/chuuk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/easter': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'pacific/efate': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/enderbury': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/fakaofo': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/fiji': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'pacific/funafuti': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/galapagos': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'pacific/gambier': {\n            utc: -9,\n            utc_dst: -9\n        },\n        'pacific/guadalcanal': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/guam': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/honolulu': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/johnston': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/kiritimati': {\n            utc: 14,\n            utc_dst: 14\n        },\n        'pacific/kosrae': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/kwajalein': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/majuro': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/marquesas': {\n            utc: -9.5,\n            utc_dst: -9.5\n        },\n        'pacific/midway': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/nauru': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/niue': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/norfolk': {\n            utc: 11.5,\n            utc_dst: 11.5\n        },\n        'pacific/noumea': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/pago_pago': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/palau': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'pacific/pitcairn': {\n            utc: -8,\n            utc_dst: -8\n        },\n        'pacific/pohnpei': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/ponape': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/port_moresby': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/rarotonga': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/saipan': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/samoa': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/tahiti': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/tarawa': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/tongatapu': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/truk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/wake': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/wallis': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/yap': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'poland': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'portugal': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'prc': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'pst8pdt': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'roc': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'rok': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'singapore': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'turkey': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'uct': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'universal': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'us/alaska': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'us/aleutian': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'us/arizona': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'us/central': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'us/eastern': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/east-indiana': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/hawaii': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'us/indiana-starke': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'us/michigan': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/mountain': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'us/pacific': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'us/pacific-new': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'us/samoa': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'utc': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'wet': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'w-su': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'zulu': {\n            utc: 0,\n            utc_dst: 0\n        }\n    };\n    timezoneLabel = timezoneLabel.toLowerCase();\n    if (typeof tzList[timezoneLabel] === 'undefined')\n        return 0;\n    utc_offset = tzList[timezoneLabel].utc;\n    if (moment(targetDateStr).isDST()) {\n        utc_offset = tzList[timezoneLabel].utc_dst;\n    }\n    return utc_offset;\n}\n//////////////////////////////////////////////////////////////////////////////////\n// Type checking\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// typically just apply the prototype methods in the imlementations below\n// directly to the objects - but these methods added for backwards compatability...\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// Type checking\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// typically just apply the prototype methods in the imlementations below\n// directly to the objects - but these methods added for backwards compatability...\n//////////////////////////////////////////////////////////////////////////////////\nfunction exists(obj) {\n    return !Object.isUndefined(obj);\n}\nfunction isArray(obj) {\n    return Object.isArray(obj);\n}\nfunction isNumber(obj) {\n    return Object.isNumber(obj);\n}    /**\n * Test to esure object is not null or undefined\n * @param object\n */\n/**\n * Test to esure object is not null or undefined\n * @param object\n */\nfunction isNotNullORUndefined(object) {\n    return typeof object !== 'undefined' && object != null;\n}    /*\n * Utility method had to be written because jquery.prop('disabled') fails in Chrome.\n */\n/*\n * Utility method had to be written because jquery.prop('disabled') fails in Chrome.\n */\nfunction hasDisabledAttributeSet(element) {\n    var disabled = element.getAttribute('disabled');\n    return !isNotNullORUndefined(disabled) ? false : disabled == '0' || disabled == 'false' ? false : true;\n}    ///////////////////////////////////////////\n// DOM Navigation\n///////////////////////////////////////////\n///////////////////////////////////////////\n// DOM Navigation\n///////////////////////////////////////////\nfunction getParentDiv(elem) {\n    return jQuery(elem).parent('div');\n}\nfunction getAbsoluteParent(child) {\n    var nextOne = child;\n    while (!nextOne.style || nextOne.style.position !== 'absolute') {\n        if (nextOne.tagName.toLowerCase() === 'body')\n            return null;\n        nextOne = jQuery(nextOne).parent();\n    }\n    return nextOne;\n}\nfunction getElementWithIdAndTagAndParent(id, tagName, parentElem) {\n    var elems = parentElem.getElementsByTagName(tagName);\n    for (var i = 0; i < elems.length; i++) {\n        if (elems[i].getAttribute('id') === id)\n            return elems[i];\n    }\n    return null;\n}    /**\n * uses prototype`s up() method\n * see http://www.prototypejs.org/api/element/up\n * @param {Object} cssRule\n */\n/**\n * uses prototype`s up() method\n * see http://www.prototypejs.org/api/element/up\n * @param {Object} cssRule\n */\nfunction getClosestAncestor(elem, cssRule) {\n    var result;\n    while (!result) {\n        result = jQuery('#' + elem).parent(cssRule);\n        if (!result) {\n            elem = elem.parentNode;\n            if (!elem || elem.tagName !== 'DIV') {\n                return null;    //reached root - no matches available\n            }\n        }\n    }\n    return result;\n}    /**\n * @deprecated - prototype does this too\n * @param {Object} child\n * @param {Object} parent\n */\n/**\n * @deprecated - prototype does this too\n * @param {Object} child\n * @param {Object} parent\n */\nfunction isDescendantOf(child, parent) {\n    while (child.tagName != 'BODY') {\n        if (child == parent) {\n            return true;\n        }\n        child = child.parentNode;\n    }\n    return false;\n}\nfunction getCellIndex(cell) {\n    return cell.cellIndex;\n}\nfunction getRowIndex(row) {\n    return row.rowIndex;\n}    ///////////////////////////////////////////\n// Element Inspection\n///////////////////////////////////////////\n/**\n * @param {Element} elem\n * @return true if elem or ancestor has disabled attribute\n */\n///////////////////////////////////////////\n// Element Inspection\n///////////////////////////////////////////\n/**\n * @param {Element} elem\n * @return true if elem or ancestor has disabled attribute\n */\nfunction isDisabled(elem) {\n    if (!elem.readAttribute) {\n        //e.g. document - which is never disabled\n        return false;\n    }    // fix issue when sizer worked incorrectly if quickly dragged on disabled element\n    // previously this method returned true and eventMouseUp handler was not called in dragdrop-1.9.0-patched.js\n    // which caused unexpected behavior of sizer\n    // fix issue when sizer worked incorrectly if quickly dragged on disabled element\n    // previously this method returned true and eventMouseUp handler was not called in dragdrop-1.9.0-patched.js\n    // which caused unexpected behavior of sizer\n    if (Draggables && Draggables.activeDraggable && Draggables.activeDraggable.dragging && matchAny(Draggables.activeDraggable.element, ['.sizer.dragging'], false)) {\n        return false;\n    }\n    var hasAttribute = !!jQuery(elem).attr('disabled') || elem.ancestors().any(function (s) {\n        return jQuery(s).attr('disabled');\n    });    //TODO className check is only temporary - all disabled elems should have disabled attribute\n    //TODO className check is only temporary - all disabled elems should have disabled attribute\n    var hasClassName = matchAny(elem, ['.disabled'], true);\n    return hasAttribute || hasClassName;\n}    /**\n * Return the element if it matches any of these css selectors\n * Optionally return matching ancestor as alternative\n * @param {Element} elem - the element (object or id)\n * @param {Array} array of Css Selector Patterns\n * @param {boolean} true if we are to return closest matching ancestor if no direct match\n */\n/**\n * Return the element if it matches any of these css selectors\n * Optionally return matching ancestor as alternative\n * @param {Element} elem - the element (object or id)\n * @param {Array} array of Css Selector Patterns\n * @param {boolean} true if we are to return closest matching ancestor if no direct match\n */\nfunction matchAny(elem, patterns, includeAncestors) {\n    if (!elem) {\n        return null;\n    }    //check direct hits first...\n    //check direct hits first...\n    for (var i = 0; i < patterns.length; ++i) {\n        if (elem.match && elem.match(patterns[i])) {\n            return elem;\n        }\n    }    //...then ancestors\n    //...then ancestors\n    if (includeAncestors) {\n        for (var j = 0; j < patterns.length; ++j) {\n            var upMatch = elem.up && elem.up(patterns[j]);\n            if (upMatch) {\n                return upMatch;\n            }\n        }\n    }\n    return null;\n}    /**\n * Return the element if it or any of its ancestors match given pattern\n * @param elem\n * @param css pattern\n * @return matching element\n */\n/**\n * Return the element if it or any of its ancestors match given pattern\n * @param elem\n * @param css pattern\n * @return matching element\n */\nfunction matchMeOrUp(elem, pattern) {\n    //return elem && ((elem.match(pattern) && elem) || elem.up(pattern));\n    var match;\n    while (elem && !match) {\n        match = elem.match && elem.match(pattern) && elem;\n        elem = elem.parentNode;\n    }\n    return match;\n}    /**\n * Do the given styles match\n * @param {Element} elem1 first Element (object or id)\n * @param {Element} elem2 second Element (object or id)\n */\n/**\n * Do the given styles match\n * @param {Element} elem1 first Element (object or id)\n * @param {Element} elem2 second Element (object or id)\n */\nfunction stylesMatch(elem1, elem2, styleName) {\n    return jQuery('#' + elem1)[0].getStyle(styleName) === jQuery('#' + elem2)[0].getStyle(styleName);\n}    /**\n * get the next sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the next sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getNextMatchingSibling(elem, pattern) {\n    elem = elem.nextSibling;\n\n    while (elem) {\n        if (elem.match && elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.nextSibling;\n    }\n    return null;\n}    /**\n * get the next sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the next sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getNextNonMatchingSibling(elem, pattern) {\n    elem = elem.nextSibling;\n\n    while (elem) {\n        if (elem.match && !elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.nextSibling;\n    }\n    return null;\n}    /**\n * get the previous sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the previous sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getPreviousMatchingSibling(elem, pattern) {\n    elem = elem.previousSibling;\n\n    while (elem) {\n        if (elem.match && elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.previousSibling;\n    }\n    return null;\n}    /**\n * get the previous sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the previous sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getPreviousNonMatchingSibling(elem, pattern) {\n    elem = elem.previousSibling;\n\n    while (elem) {\n        if (elem.match && !elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.previousSibling;\n    }\n    return null;\n}    /**\n * deprecated - use getBoxOffsets() below\n */\n/**\n * deprecated - use getBoxOffsets() below\n */\nfunction getAbsoluteOffsets(thisObj) {\n    var oLeft = thisObj.offsetLeft;\n    var oTop = thisObj.offsetTop;\n    var thisParent = thisObj.offsetParent;\n    while (thisParent.tagName.toUpperCase() != 'BODY' && thisParent.style.position != 'absolute') {\n        thisParent = thisParent.offsetParent;\n    }    //add co-ords of absolute parent\n    //add co-ords of absolute parent\n    if (thisParent.style.position == 'absolute') {\n        oLeft = oLeft + thisParent.offsetLeft;\n        oTop = oTop + thisParent.offsetTop;\n    }\n    if (isIE()) {\n        //minor adjustment because IE handles offset slightly differently;\n        //oLeft=oLeft+1;\n        oTop = oTop + 1;\n    }\n    return new Array(oLeft, oTop, oLeft + thisObj.offsetWidth, oTop + thisObj.offsetHeight);\n}    /**\n * deprecated - use getBoxOffsets()[1] below\n * but keep this as a fallthrough method\n */\n/**\n * deprecated - use getBoxOffsets()[1] below\n * but keep this as a fallthrough method\n */\nfunction getAbsoluteTopOffset(thisObj) {\n    var oTop = thisObj.offsetTop;\n    var thisParent = thisObj.offsetParent;\n    while (thisParent.tagName.toUpperCase() != 'BODY' && thisParent.style.position != 'absolute') {\n        var updatedTop = oTop + thisParent.offsetTop;\n        thisParent = thisParent.offsetParent;\n    }    //add co-ords of absolute parent\n    //add co-ords of absolute parent\n    if (thisParent.style.position == 'absolute') {\n        updatedTop = oTop + thisParent.offsetTop;\n    }\n    if (isIE()) {\n        //minor adjustment because IE handles offset slightly differently;\n        updatedTop = oTop + 1;\n    }\n    return updatedTop;\n}    /**\n * re-implemenation of getAbsoluteOffsets()\n * but leaving original for now in case results vary slightly\n * @param theObj - the element who`s offsets we are calculating\n * @param includeScrollOffsets - consider scrolling in results (origin will be outside viewport)\n */\n/**\n * re-implemenation of getAbsoluteOffsets()\n * but leaving original for now in case results vary slightly\n * @param theObj - the element who`s offsets we are calculating\n * @param includeScrollOffsets - consider scrolling in results (origin will be outside viewport)\n */\nfunction getBoxOffsets(thisObj, includeScrollOffsets) {\n    var offsets = $(thisObj).cumulativeOffset();\n    var posLeft = offsets[0];\n    var posTop = offsets[1];\n    if (includeScrollOffsets) {\n        var scrollOffsets = $(thisObj).cumulativeScrollOffset();\n        posLeft = posLeft - scrollOffsets[0];\n        posTop = posTop - scrollOffsets[1];\n    }\n    return new Array(posLeft, posTop);\n}\nfunction getInnerText(elem) {\n    return isNotNullORUndefined(elem.innerText) ? elem.innerText : elem.textContent;\n}\nfunction isPointOverlayingObject(x, y, obj) {\n    //    var offsets = getAbsoluteOffsets(obj);\n    //    //window.status = offsets[0]+'-'+x+'-'+offsets[2]+'-'+offsets[1]+'-'+y+'-'+offsets[3];\n    //    return x>offsets[0]&&x<offsets[2]&&y>offsets[1]&&y<offsets[3];\n    //TODO: this is deprecated in prototype but not yet replaced in scriptaculous\n    //using it for now - watch for changes in future prototype releases\n    return Position.within(obj, x, y);\n}\nfunction boxesOverlap(leftA, topA, rightA, bottomA, leftB, topB, rightB, bottomB) {\n    return !(topA > bottomB || bottomA < topB || leftA > rightB || rightA < leftB);\n}\nfunction boxesOverlapVertically(leftA, rightA, leftB, rightB) {\n    return !(leftA >= rightB || rightA <= leftB);\n}\nfunction boxesOverlapHorizontally(topA, bottomA, topB, bottomB) {\n    return !(topA >= bottomB || bottomA <= topB);\n}\nfunction getOuterHeight(elem) {\n    if (!elem.clientHeight) {\n        return 0;    //not visible\n    }\n    return new Number(elem.getStyle('height').replace(/[^\\d\\.]/g, '')) + getBufferHeight(elem, true);\n}\nfunction getOuterWidth(elem) {\n    if (!elem.clientWidth) {\n        return 0;    //not visible\n    }\n    return new Number(elem.getStyle('width').replace(/[^\\d\\.]/g, '')) + getBufferWidth(elem, true);\n}\nfunction getBufferHeight(elem, includeMargins) {\n    if (!elem.visible()) {\n        return 0;\n    }    //do new Number instead of parseInt to avoid rounding errors\n    //do new Number instead of parseInt to avoid rounding errors\n    var result = 0;\n    var digitRegex = /[^\\d\\.]/g;\n    if (includeMargins) {\n        var marginTop = elem.getStyle('marginTop');\n        var marginBottom = elem.getStyle('marginBottom');    //IE workaround\n        //IE workaround\n        marginTop = marginTop == null ? '0px' : marginTop;\n        marginBottom = marginBottom == null ? '0px' : marginBottom;\n        marginTop = marginTop.replace(digitRegex, '');\n        marginBottom = marginBottom.replace(digitRegex, '');\n        result = new Number(marginTop).ceil() + new Number(marginBottom).ceil();\n    }\n    result += new Number(elem.getStyle('borderBottomWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('borderTopWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingTop').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingBottom').replace(digitRegex, '')).ceil();\n    return result;\n}\nfunction getBufferWidth(elem, includeMargins) {\n    if (!elem.visible()) {\n        return 0;\n    }\n    //do new Number instead of parseInt to avoid rounding errors\n    var result = 0;\n    var digitRegex = /[^\\d\\.]/g;\n    if (includeMargins) {\n        var marginLeft = elem.getStyle('marginLeft');\n        var marginRight = elem.getStyle('marginRight');    //IE workaround\n        //IE workaround\n        marginLeft = marginLeft == null ? '0px' : marginLeft;\n        marginRight = marginRight == null ? '0px' : marginRight;\n        marginLeft = marginLeft.replace(digitRegex, '');\n        marginRight = marginRight.replace(digitRegex, '');\n        result = new Number(marginLeft).ceil() + new Number(marginRight).ceil();\n    }\n    result += new Number(elem.getStyle('borderLeftWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('borderRightWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingLeft').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingRight').replace(digitRegex, '')).ceil();\n    return result;\n}    /**\n * looks up any dimension style (left,top,width,height) in units of px or % and returns the px value\n * throws exception if unit is not % or px or parent unit is not px\n * @param {Object} element\n * @param {Object} dimension\n * @return {number} px value\n */\n/**\n * looks up any dimension style (left,top,width,height) in units of px or % and returns the px value\n * throws exception if unit is not % or px or parent unit is not px\n * @param {Object} element\n * @param {Object} dimension\n * @return {number} px value\n */\nfunction getDimensionInPx(element, dimension) {\n    var parentDimension = {\n        left: 'width',\n        right: 'width',\n        width: 'width',\n        top: 'height',\n        bottom: 'height',\n        height: 'height'\n    };\n    var measurement = element.getStyle(dimension);\n    if (measurement.include('%')) {\n        var parentNode = element.parentNode;\n        var parentMeasurement = parentNode.getStyle(parentDimension[dimension]);\n        if (!parentMeasurement.include('px')) {\n            throw 'cannot convert to px , because parent dimension not measured in px';\n        }\n        return parseInt(measurement) * parseInt(parentMeasurement) / 100;\n    }\n    if (measurement.include('px')) {\n        return parseInt(measurement);\n    }\n    throw 'cannot convert to px, because unit is neither px or %';\n}    /**\n * takes a style (width or height) for an element and returns the equivalent actual size\n * @param {Object} asStyle\n */\n/**\n * takes a style (width or height) for an element and returns the equivalent actual size\n * @param {Object} asStyle\n */\nfunction getActualDimension(elem, style) {\n    var conversion = {\n        'width': 'clientWidth',\n        'height': 'clientHeight'\n    };\n    return elem[conversion[style]];\n}    /**\n * nullify and remove all children\n * return true if succesful\n * @param {Object} elem\n */\n/**\n * nullify and remove all children\n * return true if succesful\n * @param {Object} elem\n */\nfunction purgeChildElements(elem) {\n    try {\n        var kids = elem && elem.children;\n        if (!kids) {\n            return;\n        }\n        for (var i = 0, l = kids.length; i < l; i++) {\n            purge(kids[i]);\n            purgeChildElements(kids[i]);\n            kids[i] = null;\n            kids[i] = elem.removeChild(kids[i]);\n        }\n        return elem.children.length == 0;\n    } catch (e) {\n    }    //debugger\n}\nfunction purge(d) {\n    var a = d.attributes, i, l, n;\n    if (a) {\n        l = a.length;\n        for (i = 0; i < l; i += 1) {\n            n = a[i].name;\n            if (typeof d[n] === 'function') {\n                d[n] = null;\n            }\n        }\n    }\n    a = d.childNodes;\n    if (a) {\n        l = a.length;\n        for (i = 0; i < l; i += 1) {\n            purge(d.childNodes[i]);\n        }\n    }\n}    /**\n * takes an element (input[type=text] or textarea and returns the position of the caret inside this element\n * @param {DOMElement} el\n */\n/**\n * takes an element (input[type=text] or textarea and returns the position of the caret inside this element\n * @param {DOMElement} el\n */\nfunction getCaret(el) {\n    if (!el)\n        return 0;\n    if (el.selectionStart) {\n        return el.selectionStart;\n    } else if (document.selection) {\n        el.focus();\n        var r = document.selection.createRange();\n        if (r == null) {\n            return 0;\n        }\n        var re = el.createTextRange(), rc = re.duplicate();\n        re.moveToBookmark(r.getBookmark());\n        rc.setEndPoint('EndToStart', re);\n        return rc.text.length;\n    }\n    return 0;\n}    ///////////////////////////////////////////\n// Element Detection\n///////////////////////////////////////////\n/**\n * Answer true if the DOM element is nearly scrolled into view\n * @param {Object} theElem - dom elem to check for\n * @param {Object} offset - how close is almost (in pixels)\n */\n///////////////////////////////////////////\n// Element Detection\n///////////////////////////////////////////\n/**\n * Answer true if the DOM element is nearly scrolled into view\n * @param {Object} theElem - dom elem to check for\n * @param {Object} offset - how close is almost (in pixels)\n */\nfunction isAlmostInView(theElem, offset) {\n    var theElemTop = parseInt(getBoxOffsets(theElem)[1]);\n    var pageTop = $(theElem).cumulativeScrollOffset()[1];\n    var viewableHeight = getWindowHeight();\n    return theElemTop < pageTop + viewableHeight + offset;\n}\nfunction getTouchedElement(evt) {\n    var touches = evt.changedTouches;\n    if (touches && touches.length > 0) {\n        return jQuery('#' + document.elementFromPoint(touches[0].clientX, touches[0].clientY))[0];\n    } else {\n        return evt.element();\n    }\n}    ///////////////////////////////////////////\n// Element Positioning\n///////////////////////////////////////////\n/**\n * @param {Object} obj\n * @deprecated Use centerElement\n */\n// Note assumes obj display is NOT none\n///////////////////////////////////////////\n// Element Positioning\n///////////////////////////////////////////\n/**\n * @param {Object} obj\n * @deprecated Use centerElement\n */\n// Note assumes obj display is NOT none\nfunction centerLayer(obj) {\n    obj.style.left = parseInt((getWindowWidth() - parseInt(obj.clientWidth)) / 2 + getScrollLeft()) + 'px';\n    obj.style.top = parseInt((getWindowHeight() - parseInt(obj.clientHeight)) / 2 + getScrollTop()) + 'px';\n}    /**\n * center the element  in the axis specified\n * must have appropraite\n * @param {Object} elem\n * @param {Object} options\n */\n/**\n * center the element  in the axis specified\n * must have appropraite\n * @param {Object} elem\n * @param {Object} options\n */\nfunction centerElement(elem, options) {\n    if (!elem) {\n        return;\n    }\n    if (elem.jquery) {\n        // Getting pure DOM element to be able to invoke this function from code based on jQuery.\n        elem = jQuery(elem.get(0))[0];\n    }\n    if (options.horz) {\n        if (!jQuery(elem).hasClass('centered_horz')) {\n            throw 'Element\\'s className ' + elem.className + ' must include \\'centered_horz\\' for function centerLayer to work with these arguments';\n        }\n        var w = elem.getWidth() || elem.getStyle('min-width');\n        if (w) {\n            var theWidth = parseInt(w);\n            var theBufferedWidth = theWidth + getBufferWidth(elem, true);\n            var parentWidth = jQuery(elem).parent()[0].getWidth();\n            //if >= parent width nothing to do\n            if (theBufferedWidth < parentWidth) {\n                elem.style.marginLeft = -(theWidth / 2) + 'px';\n                elem.style.left = '50%';\n            }\n        }\n    }\n    if (options.vert) {\n        if (!jQuery(elem).hasClass('centered_vert')) {\n            throw 'Element\\'s className ' + elem.className + ' must include \\'centered_vert\\' for function centerLayer to work with these arguments';\n        }\n        var h = elem.getHeight() || elem.getStyle('min-height');\n        if (h) {\n            var theHeight = parseInt(h);\n            var theBufferedHeight = theHeight + getBufferHeight(elem, true);\n            var parentHeight = jQuery(elem).parent()[0].getHeight();\n            //if >= parent height nothing to do\n            if (theBufferedHeight < parentHeight) {\n                elem.style.marginTop = -(theHeight / 2) + 'px';\n                elem.style.top = '50%';\n            }\n        }\n    }\n}\nfunction parseFunc(elem, prefix) {\n    var className = elem.className;\n    var index = className.indexOf(prefix);\n    if (index > -1) {\n        var cssClasses = className.substring(index).split(' ');\n        if (cssClasses.length > 0) {\n            var name = cssClasses[0].replace(prefix, '');\n            return typeof window[name] === 'function' ? window[name] : null;\n        }\n    }\n    return null;\n}\nfunction cascadeElement(elem, options) {\n    // Horizontal cascade\n    var theWidth = parseInt(elem.getStyle('width'));\n    var theBufferedWidth = theWidth + getBufferWidth(elem, true);\n    var parentWidth = jQuery(elem).parent()[0].getWidth();\n    var horzOffset = -(options.horzOffset * options.number / 2) + options.position * options.horzOffset;\n    if (theBufferedWidth < parentWidth) {\n        elem.style.left = (parentWidth - theBufferedWidth) / 2 + horzOffset + 'px';\n    }\n    var theHeight = parseInt(elem.getStyle('height'));\n    var theBufferedHeight = theHeight + getBufferHeight(elem, true);\n    var parentHeight = jQuery(elem).parent()[0].getHeight();\n    var vertOffset = -(options.vertOffset * options.number / 2) + options.position * options.vertOffset;\n    if (theBufferedHeight < parentHeight) {\n        elem.style.top = (parentHeight - theBufferedHeight) / 2 + vertOffset + 'px';\n    }\n}    //left, top, width, height are optional overrides\n//left, top, width, height are optional overrides\nfunction fitObjectIntoScreen(obj, thisLeft, thisTop, thisWidth, thisHeight) {\n    var l = thisLeft ? parseInt(thisLeft) : parseInt(obj.offsetLeft);\n    var t = thisTop ? parseInt(thisTop) : parseInt(obj.offsetTop);\n    var w = thisWidth ? parseInt(thisWidth) : parseInt(obj.clientWidth);\n    var h = thisHeight ? parseInt(thisHeight) : parseInt(obj.clientHeight);\n    var sl = getScrollLeft();\n    var st = getScrollTop();\n    var sw = getWindowWidth();\n    var sh = getWindowHeight();    //scrollbar adjustment\n    //scrollbar adjustment\n    w = w + 20;\n    h = h + 20;\n    if (t + h > st + sh)\n        t = st + sh - h;\n    if (t < st)\n        t = st;\n    if (l + w > sl + sw)\n        l = sl + sw - w;\n    if (l < sl)\n        l = sl;\n    obj.style.left = l + 'px';\n    obj.style.top = t + 'px';\n}    ///////////////////////////////////////////\n// Element Displaying and Effects\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Element Displaying and Effects\n///////////////////////////////////////////\nfunction focusOn(id) {\n    jQuery('#' + id)[0].focus();\n}\nfunction selectAndFocusOn(id) {\n    var el = jQuery('#' + id)[0];\n    el.select();\n    el.focus();\n}    ///////////////////////////////////////////\n// Element Overlays\n///////////////////////////////////////////\n//haze out the entire usable page\n///////////////////////////////////////////\n// Element Overlays\n///////////////////////////////////////////\n//haze out the entire usable page\nfunction renderHazeLayer(left, top) {\n    var theBody = document.body;\n    return renderOverlay(left, top, theBody.scrollWidth, theBody.scrollHeight, 'haze');\n}\nfunction renderOverlay(left, top, width, height, style) {\n    var overlayObject = document.createElement('DIV');\n    overlayObject.className = style;\n    overlayObject.style.position = 'absolute';    //overlayObject.style.zIndex=80;\n    //overlayObject.style.zIndex=80;\n    overlayObject.style.left = left;\n    overlayObject.style.top = top;\n    overlayObject.style.width = width;\n    overlayObject.style.height = height;\n    document.body.appendChild(overlayObject);\n    return overlayObject;\n}\nfunction removeOverlay(overlayObject) {\n    if (overlayObject && overlayObject.parentNode) {\n        overlayObject.parentNode.removeChild(overlayObject);\n    }\n    if (overlayObject) {\n        overlayObject = null;\n    }\n}    /**\n * set obj as a child of the Parent\n * if parent already set do nothing\n * @param {Object} obj\n * @param {Object} newParent\n */\n/**\n * set obj as a child of the Parent\n * if parent already set do nothing\n * @param {Object} obj\n * @param {Object} newParent\n */\nfunction reParent(obj, newParent) {\n    if (!obj) {\n        return;\n    }\n    if (!obj.parentNode || obj.parentNode != newParent) {\n        newParent.appendChild(obj);\n    }\n}    /**\n * Use this for positioning an overlay parented by an absolute element (not body)\n * IE needs to take scroll into account, Mozilla doesn`t\n * @param {Object} target\n */\n/**\n * Use this for positioning an overlay parented by an absolute element (not body)\n * IE needs to take scroll into account, Mozilla doesn`t\n * @param {Object} target\n */\nfunction getScrollLeftForAbsoluteParent(parentObj) {\n    return isIE() ? parentObj.scrollLeft : 0;\n}\nfunction getScrollTopForAbsoluteParent(parentObj) {\n    return isIE() ? parentObj.scrollTop : 0;\n}\nfunction renderTransparentIFrame(left, top, width, height) {\n    var IFRAME_MARGIN = 5;\n    var iframe = document.createElement('IFRAME');\n    iframe.frameBorder = 0;\n    iframe.style['filter'] = 'alpha(opacity=0)';\n    iframe.style.position = 'absolute';\n    iframe.style.left = left - IFRAME_MARGIN;\n    iframe.style.top = top - IFRAME_MARGIN;\n    iframe.style.width = width - 2 * IFRAME_MARGIN;\n    iframe.style.height = height - 2 * IFRAME_MARGIN;\n    document.body.appendChild(iframe);\n    return iframe;\n}    /////////////////////////////////////////////////////////////////////////////////////\n// Overlay management form common-utils.js. Consolidate with above\n/////////////////////////////////////////////////////////////////////////////////////\n//make this non global\n/////////////////////////////////////////////////////////////////////////////////////\n// Overlay management form common-utils.js. Consolidate with above\n/////////////////////////////////////////////////////////////////////////////////////\n//make this non global\nvar overlayObjectStack = new Array();\nfunction pushOverlayObject(elementId, style, zIndex) {\n    var off = getAbsoluteOffsets(jQuery('#' + elementId)[0]);\n    pushOverlayObjectAtOffsets(off, style, zIndex);\n}\nfunction pushTotalOverlayObject(style, zIndex) {\n    var offsets = new Array(0, 0, document.body.scrollWidth, document.body.scrollHeight);\n    pushOverlayObjectAtOffsets(offsets, style, zIndex);\n}\nfunction pushOverlayObjectAtOffsets(off, style, zIndex) {\n    if (isIE()) {\n        //render a transparent IFrame to hide selects\n        var iframe = renderTransparentIFrame(off[0], off[1], off[2] - off[0], off[3] - off[1]);\n        overlayObjectStack.push(iframe);\n    }\n    var overlayObject = renderOverlay(off[0], off[1], off[2] - off[0], off[3] - off[1], style);\n    if (zIndex) {\n        overlayObject.style.zIndex = zIndex;\n    }\n    overlayObjectStack.push(overlayObject);\n}\nfunction popOverlayObject() {\n    if (overlayObjectStack.length > 0) {\n        var overlayObject = overlayObjectStack.pop();\n        removeOverlay(overlayObject);\n        if (isIE() && overlayObjectStack.length > 0) {\n            //remove the transparent IFrame\n            removeOverlay(overlayObjectStack.pop());\n        }\n    }\n}\nfunction popAllOverlayObjects() {\n    while (overlayObjectStack.length > 0) {\n        var overlayObject = overlayObjectStack.pop();\n        removeOverlay(overlayObject);\n    }\n}    //////////////////////////////////////\n// Element Enabling\n//////////////////////////////////////\n//////////////////////////////////////\n// Element Enabling\n//////////////////////////////////////\nfunction disableSelection(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //        target.style.KhtmlUserSelect = \"none\";\n            //        target.style.userSelect = \"none\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return false;\n            };\n        } else if (typeof target.onselectstart != 'undefined')\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return false;\n            };\n        else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined')\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = '-moz-none';\n        else\n            //All other route (ie: Opera)\n            ;    //target.onmousedown=function(){return false}\n        //target.onmousedown=function(){return false}\n        jQuery(target)[0].style.cursor = 'default';\n    }\n}\nfunction disableSelectionWithoutCursorStyle(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //        target.style.KhtmlUserSelect = \"none\";\n            //        target.style.userSelect = \"none\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return false;\n            };\n        } else if (typeof target.onselectstart != 'undefined')\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return false;\n            };\n        else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined')\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = '-moz-none';\n        else\n            //All other route (ie: Opera)\n            ;    //target.onmousedown=function(){return false}\n    }\n}\nfunction enableSelection(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //            target.style.KhtmlUserSelect = \"text\";\n            //            target.style.userSelect = \"text\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return true;\n            };\n        } else if (typeof target.onselectstart != 'undefined') {\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return true;\n            };\n        } else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined') {\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = 'text';\n        }    //All other route (e.g. Opera)\n        jQuery(target)[0].style.cursor = 'default';\n    }\n}    ///////////////////////////////////////////\n// Mousepointer\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Mousepointer\n///////////////////////////////////////////\nfunction setCursor(theState) {\n    document.body.style.cursor = theState;\n}\nfunction cursorDefault() {\n    setCursor('default');\n}\nfunction cursorPointer() {\n    setCursor('pointer');\n}\nfunction cursorWait() {\n    setCursor('wait');\n}    ///////////////////////////////////////////\n// Table Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Table Utils\n///////////////////////////////////////////\nfunction getCellAtColumn(cells, columnIndex) {\n    var columnCount = 0;\n    for (let i = 0; i < cells.length; i++) {\n        columnCount += cells.colspan;\n        if (columnCount >= columnIndex)\n            return cells[i];\n    }\n    return null;\n}    // columnIndex indicates which column (within the supplied rows) we are interested in\n// columnIndex indicates which column (within the supplied rows) we are interested in\nfunction getCellAtRow(rows, columnIndex, rowIndex) {\n    var rowCount = 0;\n    for (let i = 0; i < rows.length; i++) {\n        var thisCell = rows[i].cells[columnIndex];\n        rowCount += thisCell.rowspan;\n        if (rowCount >= rowIndex)\n            thisCell;\n    }\n    return null;\n}    //fromT and toT can be TABLE or TBODY\n//fromT and toT can be TABLE or TBODY\nfunction copyTable(fromT, toT, replace, paramsAreTBody) {\n    var fromBody = paramsAreTBody ? fromT : jQuery(fromT).find('tbody')[0];\n    var toBody = paramsAreTBody ? toT : jQuery(toT).find('tbody.copyTo')[0];    //copy to main tbody (class==body)\n    //copy to main tbody (class==body)\n    if (replace) {\n        clearTable(toT);\n    }\n    try {\n        toBody.insert(jQuery(fromBody).html());\n    } catch (e) {\n    }    //nothing to copy?\n}    //fromT would be a jQuery wrapped DOM element\n//toT would be a DOM element\n//fromT and toT can be TABLE or TBODY\n//fromT would be a jQuery wrapped DOM element\n//toT would be a DOM element\n//fromT and toT can be TABLE or TBODY\nfunction copyTableJquery(fromT, toT, replace, paramsAreTBody) {\n    var fromBody = paramsAreTBody ? fromT : fromT.find('tbody:first');\n    var toBody = paramsAreTBody ? toT : jQuery('tobody.copyTo:first', toT);    //copy to main tbody (class==body)\n    //copy to main tbody (class==body)\n    if (replace) {\n        clearTable(toT);\n    }\n    try {\n        jQuery(toBody).append(fromBody.html());\n    } catch (e) {\n    }    //nothing to copy?\n}\nfunction clearTable(myTable) {\n    if (document.all) {\n        while (myTable.rows[0]) {\n            myTable.deleteRow(0);\n        }\n    } else {\n        jQuery(myTable).html('');\n    }\n}    ///////////////////////////////////////////\n// Window Inspection\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Inspection\n///////////////////////////////////////////\nfunction getWindowWidth() {\n    var w = jQuery(window).width();\n    if (isIE9())\n        w = w + 17;\n    return w;\n}\nfunction getWindowHeight() {\n    var h = jQuery(window).height();\n    if (isIE9())\n        h = h + 17;\n    return h;\n}\nfunction getScrollLeft() {\n    return typeof window.scrollX === 'number' ? window.scrollX : document.body.scrollLeft;\n}\nfunction getScrollTop() {\n    return typeof window.scrollY === 'number' ? window.scrollY : document.body.scrollTop;\n}    ///////////////////////////////////////////\n// Window Positioning\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Positioning\n///////////////////////////////////////////\nfunction scrollXToMiddle(theBody) {\n    //scroll to half the difference between page width and window width (if any)\n    var excess = theBody.scrollWidth - getWindowWidth();\n    if (excess > 0)\n        theBody.scrollLeft = excess / 2;\n}    ///////////////////////////////////////////\n// Window Creation\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Creation\n///////////////////////////////////////////\nfunction launchNewWindow(url) {\n    window.open(url);\n}    ///////////////////////////////////////////\n// IFRAME Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// IFRAME Utils\n///////////////////////////////////////////\nfunction getIFrameDocument(iFrame) {\n    var doc = iFrame.contentWindow || iFrame.contentDocument;\n    if (doc.document) {\n        doc = doc.document;\n    }\n    return doc;\n}    ///////////////////////////////////////////\n// Event Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Event Utils\n///////////////////////////////////////////\nfunction getEvent(evt) {\n    return evt ? evt : window.event;\n}    //used to smother an event\n//used to smother an event\nfunction popEvent(e) {\n    cancelEventBubbling(e ? e : event);\n}\nfunction triggerNativeEvent(event, target) {\n    var ie = isIE(), ev;\n    target = target || (ie ? document.documentElement : window);\n    if (document.createEvent) {\n        // W3C\n        ev = document.createEvent('Event');\n        ev.initEvent(event, true, true);\n        target.dispatchEvent(ev);\n    } else {\n        // IE\n        target.fireEvent('on' + event, document.createEventObject());\n    }\n}\n\n/**\n * Is the related target of this event equal to, or descendant from the given element\n * @param {Object} event\n * @param {Object} element\n */\nfunction relatedTargetInElementSubtree(event, element) {\n    if (!event.relatedTarget) {\n        return false;\n    }\n    if (element === event.relatedTarget) {\n        return true;\n    }\n    return event.relatedTarget.descendantOf(element);\n}\nfunction cancelEventBubbling(evt) {\n    evt = getEvent(evt);\n    evt.cancelBubble = true;\n    if (evt.stopPropagation)\n        evt.stopPropagation();\n}\nfunction cancelEventAndPreventDefault(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction enterKeyHit(evt) {\n    var charCode = whichKeyHit(evt);\n    return charCode == 13 || charCode == 3;\n}\nfunction whichKeyHit(evt) {\n    evt = getEvent(evt);\n    var charCode = evt.charCode ? evt.charCode : evt.which ? evt.which : evt.keyCode;\n    return charCode;\n}\nfunction isCtrlHeld(evt) {\n    evt = getEvent(evt);\n    return !!(evt && evt.ctrlKey);\n}\nfunction isShiftHeld(evt) {\n    evt = getEvent(evt);\n    return !!(evt && evt.shiftKey);\n}\nfunction getEventTarget(evt) {\n    evt = getEvent(evt);\n    return evt && (evt.target || evt.srcElement);\n}\nfunction isNavigationInput(evt) {\n    evt = getEvent(evt);\n    var code = evt.keyCode ? evt.keyCode : evt.which;\n    return code == Keys.DOM_VK_LEFT || code == Keys.DOM_VK_RIGHT || code == Keys.DOM_VK_TAB || code == Keys.DOM_VK_BACK_SPACE || code == Keys.DOM_VK_ENTER;\n}\nfunction verifyIsDigitInput(evt) {\n    evt = getEvent(evt);\n    var code = evt.keyCode ? evt.keyCode : evt.which;    //ascii code check\n    //ascii code check\n    return code >= Keys.DOM_VK_0 && code <= Keys.DOM_VK_9 || isNavigationInput(evt);\n}\nfunction verifyIsInputNumericDecimalSeparator(evt) {\n    evt = getEvent(evt);\n    var keyPad = evt.keyCode ? evt.keyCode : evt.which;\n    var keyChar = String.fromCharCode(keyPad);\n    return keyChar === window.decimalSeparator;\n}\nfunction numberOfDecimals(someNumericValue) {\n    var wordLen = someNumericValue.length;\n    var count = 0;\n    for (var index = 0; index < wordLen; index++) {\n        if (someNumericValue.charAt(index) === window.decimalSeparator) {\n            count++;\n        }\n    }\n    return count;\n}    /**\n * This function checks to see if the event is a mac style right click action using the keyboard.\n * This supports clicking the right, left of middle buttons on a mouse\n * @param evt the event object\n */\n/**\n * This function checks to see if the event is a mac style right click action using the keyboard.\n * This supports clicking the right, left of middle buttons on a mouse\n * @param event the event object\n */\nfunction macOSKeyboardRightClick(event) {\n    var evt = getEvent(event);\n    if (evt.ctrlKey) {\n        return evt.button == 0 || evt.button == 1 || evt.button == 2;\n    } else {\n        return false;\n    }\n}    /**\n * This function check to see if the  macOS-style Rightmouseclick has been clicked.\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n */\n/**\n * This function check to see if the  macOS-style Rightmouseclick has been clicked.\n * @param evet the event object\n * @return boolean to indicate whether or not the key has been pressed.\n */\nfunction macOSMouseRightClick(event) {\n    var evt = getEvent(event);\n    var buttonRightclick = false;\n    evt = evt || window.event;\n    if (evt.which) {\n        buttonRightclick = evt.which == 3;\n    } else if (evt.button) {\n        buttonRightclick = evt.button == 2;\n    }\n    return buttonRightclick;\n}    /**\n * I implemented this right click function because prototype's isRightClick method didn't/doesn't work with Safari.\n * The reason for this is due to the way WebKit's engine deals with right click events. Accroding to the current\n * w3c spec of HTML the button events and codes are listed below.. (prototype works with this)\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n *\n * Microsoft (Trident) on the other hand uses the ff... (prototype works with this)\n * 1 - Left button\n * 4 - Middle button\n * 2 - Right button\n *\n * Safari (Webkit) for some reason intercepts the Right click event and prevents custom made context menus from coming up\n * to enable safari based context. To get around this, we can use the \"which\" property that belongs to mouse events.\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n * Note: All Mac browsers only detect the left button, even if the mouse has more than one button. @see http://www.quirksmode.org/dom/w3c_events.html#mousepos\n *\n *\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n *\n *\n **/\n/**\n * I implemented this right click function because prototype's isRightClick method didn't/doesn't work with Safari.\n * The reason for this is due to the way WebKit's engine deals with right click events. Accroding to the current\n * w3c spec of HTML the button events and codes are listed below.. (prototype works with this)\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n *\n * Microsoft (Trident) on the other hand uses the ff... (prototype works with this)\n * 1 - Left button\n * 4 - Middle button\n * 2 - Right button\n *\n * Safari (Webkit) for some reason intercepts the Right click event and prevents custom made context menus from coming up\n * to enable safari based context. To get around this, we can use the \"which\" property that belongs to mouse events.\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n * Note: All Mac browsers only detect the left button, even if the mouse has more than one button. @see http://www.quirksmode.org/dom/w3c_events.html#mousepos\n *\n *\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n *\n *\n **/\nfunction isRightClick(evt) {\n    if (isMacOS()) {\n        var keyboardClick = macOSKeyboardRightClick(evt);\n        var mouseClick = macOSMouseRightClick(evt);\n        return keyboardClick || mouseClick;\n    } else {\n        return Event.isRightClick(evt);\n    }\n}\nfunction isLeftClick(evt) {\n    return Event.isLeftClick(evt);\n}    /**\n * This function is used to determine whether or not the control key on PC or the command key on Mac OS x has\n * been pressed.\n * @param evt The event being passed.\n * @param macUsesAlt soemtimes mac uses alt not command to map to ctrl (e.g for copy)\n * @return boolean to indicate whether or not the key has been pressed.\n */\n/**\n * This function is used to determine whether or not the control key on PC or the command key on Mac OS x has\n * been pressed.\n * @param event The event being passed.\n * @param macUsesAlt soemtimes mac uses alt not command to map to ctrl (e.g for copy)\n * @return boolean to indicate whether or not the key has been pressed.\n */\nfunction isMetaHeld(event, macUsesAlt) {\n    var evt = getEvent(event);\n    if (getEvent(evt)) {\n        if (isMacOS()) {\n            return macUsesAlt ? evt.altKey : evt.metaKey;\n        } else {\n            return isCtrlHeld(evt);\n        }\n    } else {\n        return false;\n    }\n}    ////////////////////////////////////////\n// String Utils\n////////////////////////////////////////\n////////////////////////////////////////\n// String Utils\n////////////////////////////////////////\nif (typeof String.prototype.trim !== 'function') {\n    String.prototype.trim = function () {\n        return this.strip();\n    };\n}\nfunction trim(thisStr) {\n    return thisStr.strip();\n}\nfunction startsWith(string1, string2) {\n    return string1.startsWith(string2);\n}\nfunction getTextAfterUnderscore(theText) {\n    return getTextAfterSubstring(theText, '_');\n}\nfunction getTextBeforeUnderscore(theText) {\n    return getTextBeforeSubstring(theText, '_');\n}\nfunction extractNumber(str) {\n    var result = str.match(/\\d/g);\n    result = result.join('');\n    return result;\n}\nfunction getTextAfterSubstring(theText, theSubstring) {\n    var ssIndex = theText.toLowerCase().indexOf(theSubstring.toLowerCase());\n    if (ssIndex == -1)\n        return null;\n    else\n        return theText.substring(ssIndex + theSubstring.length);\n}\nfunction getTextBeforeSubstring(theText, theSubstring) {\n    var ssIndex = theText.toLowerCase().indexOf(theSubstring.toLowerCase());\n    if (ssIndex == -1)\n        return theText;\n    else\n        return theText.substring(0, ssIndex);\n}\nfunction removeTrailingSlash(theString) {\n    var lastChar = theString.substring(theString.length - 1);\n    if (lastChar == '/') {\n        return theString.substring(0, theString.length - 1);\n    } else {\n        return theString;\n    }\n}\nfunction removeTrailingPound(theString) {\n    var lastChar = theString.substring(theString.length - 1);\n    if (lastChar == '#') {\n        return theString.substring(0, theString.length - 1);\n    } else {\n        return theString;\n    }\n}\nfunction removeChars(theString, charArray) {\n    var i = 0;\n    for (i; i < charArray.length; i++) {\n        while (theString.indexOf(charArray[i]) > -1) {\n            theString = theString.replace(charArray[i], '');\n        }\n    }\n    return theString;\n}    /**\n * replaces all instances of str1 in str with str2\n * note: assumes str2 does not contain str1!\n */\n/**\n * replaces all instances of str1 in str with str2\n * note: assumes str2 does not contain str1!\n */\nfunction replaceAll(str, str1, str2) {\n    str.gsub(str1, str2);\n}    /**\n * @deprecated - user protoype's hash\n * var h = new Hash({ a: 'apple', b: 'banana', c: 'coconut' });\n * h.get('a'); // -> 'apple'\n */\n// Used to create maps from JSON string, takes any even number of parameters\n// var a = Hash(key1, value1, key2, value2);\n/**\n * @deprecated - user protoype's hash\n * var h = new Hash({ a: 'apple', b: 'banana', c: 'coconut' });\n * h.get('a'); // -> 'apple'\n */\n// Used to create maps from JSON string, takes any even number of parameters\n// var a = Hash(key1, value1, key2, value2);\nfunction jsHash() {\n    var ret = new Array();\n    ret.clazz = 'Hash';\n    for (var i = 0; i < arguments.length; i += 2) {\n        if (typeof arguments[i + 1] != 'undefined') {\n            ret[arguments[i]] = arguments[i + 1];\n            ret.push(arguments[i]);\n        }\n    }\n    return ret;\n}\nfunction textCounter(field, maxlimit) {\n    if (field.value.length > maxlimit) {\n        field.value = field.value.substring(0, maxlimit);\n        return false;\n    }\n    return true;\n}    /**\n * This method is a convenience method that enables us save a value to a parameter and reset the original to \"\"\n * In this case, we are saving the value of saveString to myString and setting saveString to \"\"\n * @param myString\n * @param saveString\n */\n/**\n * This method is a convenience method that enables us save a value to a parameter and reset the original to \"\"\n * In this case, we are saving the value of saveString to myString and setting saveString to \"\"\n * @param myString\n * @param saveString\n */\nfunction saveAndClear(myString, saveString) {\n}    /**\n * Use this method to replace illegal characters in string by legal replacements.\n * Examples:\n * escapeString('/illegal string/', [/\\//g, /\\s/g], '_') -> '_illegal_string_';\n * escapeString('illegal string', 'illegal', 'legal') -> 'legal string';\n *\n * @param str - string to escape\n * @param patterns - regexp, string or array of regexp or strings to be replaced\n * @param escapeChars - string or array of string which will be used as replacements.\n *        If escapeChars is array and it's length is equal to patterns length then\n *        i-th pattern will be replaced with i-th replacement from escapeChars\n *        else first replacement from escapeChars always will be used.\n */\n/**\n * Use this method to replace illegal characters in string by legal replacements.\n * Examples:\n * escapeString('/illegal string/', [/\\//g, /\\s/g], '_') -> '_illegal_string_';\n * escapeString('illegal string', 'illegal', 'legal') -> 'legal string';\n *\n * @param str - string to escape\n * @param patterns - regexp, string or array of regexp or strings to be replaced\n * @param escapeChars - string or array of string which will be used as replacements.\n *        If escapeChars is array and it's length is equal to patterns length then\n *        i-th pattern will be replaced with i-th replacement from escapeChars\n *        else first replacement from escapeChars always will be used.\n */\nfunction escapeString(str, patterns, escapeChars) {\n    if (!str || !patterns || escapeChars === undefined || escapeChars === null) {\n        return str;\n    }\n    var alwaysUseFirstPattern = typeof escapeChars === 'string' || Object.isArray(escapeChars) && escapeChars.length < patterns.length;\n    var firstPattern = Object.isArray(escapeChars) ? escapeChars.first() : escapeChars;\n    if (!Object.isArray(patterns)) {\n        return str.replace(patterns, firstPattern);\n    }\n    patterns.each(function (pattern, index) {\n        var escapeChar = alwaysUseFirstPattern ? firstPattern : escapeChars[index];\n        str = str.replace(pattern, escapeChar);\n    });\n    return str;\n}    /**\n * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n *\n * @param string\n */\n/**\n * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n *\n * @param string\n */\nfunction formatString(string) {\n    var values = Array.prototype.slice.call(arguments, 1), indexes, parts, result = [], val;    // Simple implementation for number of substitute strings less than 3\n    // Simple implementation for number of substitute strings less than 3\n    if (values.length < 3) {\n        for (var index = 0; index < values.length; index++) {\n            string = string.replace('{' + index + '}', values[index]);\n        }\n        return string;\n    }    // Implementation that uses RegExp and String concatenation\n    // Implementation that uses RegExp and String concatenation\n    indexes = (string || '').match(/[{]\\d+[}]/g);\n    if (!indexes) {\n        return string;\n    }\n    parts = string.split(/[{]\\d+[}]/);\n    for (var i = 0; i < parts.length; i = i + 1) {\n        val = i < indexes.length ? values[indexes[i].slice(1, -1)] : '';\n        result.push(parts[i], val);\n    }\n    return result.join('');\n}\n/*\n * Splits text into two parts - left and right according to the given position\n */\n/*\n * Splits text into two parts - left and right according to the given position\n */\nfunction splitText(text, splitPosition) {\n    var ret = {\n        left: '',\n        right: text\n    };\n    splitPosition = parseInt(splitPosition, 10);\n    if (_.isNaN(splitPosition))\n        return ret;\n    if (splitPosition === 0)\n        return ret;\n    ret.left = text.substr(0, splitPosition);\n    ret.right = text.substr(splitPosition);\n    return ret;\n}    ///////////////////////////////////////////////////\n// URL utils\n///////////////////////////////////////////////////\n/*\n    Function which redirect to new URL and handles the issue when browsers doesn't set up the document.referrer variable\n */\n///////////////////////////////////////////////////\n// URL utils\n///////////////////////////////////////////////////\n/*\n    Function which redirect to new URL and handles the issue when browsers doesn't set up the document.referrer variable\n */\nfunction redirectToUrl(url) {\n    if (isIE8()) {\n        var referLink = document.createElement('a');\n        referLink.href = url;\n        document.body.appendChild(referLink);\n        referLink.click();\n    } else {\n        window.location.href = url;\n    }\n}\n\nfunction downloadFileByUrl(url) {\n    var targetIframeId = \"fileDownloadIframe\",\n        targetIframe = document.getElementById(targetIframeId);\n\n    if (!targetIframe) {\n        targetIframe = document.createElement(\"iframe\");\n\n        targetIframe.id = targetIframeId;\n        targetIframe.name = targetIframeId;\n        targetIframe.style.display = \"none\";\n\n        document.body.appendChild(targetIframe);\n    }\n\n    var referLink = document.createElement(\"a\");\n\n    referLink.href = url;\n    referLink.target = targetIframeId;\n\n    document.body.appendChild(referLink);\n    referLink.click();\n    document.body.removeChild(referLink);\n}\n\n/**\n * if no protocol specified assume http://\n */\n/**\n * if no protocol specified assume http://\n */\nfunction checkURLProtocol(urlString, enforcePrefix) {\n    if (!enforcePrefix) {\n        return urlString;\n    }\n    if (startsWith(urlString, '/')) {\n        //relative URL\n        return urlString;\n    }\n    var commonProtocols = new Array('http://', 'https://', 'file://', 'mailto://', 'ftp://');\n    for (var i = 0; i < commonProtocols.length; i++) {\n        if (startsWith(urlString, commonProtocols[i])) {\n            return urlString;\n        }\n    }    //no protocol specified so assume http://\n    //no protocol specified so assume http://\n    return commonProtocols[0] + urlString;\n}    /**\n * do we use a '?'or an '&' or nothing?\n */\n/**\n * do we use a '?'or an '&' or nothing?\n */\nfunction getSymbolToAppendNextParam(urlSoFar) {\n    var lastChar = urlSoFar.substring(urlSoFar.length - 1);\n    if (lastChar == '?' || lastChar == '&') {\n        return '';\n    }\n    if (urlSoFar.indexOf('?') > -1) {\n        return '&';\n    } else {\n        return '?';\n    }\n}\nfunction restoreDefaultCursor() {\n    document.body.style.cursor = '';\n}    // encoding function for text fields that we submit\n// encodeURIComponent() converts Unicode to UTF-8, then encodes those bytes in '%xx' hex format.\n// Tomcat will decode '%xx' into bytes, but it interprets those bytes as ISO-8859-1, not UTF-8.\n// In order to get around this, we double encode, so that the servlet will pass through the '%xx' format.\n// This can be decoded correctly inside AdhocAction, which handles all these requests.\n// encoding function for text fields that we submit\n// encodeURIComponent() converts Unicode to UTF-8, then encodes those bytes in '%xx' hex format.\n// Tomcat will decode '%xx' into bytes, but it interprets those bytes as ISO-8859-1, not UTF-8.\n// In order to get around this, we double encode, so that the servlet will pass through the '%xx' format.\n// This can be decoded correctly inside AdhocAction, which handles all these requests.\nfunction encodeText(str) {\n    return encodeURIComponent(encodeURIComponent(str));\n}\nfunction decodeText(str) {\n    return decodeURIComponent(str);\n}    ///////////////////////////////////////////\n// Arithmetic Utils\n///////////////////////////////////////////\n/**\n * return n or range limit\n */\n///////////////////////////////////////////\n// Arithmetic Utils\n///////////////////////////////////////////\n/**\n * return n or range limit\n */\nfunction constrain(n, lower, upper) {\n    if (n > upper) {\n        return upper;\n    }\n    if (n < lower) {\n        return lower;\n    }\n    return n;\n}    ///////////////////////////////////////////\n// Obejct Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Obejct Utils\n///////////////////////////////////////////\nfunction deepClone(obj) {\n    if (obj == null) {\n        return null;\n    }\n    if (typeof obj != 'object') {\n        //cannot deep clone non-objects\n        return obj;\n    }\n    var clone = Object.isArray(obj) ? [] : {};\n    for (var i in obj) {\n        if (typeof obj[i] == 'object') {\n            clone[i] = deepClone(obj[i]);\n        } else {\n            clone[i] = obj[i];\n        }\n    }\n    return clone;\n}\nfunction cloneCustomAttributes(fromElement, toElement) {\n    var attributes = fromElement ? fromElement.attributes : {};\n    for (var attribute in attributes) {\n        var name = attributes[attribute] && attributes[attribute].name;\n        if (name && name.startsWith('data')) {\n            jQuery(toElement).attr(name, jQuery(fromElement).attr(name))[0];\n        }\n    }\n}    ///////////////////////////\n// Logginga\n////////////////////////////\n///////////////////////////\n// Logging\n////////////////////////////\nfunction initLog() {\n    log = '';\n}\nfunction logIt(task) {\n    log = log + '||' + task + '-' + new Date().getTime();\n}    /**\n * Common purpose debug function. Writes messages to Firebug, Chrome Safari or IE>7 console.\n *\n * @param {String} message Debug message.\n */\n/**\n * Common purpose debug function. Writes messages to Firebug, Chrome Safari or IE>7 console.\n *\n * @param {String} message Debug message.\n */\nfunction debug(message) {\n    /*eslint-disable-next-line no-console*/\n    window.console && window.console.debug(message);\n}\nvar timer = {};\nfunction startTimer(key) {\n    /*eslint-disable-next-line no-console*/\n    window.console && window.console.time ? console.time(key) : timer[key] = +new Date();\n}\nfunction stopTimer(key) {\n    /*eslint-disable-next-line no-console*/\n    if (window.console && window.console.timeEnd) {\n        /*eslint-disable-next-line no-console*/\n        console.timeEnd(key);\n    } else {\n        if (timer[key]) {\n            var response = key + ': ' + (+new Date() - timer[key]);\n            timer[key] = undefined;\n            /*eslint-disable-next-line no-console*/\n            window.console ? console.log(response) : window.status = response;\n        }\n    }\n}    ///////////////////////////////////////////\n// Object utils\n///////////////////////////////////////////\n/**\n * @return line-break delimited string of properties and values of myObj\n */\n///////////////////////////////////////////\n// Object utils\n///////////////////////////////////////////\n/**\n * @return line-break delimited string of properties and values of myObj\n */\nvar inspect = function (myObj) {\n    var properties = [];\n    for (var property in myObj) {\n        if (myObj.hasOwnProperty(property)) {\n            properties.push(property + ' = ' + myObj[property]);\n        }\n    }\n    return properties.join('\\n');\n};    ///////////////////////////////////////////\n// Function Utils\n///////////////////////////////////////////\n/**\n *\n * @param {String} dotNotationString e.g. \"aaa.bbb.ccc\"\n * @return {String} blockNotationString e.g. \"['aaa']['bbb']['ccc']\"\n */\n///////////////////////////////////////////\n// Function Utils\n///////////////////////////////////////////\n/**\n *\n * @param {String} dotNotationString e.g. \"aaa.bbb.ccc\"\n * @return {String} blockNotationString e.g. \"['aaa']['bbb']['ccc']\"\n */\nfunction toBlockNotation(dotNotationString) {\n    if (!dotNotationString) {\n        return '';\n    }\n    return dotNotationString.split('.').map(function (e) {\n        return '[\\'' + e + '\\']';\n    }).join('');\n}    //temp function until we make action models call toFunction directly\n//temp function until we make action models call toFunction directly\nvar getAsFunction = function (functionName) {\n    return toFunction(functionName) || toFunction('localContext.' + functionName);\n};    /**\n * @param {Object} context - optional - function context in dot notation\n * @param {Object} theFunction - function or functionName\n */\n/**\n * @param {Object} context - optional - function context in dot notation\n * @param {Object} theFunction - function or functionName\n */\nfunction toFunction(theFunction) {\n    if (typeof theFunction !== 'string') {\n        return theFunction;\n    } else {\n        var blockReference = toBlockNotation(theFunction);\n        /*eslint-disable-next-line no-eval*/\n        return eval('window' + blockReference);    //e.g. \"window['localContext']['addFieldAsColumn']\"\n    }\n}    /////////////////////////////////////////////////////////////////////////////////////\n// Busy Monitor\n/////////////////////////////////////////////////////////////////////////////////////\n/**\n * monitors for run requests, and only invokes function after specified quiet time\n */\n/////////////////////////////////////////////////////////////////////////////////////\n// Busy Monitor\n/////////////////////////////////////////////////////////////////////////////////////\n/**\n * monitors for run requests, and only invokes function after specified quiet time\n */\nfunction BusyMonitor(waitTime, theFunction) {\n    this.waitTime = waitTime;\n    this.theFunction = theFunction;\n    this.timer = null;\n}    /**\n * @param arguments - optionally pass in arguments to be used when function is invoked\n */\n/**\n * @param arguments - optionally pass in arguments to be used when function is invoked\n */\nBusyMonitor.prototype.run = function () {\n    var args = arguments;\n    if (this.timer != null) {\n        //recent activity - so start a new timeout\n        clearTimeout(this.timer);\n    }\n    var functionToCall = function () {\n        this.theFunction.apply(null, args);\n    };\n    this.timer = setTimeout(functionToCall.bind(this), this.waitTime);\n};\nBusyMonitor.prototype.cancel = function () {\n    this.timer && clearTimeout(this.timer);\n};    ////////////////////////////////////////\n// In Place Editor\n////////////////////////////////////////\n////////////////////////////////////////\n// In Place Editor\n////////////////////////////////////////\nfunction InPlaceEditor(elem) {\n    this.elem = jQuery(elem)[0];\n    this.id = elem.identify();    //id for both states\n    //id for both states\n    this.editing = false;\n    this.value = getInnerText(elem);\n}\nInPlaceEditor.prototype.makeEditable = function (options) {\n    var self = this;\n    var inputId = this.elem.id + 'Input';\n    var inputValue = this.value;\n    var inputBox = Builder.node('input', {\n        className: 'control input text',\n        id: inputId,\n        value: xssUtil.unescape(inputValue)\n    });\n    this.elem.update(inputBox);\n    this.editing = true;\n    var input = jQuery('#' + inputId);\n    if (isIE()) {\n        // This trick is for IE. \"Normally\" if mouse pointer is on input, then focus and selection is lost.\n        // Code below forces to select the input content if mouse pointer is on input.\n        var onceSelected = false;\n        input.hover(function () {\n            if (!onceSelected && inputValue && inputValue === this.value) {\n                this.select();\n                this.focus();\n                onceSelected = true;\n            }\n        }, function () {\n        });\n    }\n    input.focus();\n    input.select();\n    if (options) {\n        if (options['blur']) {\n            jQuery('#' + inputId).onblur = function (evt) {\n                evt = evt ? evt : window.event;\n                var onblurFunction = options['blur'];\n                var executable = getAsFunction(onblurFunction);\n                executable.call(self, evt);    //                Event.stop(evt);\n            };\n        }\n        if (options['onEnter'] || options['onTab']) {\n            jQuery('#' + inputId).on('keypress', function (evt) {\n                var onkeyPressFunction = null;\n                var executable = null;\n                evt = evt ? evt : window.event;\n                if (enterKeyHit(evt)) {\n                    onkeyPressFunction = options['onEnter'];\n                    executable = getAsFunction(onkeyPressFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                } else if (evt.keyCode == Event.KEY_TAB) {\n                    onkeyPressFunction = options['onTab'];\n                    executable = getAsFunction(onkeyPressFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            });\n        }\n        if (options['onMouseup']) {\n            var mouseHandler = function (evt) {\n                evt = evt ? evt : window.event;\n                if (jQuery(Event.element(evt))[0] != jQuery('#' + inputId)[0]) {\n                    var onclickFunction = options['onMouseup'];\n                    var executable = getAsFunction(onclickFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            };\n            if (isIPad()) {\n                document.body.ontouchend = mouseHandler;\n            } else {\n                document.body.onmousedown = mouseHandler;\n            }\n        }\n        if (options['onEsc']) {\n            document.body.onkeydown = function (evt) {\n                evt = evt ? evt : window.event;\n                if (evt.keyCode == Event.KEY_ESC) {\n                    var onescFunction = options['onEsc'];\n                    var executable = getAsFunction(onescFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            };\n        }\n    }\n};\nInPlaceEditor.prototype.makeNonEditable = function () {\n    if (this.elem && this.elem.firstDescendant() && this.editing) {\n        var text = this.elem.firstDescendant().value;\n        this.elem.update(xssUtil.hardEscape(text));\n        this.editing = false;\n    }\n};\nInPlaceEditor.prototype.revertEdit = function () {\n    this.elem.update(xssUtil.hardEscape(this.value));\n    this.editing = false;\n};    //////////////////////////////////////////\n// <Script> utils\n//////////////////////////////////////////\n//@Deprecated Do not use because of XSS issues\n//////////////////////////////////////////\n// <Script> utils\n//////////////////////////////////////////\n//@Deprecated Do not use because of XSS issues\nfunction evaluateScripts(containerObj) {\n    var root;\n    if (!containerObj) {\n        root = document;\n    } else {\n        root = jQuery('#' + containerObj)[0];\n    }\n    var scripts = root.getElementsByTagName('SCRIPT');\n    if (scripts != null) {\n        for (var i = 0; i < scripts.length; i++) {\n            var script = scripts[i];\n            if (script && script.text) {\n                globalEval(script.text);\n            }\n        }\n    }\n}    //@Deprecated Do not use because of XSS issues\n//@Deprecated Do not use because of XSS issues\nfunction evaluateScript(scriptId) {\n    var script = jQuery('#' + scriptId)[0];\n    if (script && script.text) {\n        globalEval(script.text);\n    }\n}    //@Deprecated Do not use because of XSS issues\n//@Deprecated Do not use because of XSS issues\nfunction globalEval(scriptText) {\n    /*eslint-disable-next-line no-eval*/\n    window.eval.call(window, scriptText);\n}    /**\n * @param {Array} scriptLibraryArray\n */\n/**\n * @param {Array} scriptLibraryArray\n */\nfunction loadJSFiles(scriptLibraryArray) {\n    if (scriptLibraryArray && Object.isArray(scriptLibraryArray)) {\n        scriptLibraryArray.each(function (thisFile) {\n            loadJSFile(thisFile);\n        });\n    }\n}\nfunction loadJSFile(thisFile) {\n    //unload the old one if any (tags only - for clean up)...\n    if (jQuery('#' + thisFile)[0]) {\n        jQuery('#' + thisFile)[0].parentNode.removeChild(jQuery('#' + thisFile)[0]);\n    }\n    var script = new Element('script');\n    script.setAttribute('id', thisFile);\n    script.setAttribute('type', 'text/javascript');\n    script.setAttribute('src', thisFile);    //    $$(\"head\")[0].insert(script,'bottom');\n    //    $$(\"head\")[0].insert(script,'bottom');\n    jQuery('#head')[0].appendChild(script);\n}    /**\n * only unloads the script tag\n */\n/**\n * only unloads the script tag\n */\nfunction unloadAllScripts() {\n    var scripts = document.getElementsByTagName('SCRIPT');\n    if (scripts != null) {\n        for (var i = 0; i < scripts.length; i++) {\n            var script = scripts[i];\n            script.parentNode.removeChild(script);\n        }\n    }\n}    //////////////////////////////////////////\n// CSS utils\n//////////////////////////////////////////\n/**\n * @param {Array} cssFileArray\n * @param addToBody - if true appends CSS to body (if possible), if false to head\n */\n//////////////////////////////////////////\n// CSS utils\n//////////////////////////////////////////\n/**\n * @param {Array} cssFileArray\n * @param addToBody - if true appends CSS to body (if possible), if false to head\n */\nfunction loadCSSFiles(cssFileArray, addToBody) {\n    if (cssFileArray && Object.isArray(cssFileArray)) {\n        cssFileArray.each(function (thisFile) {\n            loadCSSFile(thisFile, addToBody);\n        });\n    }\n}\nfunction loadCSSFile(thisFile, addToBody) {\n    //unload existing versions of this file so that new ones are at bottom of file\n    unloadCSSFile(thisFile);\n    var cssLink = new Element('link');\n    cssLink.setAttribute('id', escape(thisFile));\n    cssLink.setAttribute('rel', 'stylesheet');\n    cssLink.setAttribute('type', 'text/css');\n    cssLink.setAttribute('href', thisFile);\n    if (addToBody && document.body) {\n        document.body.appendChild(cssLink);\n    } else {\n        jQuery('#head')[0].insert(cssLink, 'bottom');\n    }\n}    /**\n * @param {Array} cssFileArray\n */\n/**\n * @param {Array} cssFileArray\n */\nfunction unloadCSSFiles(cssFileArray) {\n    if (cssFileArray && Object.isArray(cssFileArray)) {\n        cssFileArray.each(function (thisFile) {\n            unloadCSSFile(thisFile);\n        });\n    }\n}\nfunction unloadCSSFile(thisFile) {\n    if (jQuery('#' + escape(thisFile))[0]) {\n        try {\n            jQuery('#' + escape(thisFile))[0].parentNode.removeChild(jQuery('#' + escape(thisFile))[0]);\n        } catch (ex) {\n            alert(ex);\n        }\n    }\n}\nfunction createCSSRule(cssString) {\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    jQuery(style).html(cssString);\n    document.getElementsByTagName('head')[0].appendChild(style);\n}    //////////////////////////////////////////\n// CSS selector utils\n//////////////////////////////////////////\n/**\n * return frist object to matych CSS selector or null\n * @param {Object} cssSelector\n */\n//////////////////////////////////////////\n// CSS selector utils\n//////////////////////////////////////////\n/**\n * return frist object to matych CSS selector or null\n * @param {Object} cssSelector\n */\nfunction getFirstMatch(cssSelector) {\n    return jQuery('#' + cssSelector)[0];\n}    ////////////////////////////\n// Dialog events\n////////////////////////////\n/**\n * NOTE: requires drag.js library\n * @param {Object} event\n */\n////////////////////////////\n// Dialog events\n////////////////////////////\n/**\n * NOTE: requires drag.js library\n * @param {Object} event\n */\nfunction dialogOnMouseDown(event) {\n    var evt = event != null ? event : window.event;    //if the target is the same as the one saved by cancelEventDrag(), do not initiate drag\n    //if the target is the same as the one saved by cancelEventDrag(), do not initiate drag\n    if (cancelEventDragTarget && cancelEventDragTarget == getEventTarget(evt)) {\n        return;\n    }\n    new Dragger(evt, [getAbsoluteParent(window.event ? evt.srcElement : evt.target)], true, true, 2, new DragListener());\n}    //used by cancelEventDrag() to save the target for which drag is to be cancelled\n//used by cancelEventDrag() to save the target for which drag is to be cancelled\nvar cancelEventDragTarget = null;\nfunction cancelEventDrag(event) {\n    //save the event target\n    cancelEventDragTarget = getEventTarget(event);\n}    ///////////////////////////////////////////\n// Ajax utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Ajax utils\n///////////////////////////////////////////\nfunction encodeUriParameter(string) {\n    return encodeURIComponent(encodeURIComponent(string));\n}\nfunction replaceHTML(container, html) {\n    if (isIE()) {\n        jQuery(container).html(html);\n        return;\n    }\n    container = jQuery('#' + container)[0];\n    var nextSibling = container.nextSibling;\n    var parent = container.parentNode;\n    parent.removeChild(container);\n    jQuery(container).html(html);\n    if (nextSibling) {\n        parent.insertBefore(container, nextSibling);\n    } else {\n        parent.appendChild(container);\n    }\n}    ///////////////////////////////////////////\n// Return to default flow\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Return to default flow\n///////////////////////////////////////////\nfunction gotoDefaultLocation(params) {\n    window.location.href = 'flow.html?_flowId=searchFlow' + (params ? '&' + params : '');\n}\nfunction gotoFolderExplorer(folderUri) {\n    window.location.href = 'flow.html?_flowId=searchFlow';\n    document.location = 'flow.html?_flowId=searchFlow&showFolder=' + folderUri;\n}    ///////////////////////////////////////////\n// Temp\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Temp\n///////////////////////////////////////////\nfunction switchDesign(switchTo) {\n    var thisUrl = document.location.href;\n    var hasDecParam = thisUrl.include('&decorator');\n    if (switchTo === 'old') {\n        if (hasDecParam) {\n            thisUrl = thisUrl.replace('main', 'mainOld');\n        } else {\n            thisUrl = thisUrl + '&decorator=mainOld&confirm=true';\n        }\n    } else {\n        if (hasDecParam) {\n            thisUrl = thisUrl.replace('mainOld', 'main');\n        } else {\n            thisUrl = thisUrl + '&decorator=main&confirm=true';\n        }\n    }\n    redirectToUrl(thisUrl);\n}    ///////////////////////////////////////////////////\n// importerd from jasperserver.js (merge these)\n///////////////////////////////////////////////////\n///////////////////////////////////////////////////\n// importerd from jasperserver.js (merge these)\n///////////////////////////////////////////////////\nfunction showDiv(divId) {\n    var div = document.getElementById(divId);\n    var oldZindex = div.style.zIndex;\n    div.style.zIndex = -100;\n    div.style.display = 'block';\n    centerLayer(div);\n    div.style.zIndex = oldZindex;\n}\nfunction hideDiv(divId) {\n    var div = document.getElementById(divId);\n    div.style.display = 'none';\n    return true;\n}\nfunction borderImage(which, color) {\n    //if IE 4+ or NS 6+\n    if (document.all || document.getElementById) {\n        which.style.borderColor = color;\n    }\n}\nfunction resetRadio(radio) {\n    var changed = false;\n    if (radio.length) {\n        for (var i = 0; i < radio.length; ++i) {\n            if (radio[i].checked) {\n                radio[i].checked = false;\n                changed = true;\n            }\n        }\n    } else {\n        if (radio.checked) {\n            radio.checked = false;\n            changed = true;\n        }\n    }\n    return changed;\n}\nfunction launchAboutDlg() {\n    var aboutPanel = document.getElementById('about');\n    aboutPanel.style.display = 'block';\n    centerLayer(aboutPanel);\n}\nfunction hideAboutDlg() {\n    var aboutPanel = document.getElementById('about');\n    aboutPanel.style.display = 'none';\n}\nfunction unescapeBackslash(str) {\n    return str ? str.replace(/\\\\\\\\/g, '\\\\') : str;\n}    /////////////////////////////////////////////////////////////////\n// Tracer utils IE8+, FF, Chrome, Safari\n//////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////\n// Tracer utils IE8+, FF, Chrome, Safari\n//////////////////////////////////////////////////////////////////\nString.prototype.times = function (count) {\n    return count < 1 ? '' : new Array(count + 1).join(this);\n};\nvar tracer = {\n    nativeCodeEx: /\\[native code\\]/,\n    indentCount: -4,\n    tracing: [],\n    traceMe: function (func, methodName) {\n        var traceOn = function () {\n            var startTime = +new Date();\n            var indentString = ' '.times(tracer.indentCount += 4);\n            /*eslint-disable-next-line no-console*/\n            console.info(indentString + methodName + '(' + Array.prototype.slice.call(arguments).join(', ') + ')');\n            var result = func.apply(this, arguments);\n            /*eslint-disable-next-line no-console*/\n            console.info(indentString + methodName, '-> ', result, '(', new Date() - startTime, 'ms', ')');\n            tracer.indentCount -= 4;\n            return result;\n        };\n        traceOn.traceOff = func;\n        for (var prop in func) {\n            traceOn[prop] = func[prop];\n        }\n        /*eslint-disable-next-line no-console*/\n        console.log('tracing ' + methodName);\n        return traceOn;\n    },\n    traceAll: function (root, recurse) {\n        if (root == window || !(typeof root == 'object' || typeof root == 'function')) {\n            return;\n        }\n        for (var key in root) {\n            if (root.hasOwnProperty(key) && root[key] != root) {\n                var thisObj = root[key];\n                if (typeof thisObj == 'function') {\n                    if (this != root && !thisObj.traceOff && !this.nativeCodeEx.test(thisObj)) {\n                        root[key] = this.traceMe(root[key], key);\n                        this.tracing.push({\n                            obj: root,\n                            methodName: key\n                        });\n                    }\n                }\n                recurse && this.traceAll(thisObj, true);\n            }\n        }\n    },\n    untraceAll: function () {\n        for (var i = 0; i < this.tracing.length; ++i) {\n            var thisTracing = this.tracing[i];\n            thisTracing.obj[thisTracing.methodName] = thisTracing.obj[thisTracing.methodName].traceOff;\n        }\n        /*eslint-disable-next-line no-console*/\n        console.log('tracing disabled');\n        tracer.tracing = [];\n    }\n};    ////////////////////////////////\n// Validation module\n////////////////////////////////\n////////////////////////////////\n// Validation module\n////////////////////////////////\nvar ValidationModule = {\n    /*\n     * Main entry point into validation system. You should call this method to validate your input elements.\n     *\n     * @param validationEntries array of validation entries or single validation entry. See validateEntry for format.\n     * @param showError (optional) should it display/hide an error. True by default\n     * @return true if valid, false if not valid\n     */\n    validate: function (validationEntries, showError) {\n        var that = this;\n        if (!isArray(validationEntries)) {\n            return this.validateEntry(validationEntries, showError);\n        }\n        var valid = true;\n        _.each(validationEntries, function (entry) {\n            valid = that.validateEntry(entry, showError) && valid;\n        });\n        return valid;\n    },\n    /*\n     * Performs validation specified by validationEntry\n     *\n     * @param validationEntry. Expected format:\n     * {element: (mandatory) element to attach,\n     *  selector: (optional) string selector for delegated validation,\n     *  validators: [{method: (mandatory) function(element, messages, options {validation code goes here.\n     *                                              Returns null on success, string with error on failure},\n     *                messages: (optionsl) object which overrides default messages,\n     *                options: (optional) anything which can be used by method as 'options' argument - object, array, etc.,\n     *                }, ...],\n     * method: ..., options: ..., messages: ... - can be used instead of 'validators' array if only 1 validator needed.\n     *                                          Either 'validators' array or 'method' function is mandatory.\n     * }\n     *\n     * also supports legacy format of validationEntry - see validateLegacy\n     *\n     * @reutrns is validation successful (true/false)\n     */\n    validateEntry: function (validationEntry, showError) {\n        if (validationEntry.validator) {\n            //legacy format\n            return this.validateLegacy(validationEntry, showError);\n        }\n        if (!validationEntry.selector) {\n            var msg = this._validateElement(validationEntry.element, validationEntry, showError);\n            return msg == null;\n        }\n        var elements = jQuery(validationEntry.element).find(validationEntry.selector);\n        var valid = true;\n        for (var i = 0; i < elements.length; i++) {\n            var newMsg = this._validateElement(elements[i], validationEntry, showError);\n            valid = valid && newMsg == null;\n        }\n        return valid;\n    },\n    /**\n     * Performs validation of one element with validators specified by entry\n     *\n     * @returns null on success, validation message on failure\n     */\n    _validateElement: function (element, entry, showError) {\n        var errorMessage;\n        if (entry.method) {\n            errorMessage = this._runValidatorOnElement(entry.method, element, entry.messages, entry.options);\n        } else {\n            var validators = entry.validators;\n            for (var i = 0; i < validators.length; i++) {\n                var validator = validators[i];\n                errorMessage = this._runValidatorOnElement(validator.method, element, validator.messages, validator.options);\n                if (errorMessage != null) {\n                    break;    //TODO decide if we need multiple validation messages\n                }\n            }\n        }\n        if (showError !== false) {\n            if (errorMessage) {\n                this.showError(element, errorMessage);\n            } else {\n                this.hideError(element);\n            }\n        }\n        return errorMessage;\n    },\n    _runValidatorOnElement: function (validator, element, messages, options) {\n        if (_.isString(validator)) {\n            validator = this.methods[validator];\n        }\n        var res = validator.call(this, element.value, messages, options);\n        if (!_.isObject(res)) {\n            return res;\n        }\n        return !res.isValid ? res.errorMessage : null;\n    },\n    /**\n     * Attach validators on specific event, usually \"keyup\" or \"change\".\n     *\n     * @param eventName\n     * @param validationEntries can be array of entries or a single entry\n     */\n    attachOnEvent: function (eventName, validationEntries) {\n        if (!_.isArray(validationEntries)) {\n            validationEntries = [validationEntries];\n        }\n        _.each(validationEntries, function (entry) {\n            jQuery(entry.element).on(eventName, function (event) {\n                ValidationModule.validateEntry(entry);\n            });\n        });\n    },\n    /**\n     * Retrieve message by key and substitute placeholders with values array elements.\n     * Only key is mandatory parameter. defaultMessages can be skipped while still specifying values array -\n     * this case is detected by parameter types.\n     * Values should be specified as array, even if there is only one element.\n     */\n    _getMessage: function (key, customMessages, defaultMessages, values) {\n        if (_.isArray(defaultMessages) || defaultMessages === undefined) {\n            //called as key, customMessages, values\n            values = defaultMessages;\n            defaultMessages = this.defaultMessages;\n        }\n        var message = null;\n        if (customMessages) {\n            message = customMessages[key];\n        }\n        if (!message && defaultMessages) {\n            message = defaultMessages[key];\n        }\n        if (message && values) {\n            message = this.fillPlaceholders(message, values);\n        }\n        return message || key;\n    },\n    /**\n     * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n     *\n     * @param string\n     * @param values\n     */\n    fillPlaceholders: function (string, values) {\n        //TODO move out of validation module, that's general purpose code\n        for (var i = 0; i < values.length; i++) {\n            string = string.replace('{' + i + '}', values[i]);\n        }\n        return string;\n    },\n    //TODO load predefined messages from .properties if someone needs default messages\n    defaultMessages: {\n        mandatory: 'Field is mandatory',\n        tooSmall: 'Value is too small, at least {0} required',\n        tooBig: 'Value is too big, at most {0} allowed',\n        tooShort: 'Value is too short, at least {0} characters required',\n        tooLong: 'Value is too long, at most {0} characters allowed',\n        wordInvalidChars: 'Value should contain only word characters (letters, digits and underscore)',\n        shouldStartWithLetter: 'Value should start with letter'\n    },\n    methods: {\n        //make sure field is not empty and contains not only space characters\n        mandatory: function (value, messages) {\n            if (!jQuery.trim(value)) {\n                return this._getMessage('mandatory', messages);\n            }\n            return null;\n        },\n        minMax: function (value, messages, options) {\n            var val = jQuery.trim(value);\n            if (!val) {\n                return null;    //don't validate if no value given\n            }\n            val = parseFloat(val);\n            if (isNaN(val)) {\n                return this._getMessage('notANumber', messages);\n            }\n            if (options.min !== undefined && val < options.min) {\n                return this._getMessage('tooSmall', messages, [options.min]);\n            }\n            if (options.max !== undefined && val > options.max) {\n                return this._getMessage('tooBig', messages, [options.max]);\n            }\n        },\n        minMaxLength: function (value, messages, options) {\n            if (options.minLength && value.length < options.minLength) {\n                return this._getMessage('tooShort', messages, [options.minLength]);\n            }\n            if (options.maxLength && value.length > options.maxLength) {\n                return this._getMessage('tooLong', messages, [options.maxLength]);\n            }\n        },\n        //if value contains only characters allowed in resource ID\n        resourceIdChars: function (value, messages) {\n            if (!window.localContext || !window.localContext.initOptions || !window.localContext.initOptions.resourceIdNotSupportedSymbols) {\n                throw 'There is no resourceIdNotSupportedSymbols property in init options.';\n            }\n            if (new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols, 'g').test(value)) {\n                return this._getMessage('resourceIdInvalidChars', messages);\n            }\n        },\n        //if value contains only word characters (letters, digits and underscore)\n        wordChars: function (value, messages) {\n            if (value.search(/\\W/) >= 0) {\n                return this._getMessage('wordInvalidChars', messages);\n            }\n        },\n        startsWithLetter: function (value, messages) {\n            if (!value.substr(0, 1).match(/[A-Za-z]/)) {\n                return this._getMessage('shouldStartWithLetter', messages);\n            }\n        },\n        isDecimal: function (value) {\n            return _.isNumber(value) || _.isString(value) && !isNaN(Number(value)) ? null : 'defaultErrorMessage';\n        },\n        isInteger: function (value) {\n            return _.isNumber(value) || _.isString(value) && /^[-+]?\\d+$/.test(value) ? null : 'defaultErrorMessage';\n        }\n    },\n    //end methods\n    /**\n     * Performs validation of validation entries, highlights invalid form elements and shows error message.\n     *\n     * @param validationEntries an object or array of validation entries. Each validation entry is JSON object with the\n     * following properties:\n     *  <ul>\n     *      <li>validator - the validator function. It performs validation and return JSON object with the\n     *      following properties:\n     *          <ul>\n     *              <li>isValid - <code>true</code> if the value is valid, <code>false</code> otherwise</li>\n     *              <li>errorMessage - an error message if isValid=false, otherwise it is empty</li>\n     *              <li>onValid - an callback if isValid=true</li>\n     *              <li>onInvalid - an callback if isValid=false</li>\n     *          </ul>\n     *      </li>\n     *      <li>element - the element for which validation should be done using specified validator</li>\n     *  </ul>\n     */\n    validateLegacy: function (validationEntries, showError) {\n        var isValid = true, elemsWithErrors = [];\n        validationEntries = isArray(validationEntries) ? validationEntries : [validationEntries];\n        showError = showError !== false;\n        validationEntries.each(function (validationEntry) {\n            var result = validationEntry.validator.call(ValidationModule, validationEntry.element.getValue());\n            result.isValid ? validationEntry.onValid && validationEntry.onValid(validationEntry) : validationEntry.onInvalid && validationEntry.onInvalid(validationEntry);\n            if (!result.isValid && !elemsWithErrors.include(validationEntry.element)) {\n                elemsWithErrors.push(validationEntry.element);\n                showError && ValidationModule.showError(validationEntry.element, result.errorMessage);\n                isValid = false;\n            } else if (!elemsWithErrors.include(validationEntry.element)) {\n                showError && ValidationModule.hideError(validationEntry.element, true);\n            }\n        });\n        return isValid;\n    },\n    /**\n     * Shows message for the specified form element.\n     *\n     * @param element the form element.\n     * @param message the error message.\n     * @param containerClass the CSS class name that will be added to the message container or control container.\n     * @param messageTypeClass CSS class names used to style message element,\n     *      must start from dot and dot separated if more than one, eg. '.message.warnig').\n     */\n    _showMessage: function (element, message, containerClass, messageTypeClass) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        var msg = jQuery(msgContainer).find(messageTypeClass)[0];\n        msg = msg || jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_PATTERN)[0];\n        if (!msg) {\n            msg = document.createElement('span');\n            msgContainer.appendChild(msg);\n        }\n        msg.className = '';\n        var classes = messageTypeClass.split('.');\n        for (var i = 0; i < classes.length; i++) {\n            jQuery(msg).addClass(classes[i].trim());\n        }\n        if (msg.children.length == 0) {\n            jQuery(msg).html(message);\n        } else {\n            jQuery(msg.children[0]).html(message);\n        }\n        jQuery(msgContainer).addClass(containerClass);\n    },\n    /**\n     * Shows error message for the specified form element.\n     *\n     * @param element the form element.\n     * @param errorMessage the error message.\n     * @param detailsMessage the error stacktrace or detailed message to be shown in dialog.\n     */\n    showError: function (element, errorMessage, detailsMessage) {\n        this._showMessage(element, errorMessage, utilsCommonEnum.ERROR_CLASS, utilsCommonEnum.MESSAGE_WARNING_PATTERN);\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        if (detailsMessage) {\n            var detailsBtn = jQuery(msgContainer).find(utilsCommonEnum.DETAILS_PATTERN)[0];\n            if (detailsBtn) {\n                detailsBtn.stopObserving('click').on('click', function () {\n                    window.dialogs.errorPopup.show(detailsMessage, true);\n                }.bindAsEventListener(this));\n            }\n        } else {\n            //hide Show Details link if there are no details\n            var showDetails = jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_WARNING_DETAILS_PATTERN)[0];\n            if (showDetails)\n                jQuery(showDetails).hide();\n        }\n    },\n    /**\n     * Shows success message for the specified form element.\n     *\n     * @param element the form element.\n     * @param successMessage the success message.\n     */\n    showSuccess: function (element, successMessage) {\n        this._showMessage(element, successMessage, utilsCommonEnum.SUCCESS_CLASS, utilsCommonEnum.MESSAGE_SUCCESS_PATTERN);\n    },\n    /**\n     * Hides error message for the specified form element.\n     *\n     * @param element the form element.\n     * @param cleanMessage a boolean to indicate what error message should be removed as well\n     */\n    hideError: function (element, cleanMessage) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;    // removing error class name\n        // removing error class name\n        jQuery(msgContainer).removeClass(utilsCommonEnum.ERROR_CLASS)[0];   // in some cases it's better to remove error message to prevent some errors.\n        // in some cases it's better to remove error message to prevent some errors.\n        if (cleanMessage) {\n            // find element which has message\n            var msg = jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_WARNING_PATTERN)[0] || jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_PATTERN)[0];\n            if (msg) {\n                msg.update('');\n            }\n        }\n    },\n    /**\n     * Hides success message for the specified form element.\n     *\n     * @param element the form element.\n     */\n    hideSuccess: function (element) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        jQuery('#' + msgContainer).removeClass(utilsCommonEnum.SUCCESS_CLASS);\n    }\n};    ///////////////////////////////////////////////\n// Class Name Builder - Please do not use\n//////////////////////////////////////////////\n///////////////////////////////////////////////\n// Class Name Builder - Please do not use\n//////////////////////////////////////////////\nvar ClassNameBuilder = function (element) {\n    this.element = jQuery('#' + element)[0];\n    if (this.element.classNameBuilder) {\n        return this.element.classNameBuilder;\n    }\n    this.names = this.element.className.split(' ');\n    this.names = this.names.compact().uniq();\n    this.element.classNameBuilder = this;\n};\nClassNameBuilder.addMethod('add', function (name) {\n    var newNames = [];\n    if (Object.isString(name)) {\n        newNames = name.split(' ');\n    } else if (isArray(name)) {\n        newNames = name;\n    } else {\n        return this;\n    }\n    newNames.each(function (newName) {\n        if (!this.names.include(newName)) {\n            this.names.push(newName);\n        }\n    }.bind(this));\n    return this;\n}).addMethod('remove', function (name) {\n    this.names = this.names.without(name);\n    return this;\n}).addMethod('clean', function () {\n    this.names = [];\n    return this;\n}).addMethod('toClassName', function () {\n    this.element.className = this.names.join(' ');\n    return this.element.className;\n});    ///////////////////////////////\n// Cookie util\n///////////////////////////////\n/**\n * This util can be used to store and retrieve cookie in the browser.\n *\n * Usage:\n *    new JSCookie(\"name\", \"value\", 5); - Create new cookie or updates current value. Cookie will be stored for 5 days\n *    new JSCookie(\"name\", \"value\"); - Create new cookie or updates current value. By default cookie will be stored for 30 days\n *    new JSCookie(\"name\").value; - retrieves value of the cookie\n *\n * @param name of the cookie\n * @param value  of the cookie\n * @param days  Store time in days\n */\n///////////////////////////////\n// Cookie util\n///////////////////////////////\n/**\n * This util can be used to store and retrieve cookie in the browser.\n *\n * Usage:\n *    new JSCookie(\"name\", \"value\", 5); - Create new cookie or updates current value. Cookie will be stored for 5 days\n *    new JSCookie(\"name\", \"value\"); - Create new cookie or updates current value. By default cookie will be stored for 30 days\n *    new JSCookie(\"name\").value; - retrieves value of the cookie\n *\n * @param name of the cookie\n * @param value  of the cookie\n * @param days  Store time in days\n */\nvar JSCookie = function (name, value, days) {\n    if (!Object.isString(name)) {\n        throw 'Invalid name';\n    }\n    this.name = name;\n    this.value = value;\n    if (Object.isUndefined(value)) {\n        this.value = this._getCookies()[name];\n    } else {\n        this._setCookie(this.name, this.value, days);\n    }\n};\nJSCookie.addVar('daysToExpiration', 30);\nJSCookie.addVar('getCookieTemplate', function () {\n    return _.template('{{- name}}={{- value}}; expires={{- expires}}; path=/;');\n});\nJSCookie.addMethod('_getCookies', function () {\n    var cookies = {};\n    document.cookie.split(';').invoke('strip').each(function (s) {\n        var nv = s.split('=');\n        cookies[nv[0].strip()] = decodeURI(nv[1]);\n    });\n    return cookies;\n});\nJSCookie.addMethod('set', function (value, days) {\n    this.value = value;\n    this._setCookie(this.name, this.value, days);\n});\nJSCookie.addMethod('get', function () {\n    return this.value;\n});\nJSCookie.addMethod('_setCookie', function (name, value, days) {\n    document.cookie = this.getCookieTemplate()({\n        name: name,\n        value: encodeURI(new String(value)),\n        expires: this._getExpiresDate(days).toGMTString()\n    });\n});\nJSCookie.addMethod('_getExpiresDate', function (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days ? days : this.daysToExpiration * 24 * 60 * 60 * 1000));\n    return date;\n});    ///////////////////////////////////////////\n// Session management\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Session management\n///////////////////////////////////////////\nvar sessionManager = {\n    RESET_SESSION_MIN_TIME: 1000,\n    resetSession: function (flowExecutionKey) {\n        var time = new Date().getTime();\n        if (this._lastSessionResetTime && time - this._lastSessionResetTime < this.RESET_SESSION_MIN_TIME) {\n            return;\n        }\n        this._lastSessionResetTime = time;\n        var url = buildActionUrl({\n            flowExecutionKey: flowExecutionKey,\n            eventId: 'resetSession'\n        });\n        var options = { errorHandler: this.errorHandler };\n        window.ajaxNonReturningUpdate(url, options);\n    },\n    errorHandler: function (ajaxAgent) {\n        var sessionTimeout = ajaxAgent.getResponseHeader('LoginRequested');\n        if (sessionTimeout) {\n            document.location = window.urlContext;\n            return true;\n        }\n    }\n};    ///////////////////////////////////////////\n// Webflow utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Webflow utils\n///////////////////////////////////////////\nvar buildActionUrl = function (params) {\n    if (!params) {\n        return;\n    }\n    var paramsClone = deepClone(params);\n    $w('flowId flowExecutionKey eventId').each(function (key) {\n        if (paramsClone[key]) {\n            paramsClone['_' + key] = paramsClone[key];\n            delete paramsClone[key];\n        }\n    });\n    return 'flow.html?' + Object.toQueryString(paramsClone);\n};    ///////////////////////////////////////////\n// Page Dimmer object and methods\n///////////////////////////////////////////\n/**\n * Page dimmer is used to show/hide page dimmer.\n */\n///////////////////////////////////////////\n// Page Dimmer object and methods\n///////////////////////////////////////////\n/**\n * Page dimmer is used to show/hide page dimmer.\n */\nvar pageDimmer = {\n    /**\n     * The identifier of the DOM element.\n     */\n    DOM_ID: '#pageDimmer',\n    /**\n     * Shows page dimmer.\n     */\n    show: function (owner) {\n        jQuery(this.DOM_ID).removeClass('hidden');\n        if (owner && owner.match(utilsCommonEnum.DIALOG_PATTERN)) {\n            var dialogIndex = owner.getStyle('zIndex');\n            dialogIndex = dialogIndex ? parseInt(dialogIndex, 10) : 0;\n            dialogIndex > 0 && this.setZindex(dialogIndex - 1);\n        }\n    },\n    /**\n     * Hides page dimmer.\n     */\n    hide: function () {\n        jQuery(this.DOM_ID).addClass('hidden');\n    },\n    /**\n     * Update z-index of the dimmer\n     *\n     * @param zindex New z-index\n     */\n    setZindex: function (zindex) {\n        jQuery(this.DOM_ID).css({ zIndex: zindex });\n    }\n};    //////////////////////////////////////////////\n// IFRAME Ajax -> move to core.ajax.iframe\n/////////////////////////////////////////////\n/**\n*   Uses the AJAX IFRAME METHOD (AIM)\n*   http://www.webtoolkit.info/\n*   Copyright  2006-2010  webtoolkit\n*/\n//////////////////////////////////////////////\n// IFRAME Ajax -> move to core.ajax.iframe\n/////////////////////////////////////////////\n/**\n*   Uses the AJAX IFRAME METHOD (AIM)\n*   http://www.webtoolkit.info/\n*   Copyright  2006-2010  webtoolkit\n*/\nvar fileSender = {};    /**\n* Upload a file to the server.\n*\n* @param input - the file input object (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\n/**\n* Upload a file to the server.\n*\n* @param input - the file input object (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\nfileSender.upload = function (input, flowId, options, callback) {\n    return fileSender.uploadMultiple([input], flowId, options, callback);\n};    /**\n* Upload multiple files to the server.\n*\n* @param inputs - the file input array (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\n/**\n* Upload multiple files to the server.\n*\n* @param inputs - the file input array (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\nfileSender.uploadMultiple = function (inputs, flowId, options, callback) {\n    var form = Builder.node('FORM', {\n        action: 'flow.html?_flowId=' + flowId,\n        method: 'post',\n        enctype: 'multipart/form-data'\n    });\n    for (var i = 0; i < inputs.length; i++) {\n        var input = inputs[i];\n        var fileInput = input.cloneNode(true);\n        jQuery(input).attr('id', null);\n        jQuery(input).addClass('hidden');\n        if (form.file) {\n            form.file.remove();\n        }    //Move event listeners to newly created object\n        //Move event listeners to newly created object\n        fileSender.moveEventHandlers(input, fileInput);\n        input.insert({ after: fileInput });\n        input.remove();\n        form.insert(input);\n        for (var key in options) {\n            var inp = Builder.node('INPUT', {\n                type: 'hidden',\n                name: key,\n                value: xssUtil.unescape(options[key])\n            });\n            form.insert(inp);\n        }\n    }\n    jQuery(form).addClass('hidden');\n    document.body.insert(form);\n    fileSender.submit(form, {\n        'onStart': null,\n        'onComplete': callback\n    });\n    form.submit();\n    return form;\n};\nfileSender.moveEventHandlers = function (fromEl, toEl) {\n    var CACHE = Event.cache, elementId = fileSender.getUniqueElementID(fromEl), registry = CACHE[elementId];\n    delete CACHE[elementId];\n    if (registry) {\n        _.each(registry, function (registryEntry, eventName) {\n            if (eventName !== 'element') {\n                _.each(registryEntry, function (entry) {\n                    toEl.observe(eventName, entry.handler);\n                });\n            }\n        });\n        registry = null;\n    }\n};    /**\n * Borrowed from Prototype 1.7.1\n * @param element\n * @returns {*}\n */\n/**\n * Borrowed from Prototype 1.7.1\n * @param element\n * @returns {*}\n */\nfileSender.getUniqueElementID = function (element) {\n    if (element === window)\n        return 0;\n    if ('uniqueID' in document.createElement('div')) {\n        if (element == document)\n            return 1;\n        return element.uniqueID;\n    }\n    if (typeof element._prototypeUID === 'undefined')\n        element._prototypeUID = Element.Storage.UID++;\n    return element._prototypeUID;\n};\nfileSender.frame = function (c) {\n    var n = 'f' + Math.floor(Math.random() * 99999);\n    var i = jQuery('#ajax-upload-iframe')[0].clone(true);\n    jQuery(i).attr('id', n);\n    jQuery(i).attr('name', n);\n    document.body.insert(i);\n    var loaded = function () {\n        fileSender.loaded(n);\n    };\n    i.observe('load', loaded);\n    if (c && typeof c.onComplete == 'function') {\n        i.onComplete = c.onComplete;\n    }\n    return n;\n};\nfileSender.form = function (f, name) {\n    f.setAttribute('target', name);\n};    /**\n* Use fileSender.submit(formElement, {'onStart' : startUpload, 'onComplete' : callback}) to prepare the form.\n* @param formElement - the DOM form object containing the file input\n* @param startUpload - function is being invoked before start uploading\n* @param callback - function is being invoked after file is uploaded\n*\n*/\n/**\n* Use fileSender.submit(formElement, {'onStart' : startUpload, 'onComplete' : callback}) to prepare the form.\n* @param formElement - the DOM form object containing the file input\n* @param startUpload - function is being invoked before start uploading\n* @param callback - function is being invoked after file is uploaded\n*\n*/\nfileSender.submit = function (f, c) {\n    fileSender.form(f, fileSender.frame(c));\n    if (c && typeof c.onStart == 'function') {\n        return c.onStart();\n    } else {\n        return true;\n    }\n};\nfileSender.loaded = function (id) {\n    var i = document.getElementById(id);\n    var d;\n    if (i.contentDocument) {\n        d = i.contentDocument;\n    } else if (i.contentWindow) {\n        d = i.contentWindow.document;\n    } else {\n        d = window.frames[id].document;\n    }\n    if (d.location.href == 'about:blank') {\n        return;\n    }\n    if (fileSender.sessionTimeoutHandler(d)) {\n        return;\n    }\n    if (typeof i.onComplete == 'function') {\n        i.onComplete(jQuery(d.body).html());\n    }\n};\nfileSender.sessionTimeoutHandler = function (doc) {\n    var metas = doc.getElementsByTagName('meta');\n    for (var i = 0; i < metas.length; i++) {\n        if (metas[i].name == 'pageHeading' && metas[i].content == 'LOGIN PAGE') {\n            document.location = '.';\n            return true;\n        }\n    }\n    return false;\n};    /**\n* Download a file using iframe as a receiving container.\n* If file is ready, browser will show Save As dialog.\n* If error occured, iframe will receive the error information\n* @param url - server URL to call for the file\n* @param options - an object with call parameters\n*                  options.onload is a function to call when iframe is loaded; use as error handler\n*/\n/**\n* Download a file using iframe as a receiving container.\n* If file is ready, browser will show Save As dialog.\n* If error occured, iframe will receive the error information\n* @param url - server URL to call for the file\n* @param options - an object with call parameters\n*                  options.onload is a function to call when iframe is loaded; use as error handler\n*/\nfunction ajaxIframeDownload(url, options) {\n    var iframe = jQuery('#ajax-download-iframe')[0];\n    if (options) {\n        iframe.onload = options.onload;\n    }\n    iframe.src = url;\n}    /*\n * Date util\n */\n/**\n * Parsing date string in format yyyy-mm-dd\n * @param input\n * @return {Date}\n */\n/*\n * Date util\n */\n/**\n * Parsing date string in format yyyy-mm-dd\n * @param input\n * @return {Date}\n */\nfunction parseAsDate(input) {\n    var parts = input.match(/(\\d+)/g);    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1] - 1, parts[2]);    // months are 0-based\n}    /**\n * Parsing date string in format yyyy-MM-dd HH:mm:ss\n * @param input\n * @return {Date}\n */\n/**\n * Parsing date string in format yyyy-MM-dd HH:mm:ss\n * @param input\n * @return {Date}\n */\nfunction parseAsDateTime(input) {\n    var parts = input.match(/(\\d+)/g);    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]);    // months are 0-based\n}\nfunction padNumber(number) {\n    var r = String(number);\n    if (r.length === 1) {\n        r = '0' + r;\n    }\n    return r;\n}\nfunction toTimestampString(date) {\n    return date.getUTCFullYear() + '-' + padNumber(date.getMonth() + 1) + '-' + padNumber(date.getDate()) + ' ' + padNumber(date.getHours()) + ':' + padNumber(date.getMinutes()) + ':' + padNumber(date.getSeconds());    //        + '.' + String( (date.getUTCMilliseconds()/1000).toFixed(3) ).slice( 2, 5 )\n    //        + 'Z';\n}\n//        + '.' + String( (date.getUTCMilliseconds()/1000).toFixed(3) ).slice( 2, 5 )\n//        + 'Z';\n/*\n* Keyboard events / codes\n*/\n/*\n* Keyboard events / codes\n*/\nvar Keys = new Object();\nKeys.DOM_VK_BACK_SPACE = 8;\nKeys.DOM_VK_ENTER = 13;\nKeys.DOM_VK_PAGE_UP = 33;\nKeys.DOM_VK_DOWN = 40;\nKeys.DOM_VK_INSERT = 45;\nKeys.DOM_VK_DELETE = 46;\nKeys.DOM_VK_0 = 48;\nKeys.DOM_VK_9 = 57;\nKeys.DOM_VK_NUMPAD0 = 96;\nKeys.DOM_VK_NUMPAD9 = 105;\nKeys.DOM_VK_DECIMAL = 110;\nKeys.DOM_VK_COMMA = 188;\nKeys.DOM_VK_PERIOD = 190;\nKeys.DOM_VK_CANCEL = 3;\nKeys.DOM_VK_HELP = 6;\nKeys.DOM_VK_TAB = 9;\nKeys.DOM_VK_CLEAR = 12;\nKeys.DOM_VK_RETURN = 13;\nKeys.DOM_VK_SHIFT = 16;\nKeys.DOM_VK_CONTROL = 17;\nKeys.DOM_VK_ALT = 18;\nKeys.DOM_VK_PAUSE = 19;\nKeys.DOM_VK_CAPS_LOCK = 20;\nKeys.DOM_VK_ESCAPE = 27;\nKeys.DOM_VK_SPACE = 32;\nKeys.DOM_VK_PAGE_DOWN = 34;\nKeys.DOM_VK_END = 35;\nKeys.DOM_VK_HOME = 36;\nKeys.DOM_VK_LEFT = 37;\nKeys.DOM_VK_UP = 38;\nKeys.DOM_VK_RIGHT = 39;\nKeys.DOM_VK_PRINTSCREEN = 44;\nKeys.DOM_VK_1 = 49;\nKeys.DOM_VK_2 = 50;\nKeys.DOM_VK_3 = 51;\nKeys.DOM_VK_4 = 52;\nKeys.DOM_VK_5 = 53;\nKeys.DOM_VK_6 = 54;\nKeys.DOM_VK_7 = 55;\nKeys.DOM_VK_8 = 56;\nKeys.DOM_VK_SEMICOLON = 59;\nKeys.DOM_VK_EQUALS = 61;\nKeys.DOM_VK_A = 65;\nKeys.DOM_VK_B = 66;\nKeys.DOM_VK_C = 67;\nKeys.DOM_VK_D = 68;\nKeys.DOM_VK_E = 69;\nKeys.DOM_VK_F = 70;\nKeys.DOM_VK_G = 71;\nKeys.DOM_VK_H = 72;\nKeys.DOM_VK_I = 73;\nKeys.DOM_VK_J = 74;\nKeys.DOM_VK_K = 75;\nKeys.DOM_VK_L = 76;\nKeys.DOM_VK_M = 77;\nKeys.DOM_VK_N = 78;\nKeys.DOM_VK_O = 79;\nKeys.DOM_VK_P = 80;\nKeys.DOM_VK_Q = 81;\nKeys.DOM_VK_R = 82;\nKeys.DOM_VK_S = 83;\nKeys.DOM_VK_T = 84;\nKeys.DOM_VK_U = 85;\nKeys.DOM_VK_V = 86;\nKeys.DOM_VK_W = 87;\nKeys.DOM_VK_X = 88;\nKeys.DOM_VK_Y = 89;\nKeys.DOM_VK_Z = 90;\nKeys.DOM_VK_CONTEXT_MENU = 93;\nKeys.DOM_VK_NUMPAD1 = 97;\nKeys.DOM_VK_NUMPAD2 = 98;\nKeys.DOM_VK_NUMPAD3 = 99;\nKeys.DOM_VK_NUMPAD4 = 100;\nKeys.DOM_VK_NUMPAD5 = 101;\nKeys.DOM_VK_NUMPAD6 = 102;\nKeys.DOM_VK_NUMPAD7 = 103;\nKeys.DOM_VK_NUMPAD8 = 104;\nKeys.DOM_VK_MULTIPLY = 106;\nKeys.DOM_VK_ADD = 107;\nKeys.DOM_VK_SEPARATOR = 108;\nKeys.DOM_VK_SUBTRACT = 109;\nKeys.DOM_VK_SUBTRACT_UNDERSCORE_IE = 189;\nKeys.DOM_VK_DIVIDE = 111;\nKeys.DOM_VK_F1 = 112;\nKeys.DOM_VK_F2 = 113;\nKeys.DOM_VK_F3 = 114;\nKeys.DOM_VK_F4 = 115;\nKeys.DOM_VK_F5 = 116;\nKeys.DOM_VK_F6 = 117;\nKeys.DOM_VK_F7 = 118;\nKeys.DOM_VK_F8 = 119;\nKeys.DOM_VK_F9 = 120;\nKeys.DOM_VK_F10 = 121;\nKeys.DOM_VK_F11 = 122;\nKeys.DOM_VK_F12 = 123;\nKeys.DOM_VK_F13 = 124;\nKeys.DOM_VK_F14 = 125;\nKeys.DOM_VK_F15 = 126;\nKeys.DOM_VK_F16 = 127;\nKeys.DOM_VK_F17 = 128;\nKeys.DOM_VK_F18 = 129;\nKeys.DOM_VK_F19 = 130;\nKeys.DOM_VK_F20 = 131;\nKeys.DOM_VK_F21 = 132;\nKeys.DOM_VK_F22 = 133;\nKeys.DOM_VK_F23 = 134;\nKeys.DOM_VK_F24 = 135;\nKeys.DOM_VK_NUM_LOCK = 144;\nKeys.DOM_VK_SCROLL_LOCK = 145;\nKeys.DOM_VK_SLASH = 191;\nKeys.DOM_VK_BACK_QUOTE = 192;\nKeys.DOM_VK_OPEN_BRACKET = 219;\nKeys.DOM_VK_BACK_SLASH = 220;\nKeys.DOM_VK_CLOSE_BRACKET = 221;\nKeys.DOM_VK_QUOTE = 222;\nKeys.DOM_VK_META = 224;    /*\n * Template utils\n */\n/**\n * Compile underscore template and return it.\n *\n * @param templateId id od template script tag in DOM\n */\n/*\n * Template utils\n */\n/**\n * Compile underscore template and return it.\n *\n * @param templateId id od template script tag in DOM\n */\nvar compileTemplate = function (templateSelector) {\n    if (!templateSelector) {\n        return;\n    }    //temporary replace default template settings\n    //temporary replace default template settings\n    var oldSettings = _.templateSettings;\n    _.templateSettings = {\n        evaluate: /\\{\\{([\\s\\S]+?)\\}\\}/g,\n        interpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n        escape: /\\{\\{-([\\s\\S]+?)\\}\\}/g\n    };\n    var template = _.template(jQuery(templateSelector).html());\n    _.templateSettings = oldSettings;\n    return template;\n};\n\nwindow.isIE = isIE;\n// JRS-20335 formatString is used from global scope in WEB-INF/jsp/jsTemplates/tableRows.jsp\nwindow.formatString = formatString;\n\nexport {\n    isMacOS,\n    isWindowsOS,\n    isLinuxOS,\n    isOS,\n    isSupportsTouch,\n    isMozilla,\n    isFirefox,\n    isWebKitEngine,\n    isChrome,\n    isIPad,\n    isAndroid,\n    isIE,\n    isIE6,\n    isIE7,\n    isIE8,\n    isIE9,\n    isIE10,\n    isIE11,\n    isIEVersion7Upwards,\n    isIEVersion,\n    getIEVersion,\n    doNothing,\n    addDataToForm,\n    getTZOffset,\n    exists,\n    isArray,\n    isNumber,\n    isNotNullORUndefined,\n    hasDisabledAttributeSet,\n    getParentDiv,\n    getAbsoluteParent,\n    getElementWithIdAndTagAndParent,\n    getClosestAncestor,\n    isDescendantOf,\n    getCellIndex,\n    getRowIndex,\n    isDisabled,\n    matchAny,\n    matchMeOrUp,\n    stylesMatch,\n    getNextMatchingSibling,\n    getNextNonMatchingSibling,\n    getPreviousMatchingSibling,\n    getPreviousNonMatchingSibling,\n    getAbsoluteOffsets,\n    getAbsoluteTopOffset,\n    getBoxOffsets,\n    getInnerText,\n    isPointOverlayingObject,\n    boxesOverlap,\n    boxesOverlapVertically,\n    boxesOverlapHorizontally,\n    getOuterHeight,\n    getOuterWidth,\n    getBufferHeight,\n    getBufferWidth,\n    getDimensionInPx,\n    getActualDimension,\n    purgeChildElements,\n    purge,\n    getCaret,\n    isAlmostInView,\n    getTouchedElement,\n    centerLayer,\n    centerElement,\n    parseFunc,\n    cascadeElement,\n    fitObjectIntoScreen,\n    focusOn,\n    selectAndFocusOn,\n    renderHazeLayer,\n    renderOverlay,\n    removeOverlay,\n    reParent,\n    getScrollLeftForAbsoluteParent,\n    getScrollTopForAbsoluteParent,\n    renderTransparentIFrame,\n    pushOverlayObject,\n    pushTotalOverlayObject,\n    pushOverlayObjectAtOffsets,\n    popOverlayObject,\n    popAllOverlayObjects,\n    disableSelection,\n    disableSelectionWithoutCursorStyle,\n    enableSelection,\n    setCursor,\n    cursorDefault,\n    cursorPointer,\n    cursorWait,\n    getCellAtColumn,\n    getCellAtRow,\n    copyTable,\n    copyTableJquery,\n    clearTable,\n    getWindowWidth,\n    getWindowHeight,\n    getScrollLeft,\n    getScrollTop,\n    scrollXToMiddle,\n    launchNewWindow,\n    getIFrameDocument,\n    getEvent,\n    popEvent,\n    triggerNativeEvent,\n    relatedTargetInElementSubtree,\n    cancelEventBubbling,\n    cancelEventAndPreventDefault,\n    enterKeyHit,\n    whichKeyHit,\n    isCtrlHeld,\n    isShiftHeld,\n    getEventTarget,\n    isNavigationInput,\n    verifyIsDigitInput,\n    verifyIsInputNumericDecimalSeparator,\n    numberOfDecimals,\n    macOSKeyboardRightClick,\n    macOSMouseRightClick,\n    isRightClick,\n    isLeftClick,\n    isMetaHeld,\n    trim,\n    startsWith,\n    getTextAfterUnderscore,\n    getTextBeforeUnderscore,\n    extractNumber,\n    getTextAfterSubstring,\n    getTextBeforeSubstring,\n    removeTrailingSlash,\n    removeTrailingPound,\n    removeChars,\n    replaceAll,\n    jsHash,\n    textCounter,\n    saveAndClear,\n    escapeString,\n    formatString,\n    splitText,\n    redirectToUrl,\n    checkURLProtocol,\n    getSymbolToAppendNextParam,\n    restoreDefaultCursor,\n    encodeText,\n    decodeText,\n    constrain,\n    deepClone,\n    cloneCustomAttributes,\n    initLog,\n    logIt,\n    debug,\n    startTimer,\n    stopTimer,\n    inspect,\n    toBlockNotation,\n    getAsFunction,\n    toFunction,\n    BusyMonitor,\n    InPlaceEditor,\n    evaluateScripts,\n    evaluateScript,\n    globalEval,\n    loadJSFiles,\n    loadJSFile,\n    unloadAllScripts,\n    loadCSSFiles,\n    loadCSSFile,\n    unloadCSSFiles,\n    unloadCSSFile,\n    createCSSRule,\n    getFirstMatch,\n    dialogOnMouseDown,\n    cancelEventDrag,\n    encodeUriParameter,\n    replaceHTML,\n    gotoDefaultLocation,\n    gotoFolderExplorer,\n    switchDesign,\n    showDiv,\n    hideDiv,\n    borderImage,\n    resetRadio,\n    launchAboutDlg,\n    hideAboutDlg,\n    unescapeBackslash,\n    tracer,\n    ValidationModule,\n    ClassNameBuilder,\n    JSCookie,\n    sessionManager,\n    buildActionUrl,\n    pageDimmer,\n    fileSender,\n    ajaxIframeDownload,\n    parseAsDate,\n    parseAsDateTime,\n    padNumber,\n    toTimestampString,\n    Keys,\n    compileTemplate,\n    downloadFileByUrl\n}\n"],"sourceRoot":""}