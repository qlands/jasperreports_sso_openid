{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/commons/commons.minimal.main.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/core/core.ajax.js","webpack://jrs-ui/./src/core/core.ajax.utils.js","webpack://jrs-ui/./src/core/core.events.bis.js","webpack://jrs-ui/./src/namespace/namespace.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","heartbeat","jrsConfigs","aboutDialog","helpLink","on","e","preventDefault","webHelp","stdnav","stdnavPluginAnchor","stdnavPluginButton","stdnavPluginForms","stdnavPluginGrid","stdnavPluginList","stdnavPluginActionMenu","stdnavPluginDynamicList","stdnavPluginToolbar","stdnavPluginWorkflowCard","JSTooltip","element","options","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","jQuery","initialZIndex","toArray","memo","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","layoutModule","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","attr","timer","clearTimeout","setTimeout","show","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","getElementById","setAttribute","reject","t","ajax","AjaxRequester","url","params","postData","synchronous","location","toString","xmlhttp","getXMLHTTP","rsChangeFunction","processResponse","onreadystatechange","async","requestTime","Date","handleResponse","requester","checkForErrors","responseHandler","ajaxRequestEnded","JRS","className","targettedResponseHandler","fillId","fromId","callback","toLocation","html","updateUsingResponseSubset","res","responseText","trim","opentTag","substring","body","lastIndexOf","closeTag","ajaxBuffer","replace","invokeCallbacks","cumulativeResponseHandler","insert","rowCopyResponseHandler","tableId","theTable","tagName","tempDiv","Builder","copyTable","getElementsByTagName","alert","cancelRequestsBefore","LOADING_ID","open","setRequestHeader","send","prototype","DUMMY_POST_PARAM","readyState","setErrorHandler","errorHandler","getResponseHeader","confirmContinue","responseTimer","dialogs","MAX_WAIT_TIME","confirm","serverIsNotResponding","clobberingResponseHandler","fire","evalJSONResponseHandler","jSONResponse","evalJSON","console","log","fromLocation","toLoc","response","whatWeWant","copyTableJquery","append","scriptTags","sz","size","idx","iterate","scriptObj","get","scriptName","scriptUrl","gotCallback","callbackFn","scriptElement","createElement","jr_scripts","onload","src","appendChild","scriptString","lines","match","eval","executeScript","customArg","ajaxClobberredUpdate","ajaxUpdate","ajaxTargettedUpdate","mode","CUMULATIVE_UPDATE","ROW_COPY_UPDATE","EVAL_JSON","preFillAction","ajaxNonReturningUpdate","ajaxClobberedFormSubmit","form","getPostData","extraPostData","appendPostData","ajaxTargettedFormSubmit","ajaxErrorHandler","showMessageDialog","ajaxError","ajaxErrorHeader","doNothing","fillLocation","isAutomaticRefresh","isIPad","busyCursor","silent","showLoading","hideLoader","ajaxRequestStarted","doPost","doGet","requesterErrorHandler","forms","data","i","name","appendFormInput","appendFormValue","type","checked","option","selected","shift","encodeURIComponent","ERROR_POPUP_DIV","ERROR_POPUP_CONTENTS","ERROR_POPUP_BACK_BUTTON","ERROR_POPUP_CLOSE_BUTTON","hideErrorPopup","popOverlayObject","style","display","ajaxRequestCount","cursor","startResponseTimer","cancelResponseTimer","isValidJsonResponse","ajaxAgent","responseType","status","XMLHttpRequest","showErrorPopup","errorMessage","baseErrorHandler","observe","isSupportsTouch","targetEvent","event","treeEvent","listEvent","li","matchMeOrUp","buttonManager","listItemElement","children","isRightClick","node","Event","stop","isGlobalEventsAllowed","el","isIE","hasDisabledAttributeSet","parentNode","primaryNavModule","siblings","$anchor","closest","find","addEventListener","calendar","hidden","TouchController","toggleClass","vars","element_scrolled","ajax_in_progress","current_flow","contextPath","__jrsConfigs__","i18n","isEncryptionOn","isProVersion","Mocks","Export","configs","TIMEOUT","DELAY","localContext","bundledCalendarFormat","bundledCalendarTimeFormat","jaspersoft","components","Draggable","startDrag","isDragging","dragging","delta","currentDelta","zindex","originalZ","Element","getStyle","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","insertBefore","superghosting","prepare","pointer","pointerX","pointerY","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","pos","cumulativeOffset","r","realOffset","deltaX","deltaY","d","_isScrollChild","p","map","mouseOffset","offset","bind","snap","Object","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","touches","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","Droppables","isAffected","drop","jo","w","h","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","finishDrag","success","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","reset","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","initialize","observer","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set"],"mappings":"yJAAA;;;;;;;;GAkBEA,EAAQ,CAAE,SAAU,eAAd,4BAMJ,SAAUC,GAEd,OAAOA,EAAEC,GAAGC,aAAe,SAAUC,GACpC,IAAIC,EAAWC,KAAKC,IAAK,YACxBC,EAAmC,aAAbH,EACtBI,EAAgBL,EAAgB,uBAAyB,gBACzDD,EAAeG,KAAKI,UAAUC,QAAQ,WACrC,IAAIC,EAASX,EAAGK,MAChB,QAAKE,GAAoD,WAA7BI,EAAOL,IAAK,cAGjCE,EAAcI,KAAMD,EAAOL,IAAK,YAAeK,EAAOL,IAAK,cACjEK,EAAOL,IAAK,kBACVO,GAAI,GAET,MAAoB,UAAbT,GAAyBF,EAAaY,OAE5CZ,EADAF,EAAGK,KAAM,GAAIU,eAAiBC,aAtBxB,gC,iPCyBRC,eAAqBC,0BACrBD,YACAC,gCAAyCC,iBAEzC,IAAIC,EAAWpB,IAAE,aACboB,GACAA,EAASC,GAAG,SAAS,SAAUC,GAC3BA,EAAEC,iBACFC,wBAG+B,SAAnCN,0BAEAO,eACAC,aAA4BD,KAC5BE,aAA4BF,KAC5BG,aAA2BH,KAC3BI,aAA0BJ,KAC1BK,aAA0BL,KAG1BM,aAAgCN,KAChCO,aAAiCP,KACjCQ,aAA6BR,KAC7BS,aAAkCT,KAClCA,c,mICKJ,SAASU,EAAUC,EAASC,GACxB,GAAID,EAAS,CAgBT,GAfA/B,KAAKiC,WAAaF,EAEdC,IACAhC,KAAKkC,MAAQF,EAAQE,MACrBlC,KAAKmC,KAAOH,EAAQG,KACpBnC,KAAKoC,QAAUJ,EAAQI,QACvBpC,KAAKqC,YAAeL,EAAQK,UAC5BrC,KAAKsC,WAAaN,EAAQM,WAC1BtC,KAAKuC,iBAAmBP,EAAQO,iBAChCvC,KAAKwC,kBAAmB,GAG5BxC,KAAKyC,UAAW,EAChBzC,KAAK0C,SAAU,EAEX1C,KAAKsC,WACLtC,KAAK2C,aAAa3C,KAAK4C,iBAAkB5C,KAAKsC,gBAC3C,CACH,IAAIO,EAAK7C,KAAK8C,eAAe9C,KAAK4C,kBAClC5C,KAAKsC,WAAcO,GAAMA,EAAGpC,OAAS,EAAKoC,EAAK7C,KAAK+C,oBAEpD/C,KAAKkC,MACLlC,KAAK2C,aAAa3C,KAAKgD,cAAehD,KAAKkC,OAE3ClC,KAAKkC,MAAQlC,KAAK8C,eAAe9C,KAAKgD,eAEtChD,KAAKmC,KACLnC,KAAK2C,aAAa3C,KAAKiD,aAAcjD,KAAKmC,MAE1CnC,KAAKmC,KAAOnC,KAAK8C,eAAe9C,KAAKiD,cAIrCjD,KAAKkC,QACLlC,KAAKkC,MAAQlC,KAAKkD,YAAYlD,KAAKkC,QACnClC,KAAKmC,OACLnC,KAAKmC,KAAOnC,KAAKkD,YAAYlD,KAAKmC,OAEtCnC,KAAKiC,WAAWkB,UAAYnD,KAE5BoD,EAAcC,SAASC,KAAKtD,OAIpC8B,EAAUyB,OAAO,YAAa,MAC9BzB,EAAUyB,OAAO,gBAAiB,gBAClCzB,EAAUyB,OAAO,eAAgB,eACjCzB,EAAUyB,OAAO,mBAAoB,mBACrCzB,EAAUyB,OAAO,sBAAuB,aACxCzB,EAAUyB,OAAO,gBAAiB,kBAClCzB,EAAUyB,OAAO,eAAgB,wBAEjCzB,EAAU0B,UAAU,gBAAgB,SAASC,EAAUC,GAChD1D,KAAKiC,aACJyB,EAAQC,eAAmBD,GAC3B1D,KAAKiC,WAAW2B,eAAeH,GAAUI,SAAQH,GAASA,EAAMI,KAAK9D,KAAK+D,WAAaL,OAI/F5B,EAAU0B,UAAU,kBAAkB,SAASC,GAC3C,GAAGzD,KAAKiC,YAAcjC,KAAKiC,WAAW+B,aAAaP,GAAW,CAC1D,IAAIC,EAAQ1D,KAAKiC,WAAWgC,cAAcR,GAC1C,OAAOC,EAAMQ,QAAQlE,KAAK+D,WAAaL,EAAMS,MAAMnE,KAAK+D,WAAaL,EAGzE,OAAO,QAGX5B,EAAU0B,UAAU,cAAc,SAASY,EAAUC,GACjDD,EAASE,MAAK,SAAUvC,EAASwC,IACzBC,aAAWH,EAAOE,KAAWC,aAAWH,EAAOE,MAC/CxC,EAAQ0C,OAAOd,eAAmBU,EAAOE,WAKrDzC,EAAU0B,UAAU,oBAAoB,SAASzB,GAC7C,SAAS2C,EAAiBC,GACtB,OAAOC,SAASC,IAAOF,GAAM1E,IAAI,YAIrC,IAAI6E,EAAgBJ,EAAiB3C,GAChCyC,aAAWM,KAAkBN,UAAQM,KACtCA,EAAgB,KAGpB,IAAI1E,EAAUoE,YAAU,CAACxE,KAAKiC,WAAY4C,IAAO7E,KAAKiC,YAAY7B,UAAU2E,YAa5E,OAVgBP,WAASpE,GAAS,SAAS4E,EAAM1E,GAC7C,IAAI2E,EAASP,EAAiBpE,GAM9B,OAJIkE,aAAWS,KAAYT,UAAQS,KAC/BD,EAAOE,KAAKC,IAAIH,EAAMC,IAGnBD,IACRF,GAEgB,KAGvBhD,EAAU0B,UAAU,eAAe,SAASrB,GACxC,OAAOqC,YAAUrC,GACXqC,QAAMrC,GAAM,SAAUiD,GAAO,OAAOzB,eAAmByB,MACvDzB,eAAmBxB,MAG7BL,EAAU0B,UAAU,QAAQ,SAAS6B,GAOjC,IAAIjD,EANDiD,IACCrF,KAAKoC,QAAUiD,GAGnBrF,KAAKsF,SAAWT,IAAO,IAAM7E,KAAKsC,YAAY,GAG1CtC,KAAKqC,WACLD,GAAUmD,SAAcvF,KAAKiC,aACrB,IAAMjC,KAAKiC,WAAWuD,aAAe,EAE7CpD,EAAU,EAACqD,WAAkB,GAAGC,WAAiB,GAGjD1F,KAAKoC,UACLA,EAAQ,IAAMpC,KAAKoC,QAAQ,GAC3BA,EAAQ,IAAMpC,KAAKoC,QAAQ,IAG/BpC,KAAKsF,SAASK,SAAS,CACnB5F,SAAU,WACV6F,KAAMxD,EAAQ,GAAK,KACnByD,IAAKzD,EAAQ,GAAK,KAClB6C,OAAQjF,KAAK8F,iBAAiB9F,KAAKsF,YAGvC,IAAIS,EAAgB/F,KAAKsF,SAASU,OAAOhG,KAAKiG,eAC1CC,EAAelG,KAAKsF,SAASU,OAAOhG,KAAKmG,cAW7C,GATGnG,KAAKkC,OACJlC,KAAKoG,WAAWL,GAAelC,SAAQ7D,KAAKkC,OAASlC,KAAKkC,MAAQ,CAAClC,KAAKkC,QAEzElC,KAAKmC,MACJnC,KAAKoG,WAAWF,GAAcrC,SAAQ7D,KAAKmC,MAAQnC,KAAKmC,KAAO,CAACnC,KAAKmC,OAGzE0C,IAAO7E,KAAKsF,UAAUe,YAAYC,kBAE9BlE,EAAQ,GAAKpC,KAAKsF,SAASiB,YAAc1B,IAAO2B,QAAQC,QAAS,CACjE,IAAIC,EAAatE,EAAQ,GAAKpC,KAAKsF,SAASiB,YAAc,EAAInE,EAAQ,GAAKpC,KAAKsF,SAASiB,YAAc,GAEvGvG,KAAKsF,SAASK,SAAS,CAAEC,KAAMc,EAAa,OAEhD,GAAItE,EAAQ,GAAKpC,KAAKsF,SAASE,aAAeX,IAAO2B,QAAQG,SAAU,CACnE,IAAIC,EAAYxE,EAAQ,GAAKpC,KAAKsF,SAASE,aAAe,GAC1DxF,KAAKsF,SAASK,SAAS,CAAEE,IAAKe,EAAY,OAS9C,OANI5G,KAAKuC,mBAAqBvC,KAAKwC,mBAC/BxC,KAAKwC,kBAAmB,EAExBxC,KAAKuC,iBAAiBvC,OAGnBA,QAGX8B,EAAU0B,UAAU,cAAc,SAASrB,GAGvC,GAFAnC,KAAKmC,KAAOnC,KAAKkD,YAAYf,GAEzBnC,KAAKsF,SAAU,CACf,IAAIY,EAAelG,KAAKsF,SAASU,OAAOhG,KAAKmG,cAE7CnG,KAAKoG,WAAWF,GAAcrC,SAAQ7D,KAAKmC,MAAQnC,KAAKmC,KAAO,CAACnC,KAAKmC,WAI7EL,EAAU0B,UAAU,QAAQ,WACpBxD,KAAKsF,UACLT,IAAO7E,KAAKsF,UAAUuB,SAASP,qBAIvCxE,EAAU0B,UAAU,WAAW,WAC3BJ,EAAc0D,cAAc9G,KAAKiC,YACjCjC,KAAKyC,UAAW,KAGpBX,EAAU0B,UAAU,UAAU,WAC1BxD,KAAKyC,UAAW,EAChBW,EAAc2D,cAAc/G,KAAKiC,WAAYjC,KAAKoC,YAGtDN,EAAU0B,UAAU,UAAU,WAC1B,IAAIe,EAAQnB,EAAcC,SAAS2D,QAAQhH,KAAKiC,WAAWkB,YAC5C,IAAXoB,IACAnB,EAAc0D,cAAc9G,KAAKiC,YACjCmB,EAAcC,SAAS4D,OAAO1C,EAAO,IAEzCvE,KAAK0C,SAAU,KAGnBZ,EAAU0B,UAAU,aAAa,WAC7B,OAAOxD,KAAK0C,WAGhB,IAAIU,EAAgB,CAChB8D,gBAAiB,qBACjBC,6BAA8B,iBAE9BC,QAAQ,EACRC,QAAQ,EAERhE,SAAU,GAEV0D,cAAe,SAAShF,EAASK,GAC7B,GAAKL,EAAQoB,WAEN,IAAKpB,EAAQoB,UAAUV,UAAYL,EAAS,CAC/CpC,KAAKoH,QAAUhF,EAAQ,GACvBpC,KAAKqH,QAAUjF,EAAQ,GAEvBpC,KAAKsH,UAEL,IAAIC,EAAc1C,IAAO9C,GAASyF,KAAK,sBACvCD,EAAcA,EAAc3C,SAAS2C,GAAe,IAEpDxF,EAAQoB,UAAUsE,OAASC,aAAa3F,EAAQoB,UAAUsE,OAC1D1F,EAAQoB,UAAUsE,MAAQE,YAAW,WACjC5F,EAAQoB,UAAUyE,KAAK,CAACxE,EAAcgE,QAAShE,EAAciE,YAC9DE,GAEH1C,IAAO9C,GAASf,GAAG,aAAa,SAAS6G,GACrCzE,EAAcgE,QAAUS,EAAIC,QAC5B1E,EAAciE,QAAUQ,EAAIE,iBAjBhChG,EAAQoB,UAAY,IAAIrB,EAAUC,EAAS,KAsBnDiG,eAAgB,YACGhI,KAAKqD,UAAY,IAEvB4E,SAAQ,SAASC,GACtBA,EAAQC,aAIhBC,gBAAiB,YACEpI,KAAKqD,UAAY,IAEvB4E,SAAQ,SAASC,GACtBA,EAAQG,cAIhBvB,cAAe,SAAS/E,GAChBA,GAAWA,EAAQoB,YACnBpB,EAAQoB,UAAUsE,OAASC,aAAa3F,EAAQoB,UAAUsE,OAE1D1F,EAAQoB,UAAUmF,OAElBzD,IAAO9C,GAASwG,IAAI,eAI5BjB,QAAS,WACL,GAAItH,KAAKqD,UAAYrD,KAAKqD,SAAS5C,OAAS,EAAG,CAC3C,IAAIiC,EAAU,GACV8F,EAAS,oCACbxI,KAAKqD,SAASiB,MAAK,SAAS4D,GAClBA,EAAQjG,WAAWY,IAAMlC,SAAS8H,eAAeP,EAAQjG,WAAWY,MACtEqF,EAAQjG,WAAWyG,aAAa,KAAKF,GAChC7H,SAAS8H,eAAeD,KACzBN,EAAQI,OACR5F,EAAQY,KAAK4E,IAEjBA,EAAQjG,WAAWyG,aAAa,KAAK,UAIzChG,EAAQjC,OAAS,IACjBT,KAAKqD,SAAWrD,KAAKqD,SAASsF,QAAO,SAASC,GAC1C,OAAOlG,EAAQwB,QAAQ0E,W,68BC9TvCC,KAAO,GA2BX,SAASC,cAAcC,EAAKC,EAAQC,EAAUC,GAC1ClJ,KAAK+I,IAAMA,GAAOpI,SAASwI,SAASC,WACpCpJ,KAAKgJ,OAASA,EACdhJ,KAAKqJ,QAAUC,aACf,IAAIC,EAAmBvJ,KAAKwJ,gBAAgBxJ,MAC5CA,KAAKqJ,QAAQI,mBAAqBF,EAClCvJ,KAAKiJ,SAAWA,EAChBjJ,KAAK0J,OAASR,EACdlJ,KAAK2J,aAAe,IAAIC,KA0H5B,SAASC,eAAeC,GACpBC,eAAeD,IAAcA,EAAUE,gBAAgBF,GACvDG,iBAAiBH,GACbI,sDAAOA,4DACPA,4EAA4B,GAE5BvJ,SAAS8H,eAAe,+BACxB9H,SAAS8H,eAAe,6BAA6B0B,UAAY,UAmBzE,SAASC,yBAAyBN,GAC9B,IAAIT,EAAUS,EAAUT,QACpBgB,EAASP,EAAUd,OAAO,GAC1BsB,EAASR,EAAUd,OAAO,GAC1BuB,EAAWT,EAAUd,OAAO,GAC5BwB,EAAa3F,8CAAO,IAAMwF,GAAQ,GACtC,GAAIC,EACAzF,8CAAO2F,GAAYC,KAAK,IACxBC,0BAA0BrB,EAASiB,EAAQE,OACxC,CACH,IAAIG,EAAMtB,EAAQuB,aAAaC,OAE/B,GAA4B,IAAxBF,EAAI3D,QAAQ,QAAe,CAC3B,IAAI8D,EAAWH,EAAII,UAAU,EAAGJ,EAAI3D,QAAQ,KAAO,GAC/CgE,EAAOL,EAAII,UAAUJ,EAAI3D,QAAQ,KAAO,EAAG2D,EAAIM,YAAY,OAC3DC,EAAWP,EAAII,UAAUJ,EAAIM,YAAY,OAEzCE,EAAatG,8CAAOiG,EAAWI,GAGnCF,EAAOA,EAAKI,QAAQ,UAAW,cAC/BD,EAAWhJ,KAAKwB,yEAAmBqH,IACnCnG,8CAAO2F,GAAYC,KAAKU,QAExBtG,8CAAO2F,GAAYC,KAAKE,GAGhCU,gBAAgBd,EAAUC,GAa9B,SAASc,0BAA0BxB,GAC/B,IAAIT,EAAUS,EAAUT,QACpBgB,EAASP,EAAUd,OAAO,GAC1BsB,EAASR,EAAUd,OAAO,GAC1BuB,EAAWT,EAAUd,OAAO,GAC5BwB,EAAa3F,8CAAO,IAAMwF,GAAQ,GAClCC,EACAI,0BAA0BrB,EAASiB,EAAQE,GAG3CA,EAAWe,OAAOlC,EAAQuB,aAAc,CAAE7K,SAAU,UAExDsL,gBAAgBd,GAepB,SAASiB,uBAAuB1B,GAC5B,IAAIT,EAAUS,EAAUT,QACpBoC,EAAU3B,EAAUd,OAAO,GAE3BuB,EAAWT,EAAUd,OAAO,GAC5B0C,EAAW7G,8CAAO,IAAM4G,GAAS,GACrC,GAAyB,UAArBC,EAASC,QAAb,CAOA,IAAIC,EAAUC,sEAAa,OAC3BhH,8CAAO+G,GAASnB,KAAKpB,EAAQuB,eAE7BkB,uDAAUF,EAAQG,qBAAqB,SAAS,GAAIL,GAAU,GAAO,GACrEL,gBAAgBd,QAVZyB,MAAM,sEAAwEN,EAASC,SA/P/F9C,KAAKoD,qBACLpD,KAAKqD,WAAa,UAwClBpD,cACKvF,OAAO,oBAAqB,KAAKA,OAAO,kBAAmB,KAAKA,OAAO,2BAA4B,KAAKA,OAAO,YAAa,KAAKA,OAAO,mBAAoB,iBAAiBA,OAAO,gBAAiB,KACrMA,OAAO,gBAAgB,WACpB,OAAO,KAOPC,UAAU,SAAS,WACnB,QAAIxD,KAAKqJ,UACLrJ,KAAKqJ,QAAQ8C,KAAK,MAAOnM,KAAK+I,IAAK/I,KAAK0J,OACxC1J,KAAKqJ,QAAQ+C,iBAAiB,eAAgB,qCAC9CpM,KAAKqJ,QAAQ+C,iBAAiB,oBAAqB,gCACnDpM,KAAKqJ,QAAQ+C,iBAAiB,mBAAoB,eAClDpM,KAAKqJ,QAAQgD,KAAK,OACX,MAQX7I,UAAU,UAAU,WACpB,QAAIxD,KAAKqJ,UACDrJ,KAAKiJ,WAAaH,cAAcwD,UAAUC,mBAC1CvM,KAAKiJ,SAAW,MAEpBjJ,KAAKqJ,QAAQ8C,KAAK,OAAQnM,KAAK+I,IAAK/I,KAAK0J,OACzC1J,KAAKqJ,QAAQ+C,iBAAiB,eAAgB,qCAC9CpM,KAAKqJ,QAAQ+C,iBAAiB,mBAAoB,eAClDpM,KAAKqJ,QAAQgD,KAAKrM,KAAKiJ,WAChB,MASXzF,UAAU,mBAAmB,SAAUsG,GACvC,OAAO,WACH,GAAoC,GAAhCA,EAAUT,QAAQmD,WAAiB,CACnC,GAAI3D,KAAKoD,sBAAwBpD,KAAKoD,qBAAuBnC,EAAUH,YAGnE,YADAM,iBAAiBH,GAIrBD,eAAeC,QAOvBtG,UAAU,mBAAmB,SAAUiJ,GACvCzM,KAAK0M,aAAeA,oDACrBlJ,UAAU,sBAAsB,WAE/B,OAAOxD,KAAKqJ,QAAQsD,kBAAkB,WAAa3M,KAAK4M,qBAGxDpJ,UAAU,sBAAsB,WAChCxD,KAAK6M,cAAgBrG,OAAOmB,YAAW,WACnCmF,yEAAmBjI,8CAAO,IAAMgE,KAAKqD,YAAY,IAAI,KACtDlM,KAAK+M,kBAGRvJ,UAAU,uBAAuB,WACjCgD,OAAOkB,aAAa1H,KAAK6M,kBAGzBrJ,UAAU,mBAAmB,WAC7B,OAAOwJ,QAAQxG,OAAOyG,0BAkK9B,IAAIC,0BAA4B,SAAUpD,GACtC,IAAIS,EAAWT,EAAUd,OAAO,GAChCnE,8CAAOlE,SAASqK,MAAMP,KAAKX,EAAUT,QAAQuB,cAC7CjK,SAASwM,KAAK,cACd9B,gBAAgBd,IAiBhB6C,wBAA0B,SAAUtD,GACpC,IAAIuD,EAAe,KACnB,IACIA,EAAevD,EAAUT,QAAQuB,aAAa0C,WAChD,MAAOrM,GAELuF,OAAO+G,SAAWA,QAAQC,IAAIvM,GAGlCoK,gBADevB,EAAUd,OAAO,GACNqE,IAE9B,SAAS3C,0BAA0BrB,EAASoE,EAAcC,GAMtD,IAAIC,EAAW9I,8CAAOwE,EAAQuB,cAC1BgD,EAAaD,EAAStN,OAAO,IAAMoN,GAqEvC,GApEqB,SAAjBC,EAAM/B,SAA+D,SAAzC9G,8CAAO,IAAM4I,GAAc,GAAG9B,SAC1DkC,uDAAgBD,EAAYF,GAAO,GAEnC7I,8CAAO6I,GAAOI,OAAOF,EAAWnD,aAiEd,IAAX5F,8CAAgC,CACvC,IAAIkJ,EAAaJ,EAAStN,OAAO,wBAAyB2N,EAAKD,EAAWE,OAAQC,EAAM,GAhE5F,SAASC,IACL,KAAID,GAAOF,GAAX,CAGA,IAAII,EAAYvJ,8CAAOkJ,EAAWM,IAAIH,IAClCE,EAAU5G,KAAK,QACf0G,IAOYI,EANDF,EAAU5G,KAAK,iBAMF+G,EANoBH,EAAU5G,KAAK,OAO3DgH,GADmCC,EANgCN,KAOvC,EAAOO,EAAgB/N,SAASgO,cAAc,UAEzEnI,OAAOoI,aACRpI,OAAOoI,WAAa,IAEnBpI,OAAOoI,WAAWN,IAA8B,cAAfA,EAwB3BE,GACPC,KAvBAC,EAAchG,aAAa,OAAQ,mBAC/BgG,EAAclC,WAEdkC,EAAcjF,mBAAqB,WACE,WAA7BiF,EAAclC,YAAwD,aAA7BkC,EAAclC,aACvDkC,EAAcjF,mBAAqB,KAC/B+E,GACAC,MAMZC,EAAcG,OAAS,WACfL,GACAC,KAIZC,EAAcI,IAAMP,EACpB5N,SAASoL,qBAAqB,QAAQ,GAAGgD,YAAYL,GACrDlI,OAAOoI,WAAWN,GAAcC,KAjChCL,IAsCR,SAAuBc,EAAcP,GACjC,IAAID,EAAcC,IAAc,EAChC,GAAIO,EAAc,CACd,IAAIC,EAAQD,EAAaE,MAAM,yBAE/B1I,OAAO2I,KAAKF,EAAMnL,KAAK,OACnB0K,GACAC,KA5CJW,CAAchB,EAAU3D,OAAQ0D,IAGxC,IAAoBG,EAAYC,EAAWE,EACnCD,EAAmCE,EAmDvCP,IAGR,SAAS9C,gBAAgBd,SAAU8E,WAC3B9E,WAEoB,iBAAbA,SAAwB4E,KAAK5E,UAAYA,SAAS8E,YAoBjE,SAASC,qBAAqBvG,EAAK/G,GAC/BA,EAAQgI,gBAAkBkD,0BAC1BqC,WAAWxG,EAAK/G,GAuBpB,SAASwN,oBAAoBzG,IAAK/G,SAC9B,IAAIgI,gBAEAA,gBADAhI,QAAQyN,MAAQ3G,cAAcwD,UAAUoD,kBACtBpE,0BACXtJ,QAAQyN,MAAQ3G,cAAcwD,UAAUqD,gBAC7BnE,uBACXxJ,QAAQyN,MAAQ3G,cAAcwD,UAAUsD,UAC7BxC,wBAEAhD,yBAEtBpI,QAAQgI,gBAAkB,SAAUF,UAAWd,QACvChH,QAAQ6N,cAC4B,iBAAzB7N,QAAQ6N,cAEfV,KAAKnN,QAAQ6N,eAEb7N,QAAQ6N,cAAc7F,gBAAgBF,UAAWd,SAGrDgB,gBAAgBF,UAAW9H,QAAQgH,SAG3CuG,WAAWxG,IAAK/G,SAqBpB,SAAS8N,uBAAuB/G,EAAK/G,GACjCA,EAAQgI,gBAAkB,KAC1BuF,WAAWxG,EAAK/G,GAqBpB,SAAS+N,wBAAwBC,EAAMjH,EAAK/G,GACxC,IAAIiH,EAAWgH,YAAYD,EAAMxJ,OAAO0J,eACxClO,EAAQiH,SAAWkH,eAAelH,EAAUzC,OAAO0J,eACnDlO,EAAQgI,gBAAkBkD,0BAC1BqC,WAAWxG,EAAK/G,GAqBpB,SAASoO,wBAAwBJ,EAAMjH,EAAK/G,GACxC,IAAIiH,EAAWgH,YAAYD,EAAMhO,EAAQkO,eACzClO,EAAQiH,SAAWkH,eAAelH,EAAUjH,EAAQkO,eACpDlO,EAAQgI,gBAAkBI,yBAC1BmF,WAAWxG,EAAK/G,GAEpB,SAASqO,oBACLC,oDAAkB9J,OAAO+J,UAAW/J,OAAOgK,iBAe/C,SAASC,aAyBT,SAASlB,WAAWxG,EAAK/G,GACrB,IACI8H,EAAY,IAAIhB,cAAcC,EAAK,CACnC/G,EAAQ0O,aACR1O,EAAQyL,aACRzL,EAAQuI,SACRvI,EAAQ2O,oBACT3O,EAAQiH,SAAUjH,EAAQkH,cACzB0H,0DAAqC,SAAzB1G,yEACPA,6EACDA,4EAA4B,IAIhCJ,EAAU+G,YAAc7O,EAAQ8O,OAChChH,EAAUiH,aAAe/O,EAAQ8O,SAAW9O,EAAQgP,WACpDlH,EAAUE,gBAAkBhI,EAAQgI,iBAAmByG,UACnD3G,EAAUE,iBAAmByG,WAC7BQ,mBAAmBnH,GAEnB9H,EAAQ0K,eACR5C,EAAU4C,aAAe1K,EAAQ0K,cAEjC5C,EAAUT,UACNrH,EAAQiH,SACRa,EAAUoH,SAEVpH,EAAUqH,SAU1B,SAASpH,eAAeD,GAEpB,OAAOsH,EADqBtH,EAAU4C,cACT5C,EAAUT,SAO3C,SAAS4G,YAAYD,EAAME,GACJ,iBAARF,IACPA,EAAOrP,SAAS0Q,MAAMrB,IAG1B,IADA,IAAIsB,EAAO,GACFC,EAAI,EAAGA,EAAIvB,EAAK5L,SAAS3D,SAAU8Q,EAAG,CAC3C,IAAIxP,EAAUiO,EAAK5L,SAASmN,IACxBxP,EAAQyP,MAAUtB,GAAiBA,EAAcnO,EAAQyP,QACzDF,EAAOG,gBAAgBH,EAAMvP,IAGrC,OAAOuP,EAOX,SAASnB,eAAelH,EAAUiH,GAC9B,IAAK,IAAIsB,KAAQtB,EACbjH,EAAWyI,gBAAgBzI,EAAUuI,EAAMtB,EAAcsB,IAE7D,OAAOvI,EAOX,SAASwI,gBAAgBH,EAAMvP,GAC3B,GAAIA,EAAQyP,KAAM,CACd,IAAI9N,EACAoK,GAAS,EACb,OAAQ/L,EAAQ4P,MAChB,IAAK,WACL,IAAK,QACD7D,EAAS/L,EAAQ6P,QACjBlO,EAAQ3B,EAAQ2B,MAChB,MACJ,IAAK,SACL,IAAK,WACL,IAAK,OACL,IAAK,WACDoK,GAAS,EACTpK,EAAQ3B,EAAQ2B,MAChB,MACJ,IAAK,aACL,IAAK,kBACDA,EAAQ,GACR,IAAK,IAAI6N,EAAI,EAAGA,EAAIxP,EAAQC,QAAQvB,SAAU8Q,EAAG,CAC7C,IAAIM,EAAS9P,EAAQC,QAAQuP,GACzBM,EAAOC,WACPhE,GAAS,EACTpK,EAAMJ,KAAKuO,EAAOnO,SAK9B,GAAIoK,EACA,GAAIpK,EAAMqO,MACN,KAAOrO,EAAMjD,OAAS,GAClB6Q,EAAOI,gBAAgBJ,EAAMvP,EAAQyP,KAAM9N,EAAMqO,cAGrDT,EAAOI,gBAAgBJ,EAAMvP,EAAQyP,KAAM9N,GAIvD,OAAO4N,EAOX,SAASI,gBAAgBJ,EAAME,EAAM9N,GAKjC,OAJI4N,EAAK7Q,OAAS,IACd6Q,GAAQ,KAEZA,GAAQE,EAAO,IAAMQ,mBAAmBtO,GAQ5C,IAAIuO,gBAAkB,eAClBC,qBAAuB,qBACvBC,wBAA0B,YAC1BC,yBAA2B,wBAW/B,SAASC,kBACLC,yDACiB3R,SAAS8H,eAAewJ,iBAC9BM,MAAMC,QAAU,OAa/B,SAASvB,mBAAmBnH,KACtBjB,KAAK4J,iBACP3I,EAAU+G,aAAelQ,SAASqK,KAAKuH,MAAMG,OAAS,UACrD9B,0DAAY9G,EAAUiH,aAAejH,EAAU6I,qBAOpD,SAAS1I,iBAAiBH,GACtBA,EAAU8I,sBACN/J,KAAK4J,kBAAoB,GACzB9R,SAASqK,KAAKuH,MAAMG,OAAS,OAC7B7J,KAAK4J,iBAAmB,EACxB3F,yEAAmBjI,8CAAO,IAAMgE,KAAKqD,YAAY,KAEjDrD,KAAK4J,mBAGb,SAASI,oBAAoBC,GACzB,IAAIC,EAAeD,EAAUnG,kBAAkB,gBAC/C,OAA2B,KAApBmG,EAAUE,QAAiC,MAAhBD,GAAwBA,EAAa/L,QAAQ,qBAAuB,EAa1G,SAASsC,aACL,IACID;;;AAkCJ,IAAKA,EAKD,IACIA,EAAU,IAAI4J,eAChB,MAAOhS,GACL+K,MAAM,+KAGd,OAAO3C,EAxFXR,KAAK4J,iBAAmB,EA4FxBjM,OAAOsJ,uBAAyBA,wB,+GC70BhC,SAASoD,EAAeC,EAAcnR,IAC7BmR,GAAgBA,EAAanM,QAAQ,sCAAwC,EAC9E8F,2BAA+BqG,GAE/BrG,oBAAwBqG,GAAc,EAAOnR,GAGrD,SAASoR,EAAiBN,GAEtB,GAAwB,KAApBA,EAAUE,OAEV,OADAE,EAAeJ,EAAUlI,eAClB,EAGX,GADqBkI,EAAUnG,kBAAkB,kBAC7B,CAGhB,OADAhM,SAASwI,SADI,KAEN,EAGX,GADkB2J,EAAUnG,kBAAkB,qBAC7B,CAEb,IADoBmG,EAAUnG,kBAAkB,iBAI5C,GAAiC,GADR9H,IAAO,uBACTpE,OACnBoE,IAAOlE,SAASqK,MAAMP,KAAKqI,EAAUlI,cACxB/F,IAAO,IAAMqF,SAAS1D,OAAOlG,OAAOK,UAC1C0F,YAAY,UAAUuB,YAG7BsL,EAAeJ,EAAUlI,cAGjC,OAAO,EAEX,OAAO,EAGX,SAAS8B,KACT,SAAS4D,O,uICzBT3P,SAAS0S,SAAQC,WAAoB,kBAAoB,kBAAkB,SAAUzL,GACjF,IAAI9F,EAAU8F,EAAI7C,KAAKuO,YAAYxR,UACnC,KAAKuR,aAAuBE,MAAMC,YAAaD,MAAME,UAAY,CAC7D,IAAIC,GAAKC,SAAY7R,EAASuE,uBAC1BqN,IAAO5R,EAAQmN,MAAM5I,gCACrBuN,SAAmBF,GAAI,SAAUG,GAC7B,OAAOjP,IAAOiP,GAAiBC,SAASzN,4BAAqC,MAGjFvE,EAAQmN,MAAM5I,gCACduN,SAAmB9R,OAkB/BpB,SAAS0S,QAAQ,WAAW,SAAUxL,GAClC,IAAImM,SAAanM,GAAM,CACnB,IAAIoM,EAAOpM,EAAI9F,UACfpB,SAASwM,KAAK7G,wBAAkC,CAC5CiN,YAAa1L,EACboM,KAAMA,QAKlBtT,SAAS0S,QAAQ,eAAe,SAAUG,GAEtC,OADAU,MAAMC,KAAKX,IACJ,KAEX7S,SAAS0S,QAAQ,cAAc,SAAUG,GACrC,IAAIY,EAAwB,SAAUC,GAElC,YAA2C,IADjCxP,IAAOwP,GACC/C,KAAK,kBAE3BgD,YAAU3T,SAASqK,KAAKtC,aAAa,gBAAiB,gBACtD7D,IAAO,QAAQ7D,GAAG,YAAasF,oBAA6B,SAAUuB,KAC7D0M,SAAwBvU,OAASoU,EAAsBpU,OACxD6T,SAAmB7T,SAE3B6E,IAAO,QAAQ7D,GAAG,WAAYsF,oBAA6B,SAAUuB,GAC7DuM,EAAsBpU,OACtB6T,QAAkB7T,SAE1B6E,IAAO,QAAQ7D,GAAG,QAASsF,oBAA6B,SAAUuB,KACzD0M,SAAwBvU,OAASoU,EAAsBpU,OACxD6T,SAAmB7T,SAE3B6E,IAAO,QAAQ7D,GAAG,OAAQsF,mBAA8B,IAAMA,mBAA4B,SAAUuB,KAC3F0M,SAAwBvU,OAASoU,EAAsBpU,OACxD6T,QAAkB7T,SAE1B6E,IAAO,QAAQ7D,GAAG,wCAAyC,CACvDsF,mBACAA,sBACAA,8BACAA,wBACFxC,KAAK,MAAM,SAAU+D,GACH,aAAZA,EAAI8J,MAAmC,cAAZ9J,EAAI8J,OAC9B4C,SAAwBvU,OAASoU,EAAsBpU,OAAS6T,SAAmB7T,QAEnFuU,SAAwBvU,OAASoU,EAAsBpU,OAAS6T,OAAiB7T,MAEtE,WAAZ6H,EAAI8J,MAAiC,YAAZ9J,EAAI8J,OACzB3R,KAAKwU,WAAW3R,IAAMyD,kCACtBmO,qBAAkC,QAClCzU,KAAKwU,WAAW3R,IAAMyD,qCACtBmO,qBAAkC,eAG9C5P,IAAO,UAAU7D,GAAG,mBAAoB,aAAa,SAAU6G,GACvD7H,KAAKwU,WAAWrK,UAAUnD,QAAQ,cAAgB,EAClDV,aAAsBtG,MAEtBsG,aAAsBtG,MAE1B6H,EAAI3G,oBAER2D,IAAO,UAAU7D,GAAG,mBAAoBsF,wBAAiC,SAAUuB,GAC/E,KAAK0M,SAAwBvU,OAASoU,EAAsBpU,OAA+D,SAAtD6E,IAAO7E,KAAKwU,YAAYhN,KAAK,qBAAiC,CAC/H3C,IAAO7E,MAAM0U,WAAWrO,YAAYC,oBAA6BhC,MAAK,SAAUC,EAAOxC,GACnF8C,IAAOA,IAAO7E,MAAMwH,KAAK,UAAUX,SAAS,aAEhDhC,IAAO7E,MAAM6G,SAASP,oBACtBzB,IAAOA,IAAO7E,MAAMwH,KAAK,UAAUnB,YAAY,UAE/C,IAAIsO,EAAU9P,IAAO7E,MAAM4U,QAAQ,SAASC,KAAK,0BAClB,mBAA/BhQ,IAAO7E,MAAMwH,KAAK,SAAgCmN,EAAQ9N,SAAS,oBAAsB8N,EAAQtO,YAAY,wBAGrHxB,IAAO,IAAMyB,yBAAkCtF,GAAG,wBAAwB,SAAU6G,GAChFA,EAAI3G,iBACJuT,qBAAkC,aAOtC5P,IAAO,QAAQ7D,GAAG,2BAA4B,iBAAiB,SAAU6G,IACxD,YAAZA,EAAI8J,MAAkC,SAAZ9J,EAAI8J,OAAoBvO,kBAA4BpD,MACnE,aAAZ6H,EAAI8J,MAAuBvO,kBAA4BpD,KAAM,CACzD6H,EAAIC,QACJD,EAAIE,aAQZlD,IAAO,mBAAmB7D,GAAG,YAAasF,+BAAwC,SAAUuB,GACxF4M,sBAAmC5M,EAAK7H,UAExCsT,aACA3S,SAASqK,KAAK8J,iBAAiB,cAAc,SAAU7T,GACnDuF,OAAOuO,UAAYvO,OAAOuO,SAASzM,OAAS9B,OAAOuO,SAASC,QAAUxO,OAAOuO,SAASzM,YACvD,IAApB2M,MACPA,sBAAmC,MACxC,GACHtU,SAASqK,KAAK8J,iBAAiB,aAAa,SAAU7T,OAEnD,IAOP4D,IAAO,aAAa7D,GAAG,uBAAuB,WAC1C6D,IAAO,uBAAuBqQ,YAAY,cAIlD,QAAerB,EAAf,G,wDC7JA,IAAI3J,EAAM,CACNiL,KAAM,CACFC,kBAAkB,EAClBC,kBAAkB,EAClBC,aAAc,KACdC,YAAaC,eAAeD,aAEhCE,KAAM,IAGV,QAA8B,IAAnBC,EACP,IAAIA,GAAiB,EAEzB,SAASC,IACL,OAAOH,eAAeG,kBAMR,IAAPzL,IACPA,EAAM,CAAE0L,MAAO,UAEI,IAAZ1L,EAAIiL,OACXjL,EAAIiL,KAAO,CACPC,kBAAkB,EAClBC,kBAAkB,EAClBC,aAAc,YAIG,IAAdpL,EAAI2L,SACX3L,EAAI2L,OAAS,CACTJ,KAAM,CACF,kBAAmB,yBACnB,qBAAsB,4BACtB,sBAAuB,6BACvB,sBAAuB,sBACvB,sBAAuB,sBACvB,yBAA0B,yBAC1B,gBAAiB,0BAErBK,QAAS,CACLC,QAAS,KACTC,MAAO,YAIe,IAAvBxP,OAAOyP,eACdzP,OAAOyP,aAAe,IAGtBT,eAAeT,WACf7K,EAAIuL,KAAJ,sBAAoCD,eAAeT,SAASU,KAAKS,sBACjEhM,EAAIuL,KAAJ,0BAAwCD,eAAeT,SAASU,KAAKU,2BAGzE3P,OAAO0D,IAAMA,EACb1D,OAAO4P,WA1CU,CACbC,WAAY,GACZZ,KAAM,IAyCVjP,OAAOmP,aAAeA,G,0PCrDtBW,EAAUhK,UAAUiK,UAAY,SAAS/C,GAsBrC,GArBH8C,EAAUE,YAAa,EACpBxW,KAAKyW,UAAW,EACXzW,KAAK0W,QACN1W,KAAK0W,MAAQ1W,KAAK2W,gBAElB3W,KAAKgC,QAAQ4U,SACb5W,KAAK6W,UAAYjS,SAASkS,QAAQC,SAAS/W,KAAK+B,QAAS,YAAc,GACvE/B,KAAK+B,QAAQwQ,MAAMtN,OAASjF,KAAKgC,QAAQ4U,QAEzC5W,KAAKgC,QAAQgV,WACbhX,KAAKiX,OAASjX,KAAK+B,QAAQmV,WAAU,GACrClX,KAAKmX,oBAA4D,YAArCnX,KAAK+B,QAAQgV,SAAS,YAC7C/W,KAAKmX,qBACNC,EAASC,WAAWrX,KAAK+B,SAE7B/B,KAAK+B,QAAQyS,WAAW8C,aAAatX,KAAKiX,OAAQjX,KAAK+B,SACf,OAApC/B,KAAK+B,QAAQyS,WAAW7I,SACxBhL,SAASqK,KAAK+D,YAAY/O,KAAK+B,UAInC/B,KAAKgC,QAAQuV,cAAe,CAC5BH,EAASI,UACT,IAAIC,EAAU,CAACvD,MAAMwD,SAASlE,GAAQU,MAAMyD,SAASnE,IACjDxI,EAAOrK,SAASoL,qBAAqB,QAAQ,GAC7C6L,EAAK5X,KAAK+B,QACd/B,KAAKiX,OAASW,EAAGV,WAAU,GACvBW,EAAUC,QAAQC,KAGlB/X,KAAKiX,OAAOe,kBACZhY,KAAKiX,OAAOgB,gBAAgBL,EAAGV,WAAU,KAE7CU,EAAGpD,WAAW8C,aAAatX,KAAKiX,OAAQW,GACxCA,EAAG/U,GAAK,SAAW+U,EAAG/U,GACtB+U,EAAGtP,OAEH8O,EAASC,WAAWO,GACpBA,EAAGpD,WAAW0D,YAAYN,GAC1B5M,EAAK+D,YAAY6I,GAEK,OAAlBA,EAAGrF,MAAM9L,OAAqC,OAAnBmR,EAAGrF,MAAM5L,SACpCiR,EAAGrF,MAAM9L,MAAQqQ,QAAQqB,SAASnY,KAAKiX,QAAU,KACjDW,EAAGrF,MAAM5L,OAASmQ,QAAQsB,UAAUpY,KAAKiX,QAAU,MAIvDjX,KAAKqY,kBAAqBvB,QAAQsB,UAAUpY,KAAKiX,QAAU,EAE3DjX,KAAKsY,KAAKb,GAEVG,EAAGhQ,OAGP,GAAI5H,KAAKgC,QAAQuW,OACb,GAAIvY,KAAKgC,QAAQuW,QAAU/R,OAAQ,CAC/B,IAAIgS,EAAQxY,KAAKyY,iBAAiBzY,KAAKgC,QAAQuW,QAC/CvY,KAAK0Y,mBAAqBF,EAAM5S,KAChC5F,KAAKqY,kBAAoBG,EAAM3S,SAE/B7F,KAAK0Y,mBAAqB1Y,KAAKgC,QAAQuW,OAAOI,WAC9C3Y,KAAKqY,kBAAoBrY,KAAKgC,QAAQuW,OAAOK,UAIrDC,EAAWC,OAAO,UAAW9Y,KAAMwT,GAE/BxT,KAAKgC,QAAQ+W,aAAa/Y,KAAKgC,QAAQ+W,YAAY/Y,KAAK+B,UAIhEuU,EAAUhK,UAAUgM,KAAO,SAASU,GAChC,IAAIC,EAAM7B,EAAS8B,iBAAiBlZ,KAAK+B,SAEzC,GAAI/B,KAAKgC,QAAQgV,SAAU,CACvB,IAAImC,EAAI/B,EAASgC,WAAWpZ,KAAK+B,SACjCkX,EAAI,IAAME,EAAE,GAAK/B,EAASiC,OAC1BJ,EAAI,IAAME,EAAE,GAAK/B,EAASkC,OAG9B,IAAIC,EAAIvZ,KAAK2W,eACbsC,EAAI,IAAMM,EAAE,GACZN,EAAI,IAAMM,EAAE,GAETvZ,KAAKgC,QAAQuW,SACZU,EAAI,IAAMjZ,KAAKgC,QAAQuW,OAAOI,WAC9BM,EAAI,IAAMjZ,KAAKgC,QAAQuW,OAAOK,WAG9B5Y,KAAKgC,QAAQuW,QAAWvY,KAAKgC,QAAQuW,QAAU/R,QAAUxG,KAAKwZ,iBAC9DP,EAAI,IAAMjZ,KAAKgC,QAAQuW,OAAOI,WAAa3Y,KAAK0Y,mBAChDO,EAAI,IAAMjZ,KAAKgC,QAAQuW,OAAOK,UAAY5Y,KAAKqY,mBAGnD,IAAIoB,EAAI,CAAC,EAAE,GAAGC,IAAI,SAASnI,GAIvB,OAAQyH,EAAMzH,GAAK0H,EAAI1H,IAAMvR,KAAKgC,QAAQ2X,aAAgB,EAAK3Z,KAAK4Z,OAAOrI,KAC7EsI,KAAK7Z,OAEHA,KAAKgC,QAAQ8X,OAETL,EADAM,OAAOC,WAAWha,KAAKgC,QAAQ8X,MAC3B9Z,KAAKgC,QAAQ8X,KAAKL,EAAE,GAAIA,EAAE,GAAIzZ,MAE9B+Z,OAAOlW,QAAQ7D,KAAKgC,QAAQ8X,MACxBL,EAAEC,IAAI,SAASO,EAAG1I,GAClB,OAAQ0I,EAAIja,KAAKgC,QAAQ8X,KAAKvI,IAAI2I,QAAUla,KAAKgC,QAAQ8X,KAAKvI,IAChEsI,KAAK7Z,OAEHyZ,EAAEC,IAAI,SAASO,GACf,OAAQA,EAAIja,KAAKgC,QAAQ8X,MAAMI,QAAUla,KAAKgC,QAAQ8X,MACxDD,KAAK7Z,QAKfA,KAAKgC,QAAQuV,gBAC4B,YAArCvX,KAAK+B,QAAQgV,SAAS,YACtB0C,EAAE,GAAKT,EAAM,GAAKhZ,KAAKqY,kBAEvBoB,EAAE,IAAMzZ,KAAKqY,mBAAqB,IAI1C,IAAI9F,EAAQvS,KAAK+B,QAAQwQ,MAEnBvS,KAAKgC,QAAQmY,YAA2C,cAA3Bna,KAAKgC,QAAQmY,aAC5C5H,EAAM3M,KAAO6T,EAAE,GAAK,MAClBzZ,KAAKgC,QAAQmY,YAA2C,YAA3Bna,KAAKgC,QAAQmY,aAC5C5H,EAAM1M,IAAM4T,EAAE,GAAK,MAGC,UAApBlH,EAAM6H,aAAwB7H,EAAM6H,WAAa,KAGzD9D,EAAUhK,UAAU+N,SAAW,SAAS7G,GACpC,IAAKuG,OAAOO,YAAYhE,EAAUiE,UAAUva,KAAK+B,YACzCuU,EAAUiE,UAAUva,KAAK+B,YAE5ByR,EAAMgH,SAAmC,GAAxBhH,EAAMgH,QAAQ/Z,QAAgByT,MAAMuG,YAAYjH,IAAQ,CAE1E,IACIkH,EADMxG,MAAMnS,QAAQyR,GACL7H,QAAQgP,cAC3B,GAAgB,SAAZD,GACY,UAAZA,GACY,UAAZA,GACY,UAAZA,GACY,YAAZA,EAAwB,OAE5B,GAAG7V,EAAO7E,KAAK+B,SAAS3B,QAAQ,eAAeK,OAAS,GAAiB,KAAZia,EACzD,OAGJ,IAAIjD,EAAU,CAACvD,MAAMwD,SAASlE,GAAQU,MAAMyD,SAASnE,IACjDyF,EAAM7B,EAAS8B,iBAAiBlZ,KAAK+B,SACzC/B,KAAK4Z,OAAS,CAAC,EAAE,GAAGF,KAAI,SAASnI,GAC7B,OAAQkG,EAAQlG,GAAK0H,EAAI1H,MAG7BsH,EAAW+B,SAAS5a,MACpBA,KAAK6a,UAAYhC,EAAWiC,kBAC5B5G,MAAMC,KAAKX,GACXxT,KAAK+B,QAAQoL,KAAK,iBAAkB,CAACoG,YAAaC,MAI1DuH,EAAWC,WAAa,SAAShC,EAAOjX,EAASkZ,GAG7C,IAAIC,EAAKrW,EAAOoW,EAAKlZ,SACjBoZ,EAAID,EAAGzU,QACP2U,EAAIF,EAAGvU,SACP0U,EAAKH,EAAGtB,SACR0B,EACGD,EAAGzV,KAAOuV,EADbG,EAEED,EAAGxV,IAAMuV,EAEXG,EAAoBvC,EAAM,GAAKqC,EAAGzV,MAAQoT,EAAM,GAAKsC,GAAWtC,EAAM,GAAKqC,EAAGxV,KAAOmT,EAAM,GAAKsC,EAEpG,OAASL,EAAKlZ,SAAWA,IAChBA,EAAQyS,aAAe7U,EAAEgB,SAASqK,QAAYiQ,EAAKO,aAAgBxb,KAAKyb,YAAY1Z,EAASkZ,OAC5FA,EAAKS,QAAY5E,QAAQ6E,WAAW5Z,GAAS6Z,QAAO,SAAS3B,GAAK,OAAOgB,EAAKS,OAAOxX,QAAQ+V,QAChGsB,GAGXjF,EAAUhK,UAAUuP,WAAa,SAASrI,EAAOsI,GAM7C,GALHxF,EAAUE,YAAa,EACpBxW,KAAKyW,UAAW,EAEZnC,SAAQ3T,SAASqK,KAAK+Q,YAAc,cAEpC/b,KAAKgC,QAAQga,MAAO,CACpB5E,EAASI,UACT,IAAIC,EAAU,CAACvD,MAAMwD,SAASlE,GAAQU,MAAMyD,SAASnE,IACrDuH,EAAWnT,KAAK6P,EAASzX,KAAK+B,SAG9B/B,KAAKgC,QAAQgV,WACRhX,KAAKmX,sBACNC,EAAS6E,WAAWjc,KAAK+B,SACc,OAAnC/B,KAAKiX,OAAOzC,WAAW7I,SACvB3L,KAAKiX,OAAOzC,WAAW8C,aAAatX,KAAK+B,QAAS/B,KAAKiX,gBAGxDjX,KAAKmX,oBACZL,QAAQoF,OAAOlc,KAAKiX,QACpBjX,KAAKiX,OAAS,MAGlB,IAAIkF,GAAU,EAEVL,KACAK,EAAUpB,EAAW5N,KAAKqG,EAAOxT,KAAK+B,YACxBoa,GAAU,IAExBA,GAAWnc,KAAKgC,QAAQoa,WAAWpc,KAAKgC,QAAQoa,UAAUpc,KAAK+B,SACnE8W,EAAWC,OAAO,QAAS9Y,KAAMwT,GAEjC,IAAI6I,EAASrc,KAAKgC,QAAQqa,OACtBA,GAAUtC,OAAOC,WAAWqC,KAASA,EAASA,EAAOrc,KAAK+B,UAE9D,IAAIwX,EAAIvZ,KAAK2W,eACT0F,GAAUrc,KAAKgC,QAAQsa,aACR,GAAXH,GAA0B,WAAVE,GAChBrc,KAAKgC,QAAQsa,aAAatc,KAAK+B,QACvBwX,EAAE,GAAKvZ,KAAK0W,MAAM,GAAI6C,EAAE,GAAKvZ,KAAK0W,MAAM,IAEpD1W,KAAK0W,MAAQ6C,EAGbvZ,KAAKgC,QAAQ4U,SACb5W,KAAK+B,QAAQwQ,MAAMtN,OAASjF,KAAK6W,UAIjC7W,KAAKiX,SAAWjX,KAAKiX,OAAO1E,MAAMtN,OAASjF,KAAK6W,YAGpD7W,KAAKgC,QAAQua,WAAavc,KAAKgC,QAAQua,UAAUvc,KAAK+B,SAElD/B,KAAKgC,QAAQuV,gBAEkB,MAA3BvX,KAAK+B,QAAQyS,aACbsC,QAAQxO,KAAKtI,KAAK+B,SAClBpC,EAAEgB,SAASqK,MAAM+D,YAAY/O,KAAK+B,UAEtC+U,QAAQoF,OAAOlc,KAAK+B,SACpB,IAAIuU,EAAUtW,KAAKiX,OAAQjX,KAAKgC,UAGpC6W,EAAW2D,WAAWxc,MACtB+a,EAAW0B,SAGfC,EAASC,eAAiBD,EAASE,QACnCF,EAASE,QAAU,SAAS7a,EAAS8a,EAAQC,GACpC/a,EAAQgb,aAAa,WACtBL,EAASC,eAAe5a,EAAS8a,EAAQC,IAIjDJ,EAASM,oBAAsBN,EAASO,aACxCP,EAASO,aAAe,SAASlb,EAAS8a,EAAQC,GACzC/a,EAAQgb,aAAa,WACtBL,EAASM,oBAAoBjb,EAAS8a,EAAQC,IAItD,IAAII,EAAmBC,EAAMC,OAAO,CAChCC,WAAY,SAAStb,EAASub,GAC1Btd,KAAK+B,QAAUpC,EAAEoC,GACjB/B,KAAKsd,SAAWA,EAChBtd,KAAKud,UAAYb,EAASc,UAAUxd,KAAK+B,UAE7C0b,QAAS,WACLzd,KAAKud,UAAYb,EAASc,UAAUxd,KAAK+B,UAE7C2b,MAAO,SAASC,EAAWC,GACvBlB,EAASmB,SACN7d,KAAKud,WAAab,EAASc,UAAUxd,KAAK+B,UACzC/B,KAAKsd,SAAStd,KAAK+B,QAAS6b,MAMxClB,EAASoB,+BAAiC,WACtC,OAAOZ,GAIXnC,EAAWnT,KAAO,SAASoR,EAAOjX,GAC9B,GAAK/B,KAAK+d,MAAMtd,OAAhB,CACA,IAAIwa,EAAM+C,EAAW,GAErBhe,KAAK+d,MAAMzZ,MAAK,SAAS2W,GAClBF,EAAWC,WAAWhC,EAAOjX,EAASkZ,MAClClZ,EAAQgb,aAAa,wBAA0Bhb,EAAQgb,aAAa,0BAC7C,uBAAnB9B,EAAKlZ,QAAQc,IAAkD,wBAAnBoY,EAAKlZ,QAAQc,IAI5Dmb,EAAS1a,KAAK2X,OAKtB+C,EAASvd,OAAS,IAClBwa,EAAOF,EAAWkD,iBAAiBD,IAEnChe,KAAKke,aAAele,KAAKke,aAAejD,GAC3Cjb,KAAKwc,WAAWxc,KAAKke,aAElBjD,IACA7D,EAAS+G,OAAOlD,EAAKlZ,QAASiX,EAAM,GAAIA,EAAM,IAC1CiC,EAAK2B,UAED7a,EAAQ4Z,aAAazX,QAAQ,UAC7BnC,EAAQka,aACRla,EAAQ4Z,aAAazX,QAAQ,WACrBnC,EAAQ4Z,aAAayC,IAAI,8BAAgCrc,EAAQ4Z,aAAazX,QAAQ,kBAAoB,kBAAqB,KAC/HnC,EAAQ4Z,aAAayC,IAAI,gCAAkCrc,EAAQ4Z,aAAazX,QAAQ,kBAAoB,kBAAqB,KACzInC,EAAQwQ,MAAMxS,SAAW,WACzBgC,EAAQwQ,MAAMC,QAAU,eACxBzQ,EAAQwQ,MAAM9L,MAAQ,GACtB1E,EAAQwQ,MAAM5L,OAAS,IAG3BsU,EAAK2B,QAAQ7a,EAASkZ,EAAKlZ,QAASqV,EAAS0F,QAAQ7B,EAAK6B,QAAS7B,EAAKlZ,WAGxEkZ,GAAQjb,KAAKke,aAChBnD,EAAWH,SAASK,M","file":"_chunks/chunk.5028.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport './commons.bare.main';\nimport heartbeat from '../components/components.heartbeat';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\nimport aboutDialog from '../components/components.about';\nimport webHelp from '../components/components.webHelp';\nimport $ from 'jquery';\n\n// Basic stdnav plugins from js-sdk\nimport stdnav from 'js-sdk/src/common/stdnav/stdnav';\nimport stdnavPluginAnchor from 'js-sdk/src/common/stdnav/plugins/stdnavPluginAnchor';\nimport stdnavPluginButton from 'js-sdk/src/common/stdnav/plugins/stdnavPluginButton';\nimport stdnavPluginGrid from 'js-sdk/src/common/stdnav/plugins/stdnavPluginGrid';\nimport stdnavPluginList from 'js-sdk/src/common/stdnav/plugins/stdnavPluginList';\nimport stdnavPluginTable from 'js-sdk/src/common/stdnav/plugins/stdnavPluginTable';\nimport stdnavPluginActionMenu from '../stdnav/plugins/stdnavPluginActionMenu';\nimport stdnavPluginDynamicList from '../stdnav/plugins/stdnavPluginDynamicList';\nimport stdnavPluginForms from '../stdnav/plugins/stdnavPluginForms';\nimport stdnavPluginToolbar from '../stdnav/plugins/stdnavPluginToolbar';\nimport stdnavPluginWorkflowCard from 'js-sdk/src/common/stdnav/plugins/stdnavPluginWorkflowCard';\nimport '../config/dateAndTimeSettings';\n\n//Heartbeat\nheartbeat.initialize(jrsConfigs.heartbeatInitOptions);\nheartbeat.start();\njrsConfigs.initAdditionalUIComponents && aboutDialog.initialize();    //Web help\n//Web help\nvar helpLink = $('#helpLink');\nif (helpLink) {\n    helpLink.on('click', function (e) {\n        e.preventDefault();\n        webHelp.displayWebHelp();\n    });\n}\nif (jrsConfigs.enableAccessibility === 'true') {\n    // Basic stdnav plugins from js-sdk\n    stdnav.activate();\n    stdnavPluginAnchor.activate(stdnav);\n    stdnavPluginButton.activate(stdnav);\n    stdnavPluginForms.activate(stdnav);\n    stdnavPluginGrid.activate(stdnav);\n    stdnavPluginList.activate(stdnav);\n    //stdnavPluginTable.activate(stdnav);    // JasperServer-specific stdnav plugins from jrs-ui\n    // JasperServer-specific stdnav plugins from jrs-ui\n    stdnavPluginActionMenu.activate(stdnav);\n    stdnavPluginDynamicList.activate(stdnav);\n    stdnavPluginToolbar.activate(stdnav);\n    stdnavPluginWorkflowCard.activate(stdnav);\n    stdnav.start();\n}\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    actualX:0,\n    actualY:0,\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            this.actualX = offsets[0];\n            this.actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([tooltipModule.actualX, tooltipModule.actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                tooltipModule.actualX = evt.clientX;\n                tooltipModule.actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.setAttribute(\"id\",null);\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n *  @author: Angus Croll\n * @version: $Id$\n */\n/* global confirm, serverIsNotResponding, alert, extraPostData, ajaxError, ajaxErrorHeader*/\n/**\n *  Generic Ajax Utils\n */\n/**\n * Global Ajax Object\n */\nimport jQuery from 'jquery';\nimport dialogs from '../components/components.dialogs';\nimport {copyTable, copyTableJquery, isIPad, popOverlayObject} from \"../util/utils.common\";\nimport {errorHandler, showMessageDialog} from \"./core.ajax.utils\";\nimport {JRS} from \"../namespace/namespace\";\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport Builder from 'scriptaculous/src/builder';\n\nvar ajax = {};    //cancel all requests sent before this date (in ms)\n//cancel all requests sent before this date (in ms)\najax.cancelRequestsBefore;\najax.LOADING_ID = 'loading';    /**\n *  @class Manages incoming Ajax requests and processes corresponding Ajax responses\n *  based on specified attributes.\n *  Responses are bound to to the instance of AjaxRequester created by the corresponing request\n *\n *  @constructor\n *  @param {String} url address for server request\n *  @param {Array} params [1]fillLocation [2]fromLocation [3]Array of callbacks\n *  @param {String} postData user data for posting - where applicable\n *  @return a new AjaxRequester instance\n *  @type AjaxRequester\n */\n/**\n *  @class Manages incoming Ajax requests and processes corresponding Ajax responses\n *  based on specified attributes.\n *  Responses are bound to to the instance of AjaxRequester created by the corresponing request\n *\n *  @constructor\n *  @param {String} url address for server request\n *  @param {Array} params [1]fillLocation [2]fromLocation [3]Array of callbacks\n *  @param {String} postData user data for posting - where applicable\n *  @return a new AjaxRequester instance\n *  @type AjaxRequester\n */\nfunction AjaxRequester(url, params, postData, synchronous) {\n    this.url = url || document.location.toString();\n    this.params = params;\n    this.xmlhttp = getXMLHTTP();\n    var rsChangeFunction = this.processResponse(this);\n    this.xmlhttp.onreadystatechange = rsChangeFunction;\n    this.postData = postData;\n    this.async = !synchronous;\n    this.requestTime = +new Date();    //(new Date).getTime()\n}    /////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation\n/////////////////////////////////////////////////////////////////////////\n//(new Date).getTime()\n/////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation\n/////////////////////////////////////////////////////////////////////////\nAjaxRequester    //constants for targetted update modes\n    .addVar('CUMULATIVE_UPDATE', 'c').addVar('ROW_COPY_UPDATE', 'r').addVar('TARGETTED_REPLACE_UPDATE', 't').addVar('EVAL_JSON', 'j').addVar('DUMMY_POST_PARAM', 'dummyPostData').addVar('MAX_WAIT_TIME', 2000)    //default function assignment\n    .addVar('errorHandler', function () {\n        return false;\n    })    //the function to validate and report errors\n/**\n     * Submit an ajax get request\n     * @private\n     * @return true if successful\n     * @type boolean\n     */.addMethod('doGet', function () {\n        if (this.xmlhttp) {\n            this.xmlhttp.open('GET', this.url, this.async);\n            this.xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            this.xmlhttp.setRequestHeader('If-Modified-Since', 'Sat, 1 Jan 2000 00:00:00 GMT');\n            this.xmlhttp.setRequestHeader('x-requested-with', 'AJAXRequest');\n            this.xmlhttp.send(null);\n            return true;\n        }\n        return false;\n    })    /**\n     * Submit an ajax post request\n     * @private\n     * @return true if successful\n     * @type boolean\n     */.addMethod('doPost', function () {\n        if (this.xmlhttp) {\n            if (this.postData === AjaxRequester.prototype.DUMMY_POST_PARAM) {\n                this.postData = null;\n            }\n            this.xmlhttp.open('POST', this.url, this.async);\n            this.xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            this.xmlhttp.setRequestHeader('x-requested-with', 'AJAXRequest');\n            this.xmlhttp.send(this.postData);\n            return true;\n        }\n        return false;\n    })    /**\n     * Function to process the detected Ajax response\n     * @param {AjaxRequester} the instance who's request we are processing\n     * @private\n     * @return the handler function\n     * @type function\n     */.addMethod('processResponse', function (requester) {\n        return function () {\n            if (requester.xmlhttp.readyState == 4) {\n                if (ajax.cancelRequestsBefore && ajax.cancelRequestsBefore > requester.requestTime) {\n                //ignore this request\n                    ajaxRequestEnded(requester);\n                    return;\n                }    //if (requester.verifyAjaxResponse()) {\n                //if (requester.verifyAjaxResponse()) {\n                handleResponse(requester);    //}\n            }\n        };\n    })    /**\n     * Set error handler for this requester\n     * @param {function} the error handler function\n     * @private\n     */.addMethod('setErrorHandler', function (setErrorHandler) {\n        this.errorHandler = errorHandler;\n    }).addMethod('verifyAjaxResponse', function () {\n    //prompt if no server\n        return this.xmlhttp.getResponseHeader('Server') || this.confirmContinue();\n    })    /**\n     * Start countdown to \"no response\" message\n     */.addMethod('startResponseTimer', function () {\n        this.responseTimer = window.setTimeout(function () {\n            dialogs.popup.show(jQuery('#' + ajax.LOADING_ID)[0], true);\n        }, this.MAX_WAIT_TIME);\n    })    /**\n     * Cancel countdown to \"no response\" message\n     */.addMethod('cancelResponseTimer', function () {\n        window.clearTimeout(this.responseTimer);\n    })    /**\n     * Cancel countdown to \"no response\" message\n     */.addMethod('confirmContinue', function () {\n        return confirm(window.serverIsNotResponding);\n    });    /////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation; End\n/////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// AjaxRequester: End\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Global Space: Start\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handling\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Delegate to handler for ajax response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n/////////////////////////////////////////////////////////////////////////\n// Prototype Augmentation; End\n/////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// AjaxRequester: End\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Global Space: Start\n///////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handling\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Delegate to handler for ajax response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\nfunction handleResponse(requester) {\n    checkForErrors(requester) || requester.responseHandler(requester);\n    ajaxRequestEnded(requester);\n    if (JRS && JRS.vars) {\n        JRS.vars.ajax_in_progress = false;\n    }\n    if (document.getElementById('mainTableContainerOverlay'))\n        document.getElementById('mainTableContainerOverlay').className = 'hidden';\n}    ///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handlers\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Default handler for responses triggered by targeted ajax requests\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// Response Handlers\n///////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Default handler for responses triggered by targeted ajax requests\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction targettedResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var fillId = requester.params[0];\n    var fromId = requester.params[1];\n    var callback = requester.params[2];\n    var toLocation = jQuery('#' + fillId)[0];\n    if (fromId) {\n        jQuery(toLocation).html('');\n        updateUsingResponseSubset(xmlhttp, fromId, toLocation);\n    } else {\n        var res = xmlhttp.responseText.trim();    //dirty solution for old dashboards because we haven't common format pattern for ajax response\n        //dirty solution for old dashboards because we haven't common format pattern for ajax response\n        if (res.indexOf('<div') === 0) {\n            var opentTag = res.substring(0, res.indexOf('>') + 1);\n            var body = res.substring(res.indexOf('>') + 1, res.lastIndexOf('</'));\n            var closeTag = res.substring(res.lastIndexOf('</'));    //we want all the retrieved content - throw it all in\n            //we want all the retrieved content - throw it all in\n            var ajaxBuffer = jQuery(opentTag + closeTag);\n\n            // Escape extra level per JSON being inserted into & read from the page\n            body = body.replace(/&quot;/g, \"&amp;quot;\");\n            ajaxBuffer.text(xssUtil.hardEscape(body));\n            jQuery(toLocation).html(ajaxBuffer);\n        } else {\n            jQuery(toLocation).html(res);\n        }\n    }\n    invokeCallbacks(callback, toLocation);\n}    /**\n * Handler adds new content to existing content in specified container\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n/**\n * Handler adds new content to existing content in specified container\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction cumulativeResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var fillId = requester.params[0];\n    var fromId = requester.params[1];\n    var callback = requester.params[2];\n    var toLocation = jQuery('#' + fillId)[0];\n    if (fromId) {\n        updateUsingResponseSubset(xmlhttp, fromId, toLocation);\n    } else {\n        //we want all the retrieved content - throw it all in\n        toLocation.insert(xmlhttp.responseText, { position: 'after' });    //note this will eval scripts too\n    }\n    invokeCallbacks(callback);\n}    /**\n * Use this handler if the response text represents table rows to add to an existing rows in the specified container\n * (more efficient than appending innerHtml)\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\n/**\n * Use this handler if the response text represents table rows to add to an existing rows in the specified container\n * (more efficient than appending innerHtml)\n * @private\n * @param {AjaxRequester} requester the active requester instance\n * @param {Array} params parameters bundled with the request\n */\nfunction rowCopyResponseHandler(requester) {\n    var xmlhttp = requester.xmlhttp;\n    var tableId = requester.params[0];    //var newRowId = params[1]; //not used yet\n    //var newRowId = params[1]; //not used yet\n    var callback = requester.params[2];\n    var theTable = jQuery('#' + tableId)[0];\n    if (theTable.tagName !== 'TABLE') {\n        alert('Ajax Exception: rowCopyResponseHandler will not work for container ' + theTable.tagName);\n        return;\n    }    //put response html into a temp div to form the table\n    //var tempDiv = document.createElement('DIV');\n    //put response html into a temp div to form the table\n    //var tempDiv = document.createElement('DIV');\n    var tempDiv = Builder.node('DIV');\n    jQuery(tempDiv).html(xmlhttp.responseText);    //now copy to existing table body\n    //now copy to existing table body\n    copyTable(tempDiv.getElementsByTagName('table')[0], theTable, false, false);\n    invokeCallbacks(callback);\n}    /**\n * Special handler for when we want to overwrite entire page with response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n// TODO Consider for removal\n/**\n * Special handler for when we want to overwrite entire page with response\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n// TODO Consider for removal\nvar clobberingResponseHandler = function (requester) {\n    var callback = requester.params[2];\n    jQuery(document.body).html(requester.xmlhttp.responseText);\n    document.fire('dom:loaded');\n    invokeCallbacks(callback);\n};    /**\n * Handler evals JSOn expression. Does not update markup in anyway\n * For any updates to occur, responseText expression must include an assignment\n * e.g. \"var myProfile = {city: London, age: 39, hobbies: ['waterskiing','chess']}\"\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\n/**\n * Handler evals JSOn expression. Does not update markup in anyway\n * For any updates to occur, responseText expression must include an assignment\n * e.g. \"var myProfile = {city: London, age: 39, hobbies: ['waterskiing','chess']}\"\n * @param {AjaxRequester} the active requester instance\n * @param {Array} parameters bundled with the request\n * @private\n */\nvar evalJSONResponseHandler = function (requester) {\n    var jSONResponse = null;\n    try {\n        jSONResponse = requester.xmlhttp.responseText.evalJSON();\n    } catch (e) {\n        /*eslint-disable-next-line no-console*/\n        window.console && console.log(e);\n    }\n    var callback = requester.params[2];\n    invokeCallbacks(callback, jSONResponse);\n};\nfunction updateUsingResponseSubset(xmlhttp, fromLocation, toLoc) {\n    /**\n\t * This prevents the script tags inside responseText to be executed;\n\t * If we wanted them to be executed, we would have wrapped the responseText with a div like this:\n\t * \t\tvar response = jQuery('<div/>').html(xmlhttp.responseText);\n\t */\n    var response = jQuery(xmlhttp.responseText);\n    var whatWeWant = response.filter('#' + fromLocation);\n    if (toLoc.tagName == 'TABLE' && jQuery('#' + fromLocation)[0].tagName == 'TABLE') {\n        copyTableJquery(whatWeWant, toLoc, true);\n    } else {\n        jQuery(toLoc).append(whatWeWant.html());\n    }\n    function iterate() {\n        if (idx >= sz) {\n            return;\n        }\n        var scriptObj = jQuery(scriptTags.get(idx));\n        if (scriptObj.attr('src')) {\n            idx++;\n            loadScript(scriptObj.attr('data-custname'), scriptObj.attr('src'), iterate);\n        } else {\n            idx++;\n            executeScript(scriptObj.html(), iterate);\n        }\n    }\n    function loadScript(scriptName, scriptUrl, callbackFn) {\n        var gotCallback = callbackFn || false, scriptElement = document.createElement('script');    // prevent the script tag from being created more than once\n        // prevent the script tag from being created more than once\n        if (!window.jr_scripts) {\n            window.jr_scripts = {};\n        }\n        if (!window.jr_scripts[scriptName] && scriptName !== 'jr_jq_min') {\n            // skips jQuery core script\n            scriptElement.setAttribute('type', 'text/javascript');\n            if (scriptElement.readyState) {\n                // for IE\n                scriptElement.onreadystatechange = function () {\n                    if (scriptElement.readyState === 'loaded' || scriptElement.readyState === 'complete') {\n                        scriptElement.onreadystatechange = null;\n                        if (gotCallback) {\n                            callbackFn();\n                        }\n                    }\n                };\n            } else {\n                // for Others - this is not supposed to work on Safari 2\n                scriptElement.onload = function () {\n                    if (gotCallback) {\n                        callbackFn();\n                    }\n                };\n            }\n            scriptElement.src = scriptUrl;\n            document.getElementsByTagName('head')[0].appendChild(scriptElement);\n            window.jr_scripts[scriptName] = scriptUrl;\n        } else if (gotCallback) {\n            callbackFn();\n        }\n    }\n    function executeScript(scriptString, callbackFn) {\n        var gotCallback = callbackFn || false;\n        if (scriptString) {\n            var lines = scriptString.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);\n            /*eslint-disable-next-line no-eval*/\n            window.eval(lines.join('\\n'));\n            if (gotCallback) {\n                callbackFn();\n            }\n        }\n    }    /*\n     * fusioncharts & jasperreports interactive: load JavaScript scripts synchronously\n     */\n    /*\n     * fusioncharts & jasperreports interactive: load JavaScript scripts synchronously\n     */\n    if (typeof jQuery !== 'undefined' && true) {\n        var scriptTags = response.filter('script.jasperreports'), sz = scriptTags.size(), idx = 0;\n        iterate();\n    }\n}\nfunction invokeCallbacks(callback, customArg) {\n    if (callback) {\n        /*eslint-disable-next-line no-eval*/\n        typeof callback === 'string' ? eval(callback) : callback(customArg);\n    }\n}    /////////////////////////////////////////////////////////////////////////////////////////\n// Public API starts Here....\n// Please do not amend exisiting signatures but feel free to extend the API as required\n/////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Send an ajax request with this URL and update the entire page with the response\n * @param {String} url of the request\n */\n// TODO Consider for removal\n/////////////////////////////////////////////////////////////////////////////////////////\n// Public API starts Here....\n// Please do not amend exisiting signatures but feel free to extend the API as required\n/////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Send an ajax request with this URL and update the entire page with the response\n * @param {String} url of the request\n */\n// TODO Consider for removal\nfunction ajaxClobberredUpdate(url, options) {\n    options.responseHandler = clobberingResponseHandler;\n    ajaxUpdate(url, options);\n}    /**\n * Send an ajax request with this URL and update the targetContainer  with the sourceContainer container of the response DOM\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n * @param {String} update mode (default is targetted replace)\n */\n/**\n * Send an ajax request with this URL and update the targetContainer  with the sourceContainer container of the response DOM\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n * @param {String} update mode (default is targetted replace)\n */\nfunction ajaxTargettedUpdate(url, options) {\n    var responseHandler;\n    if (options.mode == AjaxRequester.prototype.CUMULATIVE_UPDATE) {\n        responseHandler = cumulativeResponseHandler;\n    } else if (options.mode == AjaxRequester.prototype.ROW_COPY_UPDATE) {\n        responseHandler = rowCopyResponseHandler;\n    } else if (options.mode == AjaxRequester.prototype.EVAL_JSON) {\n        responseHandler = evalJSONResponseHandler;\n    } else {\n        responseHandler = targettedResponseHandler;\n    }\n    options.responseHandler = function (requester, params) {\n        if (options.preFillAction) {\n            if (typeof options.preFillAction == 'string') {\n                /*eslint-disable-next-line no-eval*/\n                eval(options.preFillAction);\n            } else {\n                options.preFillAction(responseHandler(requester, params));\n            }\n        } else {\n            responseHandler(requester, options.params);\n        }\n    };\n    ajaxUpdate(url, options);\n}    /**\n * Send an ajax request with this URL but don't return any content to the sender\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n */\n/**\n * Send an ajax request with this URL but don't return any content to the sender\n * Optionally execute the post fill action as a callback following response processing\n * @param {String} url the url of the request\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n * @param {String} postData user data for posting - where applicable\n */\nfunction ajaxNonReturningUpdate(url, options) {\n    options.responseHandler = null;\n    ajaxUpdate(url, options);\n}    /**\n * Submit the form and replace entire page\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\n/**\n * Submit the form and replace entire page\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\nfunction ajaxClobberedFormSubmit(form, url, options) {\n    var postData = getPostData(form, window.extraPostData);\n    options.postData = appendPostData(postData, window.extraPostData);\n    options.responseHandler = clobberingResponseHandler;\n    ajaxUpdate(url, options);\n}    /**\n * Submit the form and update the targetContainer  with the sourceContainer container of the response DOM\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\n/**\n * Submit the form and update the targetContainer  with the sourceContainer container of the response DOM\n * @param {String} form name of the form\n * @param {String} url the url of the request\n * @param {String} extraPostData form data for posting\n * @param {String} targetContainer id indicating where to dump html response\n * @param {String} sourceContainer id indicating which part of the html response to use\n * @param {Array} callback JS functions to evaluate after ajax update\n * @param {function} errorHandler a function to evaluate to trap errors\n */\nfunction ajaxTargettedFormSubmit(form, url, options) {\n    var postData = getPostData(form, options.extraPostData);\n    options.postData = appendPostData(postData, options.extraPostData);\n    options.responseHandler = targettedResponseHandler;\n    ajaxUpdate(url, options);\n}\nfunction ajaxErrorHandler() {\n    showMessageDialog(window.ajaxError, window.ajaxErrorHeader);\n}    ////////////////////////////////////////////////////////////////////////////////\n// ...Public API ends Here....\n////////////////////////////////////////////////////////////////////////////////\n/**\n * @private\n */\n//dummy response handler for non returning case\n////////////////////////////////////////////////////////////////////////////////\n// ...Public API ends Here....\n////////////////////////////////////////////////////////////////////////////////\n/**\n * @private\n */\n//dummy response handler for non returning case\nfunction doNothing() {\n}    /**\n * Wrapper for AjaxRequester\n * @private\n * @param {String} url - the url of the request\n * @param {Object} options - an object literal optioanlly defining:\n * @option {function} responseHandler - the designated response handler\n * @option {String} fillLocation - id indicating where in the DOM to dump ajax response\n * @option {String} fromLocation - id indicating which part of the ajax response to use\n * @option {Array} callback - JS functions to evaluate after ajax update\n * @option {function} errorHandler - the designated error handler\n * @option {String} postData - user data for posting - where applicable\n */\n/**\n * Wrapper for AjaxRequester\n * @private\n * @param {String} url - the url of the request\n * @param {Object} options - an object literal optioanlly defining:\n * @option {function} responseHandler - the designated response handler\n * @option {String} fillLocation - id indicating where in the DOM to dump ajax response\n * @option {String} fromLocation - id indicating which part of the ajax response to use\n * @option {Array} callback - JS functions to evaluate after ajax update\n * @option {function} errorHandler - the designated error handler\n * @option {String} postData - user data for posting - where applicable\n */\nfunction ajaxUpdate(url, options) {\n    var ok = true;\n    var requester = new AjaxRequester(url, [\n        options.fillLocation,\n        options.fromLocation,\n        options.callback,\n        options.isAutomaticRefresh\n    ], options.postData, options.synchronous);\n    if (isIPad() && JRS.vars.current_flow == 'adhoc') {\n        if (!JRS.vars.ajax_in_progress) {\n            JRS.vars.ajax_in_progress = true;\n        }\n    }\n    if (ok) {\n        requester.busyCursor = !options.silent;\n        requester.showLoading = !options.silent && !options.hideLoader;\n        requester.responseHandler = options.responseHandler || doNothing;\n        if (requester.responseHandler != doNothing) {\n            ajaxRequestStarted(requester);\n        }\n        if (options.errorHandler) {\n            requester.errorHandler = options.errorHandler;\n        }\n        if (requester.xmlhttp) {\n            if (options.postData) {\n                requester.doPost();\n            } else {\n                requester.doGet();\n            }\n        }\n    }\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction checkForErrors(requester) {\n    var requesterErrorHandler = requester.errorHandler;\n    return requesterErrorHandler(requester.xmlhttp);\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction getPostData(form, extraPostData) {\n    if (typeof form == 'string') {\n        form = document.forms[form];\n    }\n    var data = '';\n    for (var i = 0; i < form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name && !(extraPostData && extraPostData[element.name])) {\n            data = appendFormInput(data, element);\n        }\n    }\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendPostData(postData, extraPostData) {\n    for (var name in extraPostData) {\n        postData = appendFormValue(postData, name, extraPostData[name]);\n    }\n    return postData;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendFormInput(data, element) {\n    if (element.name) {\n        var value;\n        var append = false;\n        switch (element.type) {\n        case 'checkbox':\n        case 'radio':\n            append = element.checked;\n            value = element.value;\n            break;\n        case 'hidden':\n        case 'password':\n        case 'text':\n        case 'Textarea':\n            append = true;\n            value = element.value;\n            break;\n        case 'select-one':\n        case 'select-multiple':\n            value = [];\n            for (var i = 0; i < element.options.length; ++i) {\n                var option = element.options[i];\n                if (option.selected) {\n                    append = true;\n                    value.push(option.value);\n                }\n            }\n            break;\n        }\n        if (append) {\n            if (value.shift) {\n                while (value.length > 0) {\n                    data = appendFormValue(data, element.name, value.shift());\n                }\n            } else {\n                data = appendFormValue(data, element.name, value);\n            }\n        }\n    }\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction appendFormValue(data, name, value) {\n    if (data.length > 0) {\n        data += '&';\n    }\n    data += name + '=' + encodeURIComponent(value);\n    return data;\n}    /**\n * @private\n */\n/**\n * @private\n */\nvar ERROR_POPUP_DIV = 'jsErrorPopup';\nvar ERROR_POPUP_CONTENTS = 'errorPopupContents';\nvar ERROR_POPUP_BACK_BUTTON = 'errorBack';\nvar ERROR_POPUP_CLOSE_BUTTON = 'errorPopupCloseButton';    /**\n * @private\n */\n/**\n * @private\n */ /**\n * @private\n */\n/**\n * @private\n */\nfunction hideErrorPopup() {\n    popOverlayObject();\n    var errorPopup = document.getElementById(ERROR_POPUP_DIV);\n    errorPopup.style.display = 'none';\n}    ////////////////////////////////////////////////////////////////////////////////\n// Request counter\n////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////\n// Request counter\n////////////////////////////////////////////////////////////////////////////////\najax.ajaxRequestCount = 0;    /**\n * @private\n */\n/**\n * @private\n */\nfunction ajaxRequestStarted(requester) {\n    ++ajax.ajaxRequestCount;\n    requester.busyCursor && (document.body.style.cursor = 'wait');\n    !isIPad() && requester.showLoading && requester.startResponseTimer();\n}    /**\n * @private\n */\n/**\n * @private\n */\nfunction ajaxRequestEnded(requester) {\n    requester.cancelResponseTimer();\n    if (ajax.ajaxRequestCount <= 1) {\n        document.body.style.cursor = 'auto';\n        ajax.ajaxRequestCount = 0;\n        dialogs.popup.hide(jQuery('#' + ajax.LOADING_ID)[0]);\n    } else {\n        ajax.ajaxRequestCount--;\n    }\n}\nfunction isValidJsonResponse(ajaxAgent) {\n    var responseType = ajaxAgent.getResponseHeader('Content-Type');\n    return ajaxAgent.status == 200 && responseType != null && responseType.indexOf('application/json') >= 0;\n}    ////////////////////////////////////////////////////////////////////////////////\n// XMLHTTP\n////////////////////////////////////////////////////////////////////////////////\n//\n// standard function to obtain an xmlhttp instance regardless of platform\n//\n////////////////////////////////////////////////////////////////////////////////\n// XMLHTTP\n////////////////////////////////////////////////////////////////////////////////\n//\n// standard function to obtain an xmlhttp instance regardless of platform\n//\nfunction getXMLHTTP() {\n    var alerted;\n    var xmlhttp;    /*@cc_on @*/\n    /*@if (@_jscript_version >= 5)\n     // JScript gives us Conditional compilation, we can cope with old IE versions.\n     try {\n     xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\")\n     } catch (e) {\n     try {\n     xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\")\n     } catch (E) {\n     alert(\"You must have Microsofts XML parsers available\")\n     }\n     }\n     @else\n     alert(\"You must have JScript version 5 or above.\")\n     xmlhttp=false\n     alerted=true\n     @end @*/\n    /*@cc_on @*/\n    /*@if (@_jscript_version >= 5)\n     // JScript gives us Conditional compilation, we can cope with old IE versions.\n     try {\n     xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\")\n     } catch (e) {\n     try {\n     xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\")\n     } catch (E) {\n     alert(\"You must have Microsofts XML parsers available\")\n     }\n     }\n     @else\n     alert(\"You must have JScript version 5 or above.\")\n     xmlhttp=false\n     alerted=true\n     @end @*/\n    if (!xmlhttp && !alerted) {\n        // Non ECMAScript Ed. 3 will error here (IE<5 ok), nothing I can\n        // realistically do about it, blame the w3c or ECMA for not\n        // having a working versioning capability in  <SCRIPT> or\n        // ECMAScript.\n        try {\n            xmlhttp = new XMLHttpRequest();\n        } catch (e) {\n            alert('You need a browser which supports an XMLHttpRequest Object.\\nMozilla build 0.9.5 has this Object and IE5 and above, others may do, I don\\'t know, any info jim@jibbering.com');\n        }\n    }\n    return xmlhttp;\n}\n\n//expose to global scope\nwindow.ajaxNonReturningUpdate = ajaxNonReturningUpdate;\n\nexport {\n    ajaxErrorHandler,\n    ajaxClobberredUpdate,\n    isValidJsonResponse,\n    getPostData,\n    checkForErrors,\n    ajaxRequestStarted,\n    ajaxTargettedFormSubmit,\n    ajaxUpdate,\n    evalJSONResponseHandler,\n    rowCopyResponseHandler,\n    cumulativeResponseHandler,\n    updateUsingResponseSubset,\n    targettedResponseHandler,\n    ajaxRequestEnded,\n    handleResponse,\n    invokeCallbacks,\n    getXMLHTTP,\n    ajax,\n    ajaxTargettedUpdate,\n    ajaxNonReturningUpdate,\n    appendPostData,\n    AjaxRequester\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport dialogs from \"../components/components.dialogs\";\nimport {JRS} from \"../namespace/namespace\";\nimport jQuery from 'jquery';\n\nfunction showErrorPopup(errorMessage, options) {\n    if ((errorMessage && errorMessage.indexOf('sessionAttributeMissingException')) > -1) {\n        dialogs.clusterErrorPopup.show(errorMessage);\n    } else {\n        dialogs.errorPopup.show(errorMessage, false, options);\n    }\n}\nfunction baseErrorHandler(ajaxAgent) {\n    //Handling HTTP 500 - Internal server error\n    if (ajaxAgent.status == 500) {\n        showErrorPopup(ajaxAgent.responseText);\n        return true;\n    }\n    var sessionTimeout = ajaxAgent.getResponseHeader('LoginRequested');\n    if (sessionTimeout) {\n        var newloc = '.';\n        document.location = newloc;\n        return true;\n    }\n    var isErrorPage = ajaxAgent.getResponseHeader('JasperServerError');\n    if (isErrorPage) {\n        var suppressError = ajaxAgent.getResponseHeader('SuppressError');\n        if (!suppressError) {\n            // For dashboard frame we should render error message as frame content.\n            var dashboardViewFrame = jQuery('.dashboardViewFrame');\n            if (dashboardViewFrame.length == 1) {\n                jQuery(document.body).html(ajaxAgent.responseText);\n                var iFrame = jQuery('#' + JRS.fid, window.parent.document);\n                iFrame.removeClass('hidden').show();\n            } else {\n                // In other cases we render error message as popup.\n                showErrorPopup(ajaxAgent.responseText);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\nfunction errorHandler() {}\nfunction showMessageDialog() {}\n\nexport {\n    showErrorPopup,\n    baseErrorHandler,\n    errorHandler,\n    showMessageDialog\n}","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n///////////////////////////////////////////////////////////////////////////////////\n// Drag with MouseDown\n///////////////////////////////////////////////////////////////////////////////////\nimport jQuery from 'jquery';\nimport {\n    isSupportsTouch,\n    matchMeOrUp,\n    isRightClick,\n    isIE,\n    hasDisabledAttributeSet,\n} from '../util/utils.common';\nimport layoutModule from '../core/core.layout';\nimport TouchController from '../util/touch.controller';\nimport {tooltipModule} from '../components/components.tooltip';\nimport primaryNavModule from '../actionModel/actionModel.primaryNavigation';\nimport buttonManager from './core.buttonManager';\n\ndocument.observe(isSupportsTouch() ? 'drag:touchstart' : 'drag:mousedown', function (evt) {\n    var element = evt.memo.targetEvent.element();\n    if (!isSupportsTouch() || !(event.treeEvent || event.listEvent)) {\n        var li = matchMeOrUp(element, layoutModule.LIST_ITEM_PATTERN);\n        if (li && !element.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)) {\n            buttonManager.down(li, function (listItemElement) {\n                return jQuery(listItemElement).children(layoutModule.LIST_ITEM_WRAP_PATTERN)[0];\n            });\n        }\n        if (element.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)) {\n            buttonManager.down(element);\n        }\n    }\n});    ///////////////////////////////////////////////////////////////////////////////////\n// Mouse Effects\n///////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////\n// Mouse Effects\n///////////////////////////////////////////////////////////////////////////////////\n// Suppress Default Context Menu\n///////////////////////////////////////////////////////////////////////////////////\n//use this to cancel the default event. Weird behavior on mac Gecko browser\n//see link:http://unixpapa.com/js/mouse.html for more info\n///////////////////////////////////////////////////////////////////////////////////\n// Suppress Default Context Menu\n///////////////////////////////////////////////////////////////////////////////////\n//use this to cancel the default event. Weird behavior on mac Gecko browser\n//see link:http://unixpapa.com/js/mouse.html for more info\ndocument.observe('mouseup', function (evt) {\n    if (isRightClick(evt)) {\n        var node = evt.element();\n        document.fire(layoutModule.ELEMENT_CONTEXTMENU, {\n            targetEvent: evt,\n            node: node\n        });\n    }\n});    // Workaround for IE9 native context menu\n// Workaround for IE9 native context menu\ndocument.observe('contextmenu', function (event) {\n    Event.stop(event);\n    return false;\n});\ndocument.observe('dom:loaded', function (event) {\n    var isGlobalEventsAllowed = function (el) {\n        var $el = jQuery(el);\n        return typeof $el.data('globalEvents') === 'undefined';\n    };\n    isIE() && document.body.setAttribute('oncontextmenu', 'return false');\n    jQuery('body').on('mouseover', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.over(this);\n    });\n    jQuery('body').on('mouseout', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (isGlobalEventsAllowed(this))\n            buttonManager.out(this);\n    });\n    jQuery('body').on('focus', layoutModule.BUTTON_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.over(this);\n    });\n    jQuery('body').on('blur', layoutModule.BUTTON_PATTERN + '.' + layoutModule.HOVERED_CLASS, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this))\n            buttonManager.out(this);\n    });\n    jQuery('body').on('mousedown mouseup touchstart touchend', [\n        layoutModule.BUTTON_PATTERN,\n        layoutModule.MENU_LIST_PATTERN,\n        layoutModule.DISCLOSURE_BUTTON_PATTERN,\n        layoutModule.META_LINKS_PATTERN\n    ].join(','), function (evt) {\n        if (evt.type == 'mousedown' || evt.type == 'touchstart') {\n            !hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && buttonManager.down(this);\n        } else {\n            !hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && buttonManager.up(this);\n        }\n        if (evt.type == 'mouseup' || evt.type == 'touchend') {\n            if (this.parentNode.id == layoutModule.MAIN_NAVIGATION_HOME_ITEM_ID)\n                primaryNavModule.navigationOption('home');\n            if (this.parentNode.id == layoutModule.MAIN_NAVIGATION_LIBRARY_ITEM_ID)\n                primaryNavModule.navigationOption('library');\n        }\n    });\n    jQuery('#frame').on('touchend mouseup', '.minimize', function (evt) {\n        if (this.parentNode.className.indexOf('maximized') >= 0) {\n            layoutModule.minimize(this);\n        } else {\n            layoutModule.maximize(this);\n        }\n        evt.preventDefault();\n    });\n    jQuery('#frame').on('touchend mouseup', layoutModule.TABSET_TAB_PATTERN, function (evt) {\n        if (!hasDisabledAttributeSet(this) && isGlobalEventsAllowed(this) && jQuery(this.parentNode).attr('disableCoreEvents') !== 'true') {\n            jQuery(this).siblings().removeClass(layoutModule.SELECTED_CLASS).each(function (index, element) {\n                jQuery(jQuery(this).attr('tabId')).addClass('hidden');\n            });\n            jQuery(this).addClass(layoutModule.SELECTED_CLASS);\n            jQuery(jQuery(this).attr('tabId')).removeClass('hidden');    // Dirty hack to make anchor bigger when attributes tab is selected.\n            // Dirty hack to make anchor bigger when attributes tab is selected.\n            var $anchor = jQuery(this).closest('.tabs').find('.control.tabSet.anchor');\n            jQuery(this).attr('tabId') === '#attributesTab' ? $anchor.addClass('attributesAnchor') : $anchor.removeClass('attributesAnchor');\n        }\n    });\n    jQuery('#' + layoutModule.META_LINK_LOGOUT_ID).on('mousedown touchstart', function (evt) {\n        evt.preventDefault();\n        primaryNavModule.navigationOption('logOut');\n    });    /*\n     * Tooltips\n     */\n    /*\n     * Tooltips\n     */\n    jQuery('body').on('mouseover mouseout click', '[tooltiptext]', function (evt) {\n        (evt.type == 'mouseout' || evt.type == 'click') && tooltipModule.hideJSTooltip(this);\n        evt.type == 'mouseover' && tooltipModule.showJSTooltip(this, [\n            evt.clientX,\n            evt.clientY\n        ]);\n    });    /*\n     * Top navigation menu\n     */\n    /*\n     * Top navigation menu\n     */\n    jQuery('#mainNavigation').on('mouseover', layoutModule.NAVIGATION_MUTTON_PATTERN, function (evt) {\n        primaryNavModule.showNavButtonMenu(evt, this);\n    });\n    if (isSupportsTouch()) {\n        document.body.addEventListener('touchstart', function (e) {\n            window.calendar && window.calendar.hide && !window.calendar.hidden && window.calendar.hide();\n            if (typeof TouchController !== 'undefined')\n                TouchController.element_scrolled = false;\n        }, false);\n        document.body.addEventListener('touchmove', function (e) {\n            //e.preventDefault();\n        }, false);\n    }    /*\n     * Bug fix 28602.\n     */\n    /*\n     * Bug fix 28602.\n     */\n    jQuery('#filePath').on('mouseenter mouseout', function () {\n        jQuery('#fake_upload_button').toggleClass('over');\n    });\n});\n\nexport default buttonManager;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/* global __jrsConfigs__ */\n//JasperServer namespace  mess\n\n/*\n *  One of Jasperserver namespaces.\n */\nvar JRS = {\n    vars: {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null,\n        contextPath: __jrsConfigs__.contextPath\n    },\n    i18n: {}\n};\nvar Calendar = {};\nif (typeof isEncryptionOn === 'undefined') {\n    var isEncryptionOn = false;\n}\nfunction isProVersion() {\n    return __jrsConfigs__.isProVersion;\n}\nvar jaspersoft = {\n    components: {},\n    i18n: {}\n};\nif (typeof JRS == 'undefined') {\n    JRS = { Mocks: {} };\n}\nif (typeof JRS.vars == 'undefined') {\n    JRS.vars = {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null\n    };\n}    //TODO: move closer to Import/Export\n//TODO: move closer to Import/Export\nif (typeof JRS.Export == 'undefined') {\n    JRS.Export = {\n        i18n: {\n            'file.name.empty': 'export.file.name.empty',\n            'file.name.too.long': 'export.file.name.too.long',\n            'file.name.not.valid': 'export.file.name.not.valid',\n            'export.select.users': 'export.select.users',\n            'export.select.roles': 'export.select.roles',\n            'export.session.expired': 'export.session.expired',\n            'error.timeout': 'export.file.name.empty'\n        },\n        configs: {\n            TIMEOUT: 1200000,\n            DELAY: 3000\n        }\n    };\n}\nif (typeof window.localContext == 'undefined') {\n    window.localContext = {};\n}    //TODO: move to common module\n//TODO: move to common module\nif (__jrsConfigs__.calendar) {\n    JRS.i18n['bundledCalendarFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarFormat;\n    JRS.i18n['bundledCalendarTimeFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat;\n}\n\nwindow.JRS = JRS;\nwindow.jaspersoft = jaspersoft;\nwindow.isProVersion = isProVersion;\n\nexport {jaspersoft, JRS, isProVersion};","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}