(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[459],{32608:(o,n,e)=>{"use strict";e.d(n,{Z:()=>c});var t=e(15892),i=e.n(t),r=e(72157),a=e.n(r),l=e(77684),s=e(62287).Z.register("BaseJiveComponentView");const c=i().View.extend({initialize:function(o){this.stateModel=o.stateModel,this.report=o.report,s.debug("Create jive view",this),i().View.prototype.initialize.apply(this,arguments)},getReportId:function(){return this.report&&this.report.id},setDataReportId:function(o,n){o.attr("data-reportId",n)},getReportContainer:function(o){return a()("[data-reportId = '"+o+"']")},scale:function(o){this.model.set("scaleFactor",o)},render:function(o){var n=new(a().Deferred);return n.resolve(),n},detachEvents:function(){},remove:function(){this.detachEvents(),i().View.prototype.remove.apply(this,arguments)},_applyScaleTransform:function(o,n){var e="scale("+n+")",t="0 0",i={"-webkit-transform":e,"-webkit-transform-origin":t,"-moz-transform":e,"-moz-transform-origin":t,"-ms-transform":e,"-ms-transform-origin":t,"-o-transform":e,"-o-transform-origin":t,transform:e,"transform-origin":t};l.Z.isIE8()&&(i.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+n+", M12=0, M21=0, M22="+n+", SizingMethod='auto expand')"),o.css(i)}})},50459:(o,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>s});var t=e(32608),i=e(75964),r=0,a=function(){return"__async_req_".concat(r+=1,"__")},l=null;const s=t.Z.extend({render:function(o){this.$reportEl=o,this.infowindow={},this._init()},_init:function(){var o=this,n=o.model.get("instanceData"),e=n.requestParams||"";"&"===e[0]&&(e=e.substr(1));var t=function(){o._showMap(o.model.get("id"),n.latitude,n.longitude,n.zoom,n.mapType,n.markerList,n.pathsList)};"undefined"==typeof google||"undefined"!=typeof google&&void 0===google.maps?(l||(l=function(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"callback";return new Promise((function(e,t){var r=a();window[r]=e;var l=new URL(o,window.location.href);l.searchParams.append(n,r),(0,i.v)(l.href,{scriptProps:{async:!0}}).catch(t)}))}("//maps.google.com/maps/api/js?".concat(e),"callback")),l.then(t)):t()},_configureImage:function(o,n,e){var t,i,r,a,l,s;t=n[o+".width"]?parseInt(n[o+".width"]):null,i=n[o+".height"]?parseInt(n[o+".height"]):null,r=n[o+".origin.x"]?parseInt(n[o+".origin.x"]):0,a=n[o+".origin.y"]?parseInt(n[o+".origin.y"]):0,l=n[o+".anchor.x"]?parseInt(n[o+".anchor.x"]):0,s=n[o+".anchor.y"]?parseInt(n[o+".anchor.y"]):0,e[o]={url:n[o+".url"],size:t&&i?new google.maps.Size(t,i):null,origin:new google.maps.Point(r,a),anchor:new google.maps.Point(l,s)}},_createInfo:function(o){if(o["infowindow.content"]&&o["infowindow.content"].length>0){var n=google.maps,e={content:o["infowindow.content"]};return o["infowindow.pixelOffset"]&&(e.pixelOffset=o["infowindow.pixelOffset"]),o["infowindow.latitude"]&&o["infowindow.longitude"]&&(e.position=new n.LatLng(o["infowindow.latitude"],o["infowindow.longitude"])),o["infowindow.maxWidth"]&&(e.maxWidth=o["infowindow.maxWidth"]),new n.InfoWindow(e)}return null},_showMap:function(o,n,e,t,i,r,a){var l=this,s=google.maps,c={zoom:t,center:new s.LatLng(n,e),mapTypeId:s.MapTypeId[i],autocloseinfo:!0},d=l.$reportEl.find("#"+o),f=new s.Map(d[0],c);if(d.attr("js-stdnav","false"),r)for(var u,p=0;p<r.length;p++){var g=r[p],h={position:new s.LatLng(g.latitude,g.longitude),map:f};for(u in g["icon.url"]&&g["icon.url"].length>0?l._configureImage("icon",g,h):g.icon&&g.icon.length>0?h.icon=g.icon:g.color&&g.color.length>0?h.icon="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(g.label&&g.label.length>0?g.label:"%E2%80%A2")+"%7C"+g.color:g.label&&g.label.length>0&&(h.icon="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+g.label+"%7CFE7569"),g["shadow.url"]&&g["shadow.url"].length>0&&l._configureImage("shadow",g,h),g)u.indexOf(".")<0&&g.hasOwnProperty(u)&&!h.hasOwnProperty(u)&&(h[u]=g[u]);var w=new google.maps.Marker(h);w.info=l._createInfo(g),s.event.addListener(w,"click",(function(){f.autocloseinfo&&l.infowindow&&l.infowindow.close&&l.infowindow.close(),this.info?(l.infowindow=this.info,this.info.open(f,this)):this.url&&this.url.length>0&&window.open(this.url,this.target)}))}if(a)for(var m=0;m<a.length;m++){var v=a[m],_={},y=[],b=!1;for(var I in v)if("locations"===I&&v[I])for(var x=v[I],M=0;M<x.length;M++){var k=x[M];y.push(new google.maps.LatLng(k.latitude,k.longitude))}else"isPolygon"===I?b=l._getBooleanValue(v[I]):_[I]="visible"===I||"editable"===I||"clickable"===I||"draggable"===I||"geodesic"===I?l._getBooleanValue(v[I]):v[I];_.map=f,b?(_.paths=y,new google.maps.Polygon(_)):(_.path=y,new google.maps.Polyline(_))}},_getBooleanValue:function(o){return!0===o||"true"===o}})},75964:(o,n,e)=>{"use strict";e.d(n,{v:()=>r});var t=1e3*Number("60"),i={},r=function(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.cache,r=void 0===e||e,a=n.prefix,l=void 0===a?"":a,s=n.scriptProps,c=void 0===s?{}:s,d=l+o;if(r&&i[d])return i[d];var f=new Promise((function(n,e){var i=document.createElement("script"),r=Object.assign({charset:"utf-8",timeout:t},c);Object.keys(r).forEach((function(o){return i[o]=r[o]})),i.src=o;var a=function(){i.onerror=null,i.onload=null,clearTimeout(l),e.apply(void 0,arguments)},l=setTimeout((function(){a(new Error("Load timeout for the script ".concat(o)))}),r.timeout);i.onerror=a,i.onload=function(){i.onerror=null,i.onload=null,clearTimeout(l),n()},document.head.appendChild(i)}));return i[d]=f,f}}}]);
//# sourceMappingURL=chunk.459.js.map