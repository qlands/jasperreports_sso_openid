{"version":3,"sources":["webpack://jrs-ui/./src/resource/resource.reportResourceNaming.js","webpack://jrs-ui/./src/addResource/jasperReport/addJasperReportResourceNaming.common.js"],"names":["LABEL_ID","RESOURCE_ID_ID","DESCRIPTION_ID","FOLDER_TREE_DATA_PROVIDER","FOLDER_TREE_ID","FOLDER_RESOURCE_INPUT","NEXT_BUTTON_ID","BROWSE_BUTTON_ID","_canGenerateId","initialize","options","this","_form","jQuery","document","body","find","_label","_resourceId","_description","_nextButton","_isEditMode","isEditMode","validator","resource","_initEvents","isBrowseActive","_initFileSelector","picker","treeId","providerId","uriTextboxId","browseButtonId","title","on","e","_isDataValid","stopPropagation","bindAsEventListener","element","target","include","ValidationModule","getValue","setValue","bind","elementsToValidate","jrsConfigs","_","window","localContext","resourceReportResourceNaming","isIPad"],"mappings":"gMAkGA,QArEmC,CAC/BA,SAAU,QACVC,eAAgB,aAChBC,eAAgB,6BAChBC,0BAA2B,wCAC3BC,eAAgB,0BAChBC,sBAAuB,YACvBC,eAAgB,OAChBC,iBAAkB,iBAClBC,gBAAgB,EAChBC,WAAY,SAAUC,GAClBC,KAAKC,MAAQC,IAAOC,SAASC,MAAMC,KAAK,QAAQ,GAChDL,KAAKM,OAASJ,IAAO,IAAKF,KAAKX,UAAU,GACzCW,KAAKO,YAAcL,IAAO,IAAKF,KAAKV,gBAAgB,GACpDU,KAAKQ,aAAeN,IAAO,IAAKF,KAAKT,gBAAgB,GACrDS,KAAKS,YAAcP,IAAO,IAAKF,KAAKL,gBACpCK,KAAKU,cAAcX,GAAUA,EAAQY,WACrCX,KAAKM,OAAOM,UAAYC,wBAA6Bb,MACrDA,KAAKO,YAAYK,UAAYC,6BAAkCb,MAC/DA,KAAKQ,aAAaI,UAAYC,8BAAmCb,MACjEA,KAAKc,cACDf,EAAQgB,gBACRf,KAAKgB,qBAGbA,kBAAmB,SAAUjB,GACzB,IAAIkB,iBAAoB,CACpBC,OAAQlB,KAAKP,eACb0B,WAAYnB,KAAKR,0BACjB4B,aAAcpB,KAAKN,sBACnB2B,eAAgBrB,KAAKJ,iBACrB0B,MAAOT,yCAGfC,YAAa,WACTd,KAAKS,YAAYc,GAAG,QAAS,SAAUC,GAC9BxB,KAAKyB,gBACND,EAAEE,mBAERC,oBAAoB3B,OACtBE,IAAOF,KAAKC,OAAOsB,GAAG,QAAS,SAAUC,GACrC,IAAII,EAAUJ,EAAEK,OACK,CACjB7B,KAAKM,OACLN,KAAKO,YACLP,KAAKQ,cAEUsB,QAAQF,KACvBG,eAA0BlB,yBAA8B,CAACe,KACrDA,GAAW5B,KAAKO,aAAeP,KAAKO,YAAYyB,YAAcnB,uBAA4Bb,KAAKM,OAAO0B,cACtGhC,KAAKH,gBAAiB,GAEtB+B,GAAW5B,KAAKM,SAAWN,KAAKU,aAAeV,KAAKH,iBACpDG,KAAKO,YAAY0B,SAASpB,uBAA4Bb,KAAKM,OAAO0B,aAClED,eAA0BlB,yBAA8B,CAACb,KAAKO,kBAGxE2B,KAAKlC,QAEXyB,aAAc,WACV,IAAIU,EAAqB,CACrBnC,KAAKM,OACLN,KAAKO,YACLP,KAAKQ,cAET,OAAOuB,eAA0BlB,yBAA8BsB,MCnEvE,IAAIpC,OACmD,IAA5CqC,mCACPrC,EAAUqC,6CACVC,WAASC,OAAOC,aAAcH,mCAElCC,WAASxB,aAAmBuB,uCAC5BI,aAAwCzC,IACxC0C,YAAY5B","file":"_chunks/chunk.1135.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n\nimport jQuery from 'jquery';\nimport {ValidationModule} from \"../util/utils.common\";\nimport resource from './resource.base';\nimport picker from '../components/components.pickers';\n\nvar resourceReportResourceNaming = {\n    LABEL_ID: 'label',\n    RESOURCE_ID_ID: 'resourceID',\n    DESCRIPTION_ID: 'fileResource\\\\.description',\n    FOLDER_TREE_DATA_PROVIDER: 'repositoryExplorerTreeFoldersProvider',\n    FOLDER_TREE_ID: 'addFileTreeRepoLocation',\n    FOLDER_RESOURCE_INPUT: 'folderUri',\n    NEXT_BUTTON_ID: 'next',\n    BROWSE_BUTTON_ID: 'browser_button',\n    _canGenerateId: true,\n    initialize: function (options) {\n        this._form = jQuery(document.body).find('form')[0];\n        this._label = jQuery('#' +this.LABEL_ID)[0];\n        this._resourceId = jQuery('#' +this.RESOURCE_ID_ID)[0];\n        this._description = jQuery('#' +this.DESCRIPTION_ID)[0];\n        this._nextButton = jQuery('#' +this.NEXT_BUTTON_ID);\n        this._isEditMode = options ? options.isEditMode : false;\n        this._label.validator = resource.labelValidator.bind(this);\n        this._resourceId.validator = resource.resourceIdValidator.bind(this);\n        this._description.validator = resource.descriptionValidator.bind(this);\n        this._initEvents();\n        if (options.isBrowseActive) {\n            this._initFileSelector();\n        }\n    },\n    _initFileSelector: function (options) {\n        new picker.FileSelector({\n            treeId: this.FOLDER_TREE_ID,\n            providerId: this.FOLDER_TREE_DATA_PROVIDER,\n            uriTextboxId: this.FOLDER_RESOURCE_INPUT,\n            browseButtonId: this.BROWSE_BUTTON_ID,\n            title: resource.messages['resource.Report.Title']\n        });\n    },\n    _initEvents: function () {\n        this._nextButton.on('click', function (e) {\n            if (!this._isDataValid()) {\n                e.stopPropagation();\n            }\n        }.bindAsEventListener(this));\n        jQuery(this._form).on('keyup', function (e) {\n            var element = e.target;\n            var targetElements = [\n                this._label,\n                this._resourceId,\n                this._description\n            ];\n            if (targetElements.include(element)) {\n                ValidationModule.validate(resource.getValidationEntries([element]));\n                if (element == this._resourceId && this._resourceId.getValue() != resource.generateResourceId(this._label.getValue())) {\n                    this._canGenerateId = false;\n                }\n                if (element == this._label && !this._isEditMode && this._canGenerateId) {\n                    this._resourceId.setValue(resource.generateResourceId(this._label.getValue()));\n                    ValidationModule.validate(resource.getValidationEntries([this._resourceId]));\n                }\n            }\n        }.bind(this));\n    },\n    _isDataValid: function () {\n        var elementsToValidate = [\n            this._label,\n            this._resourceId,\n            this._description\n        ];\n        return ValidationModule.validate(resource.getValidationEntries(elementsToValidate));\n    }\n};\n\nexport default resourceReportResourceNaming;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\nimport resource from '../../resource/resource.base';\nimport resourceReportResourceNaming from '../../resource/resource.reportResourceNaming';\nimport {isIPad} from \"../../util/utils.common\";\n\nvar options;\nif (typeof jrsConfigs.addJasperReport.localContext !== 'undefined') {\n    options = jrsConfigs.addJasperReport.localContext.initOptions;\n    _.extend(window.localContext, jrsConfigs.addJasperReport.localContext);\n}\n_.extend(resource.messages, jrsConfigs.addJasperReport.resource.messages);\nresourceReportResourceNaming.initialize(options);\nisIPad() && resource.initSwipeScroll();\n"],"sourceRoot":""}