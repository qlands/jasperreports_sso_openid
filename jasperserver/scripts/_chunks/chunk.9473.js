(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[9473],{99473:(e,t,i)=>{"use strict";i.r(t);var r=i(97836),s=i.n(r),n=i(71914),o=i(17620),a=i(52499),l=i(72157),u=i.n(l),c=i(32758),h={CONTENT_REPOSITORY:"CONTENT_REPOSITORY",LOCAL:"LOCAL",NONE:"NONE",FILE_SYSTEM:"FILE_SYSTEM",LOCATE_EVENT:"resource:locate",ALLOWED_FILE_RESOURCE_EXTENSIONS:["css","ttf","jpg","jpeg","gif","bmp","png","jar","jrxml","properties","jrtx","xml","agxml","docx","doc","ppt","pptx","xls","xlsx","ods","odt","odp","pdf","rtf","html"],initialize:function(e){var t=function(e){return s().isObject(e)?e:u()("#"+e)[0]};this.resourceUri=t(e.resourceInput),this.browseButton=t(e.browseButton),this.filePath=t(e.fileUploadInput),this.fakeFilePath=t(e.fakeFileUploadInput),this.fakeFileInput=t(e.fakeFileUploadInputText),this.newResourceLink=t(e.newResourceLink);try{this._initFileSelector(e)}catch(e){}finally{this._initEvents(e)}return this},_initEvents:function(e){u()(document).on("click","#CONTENT_REPOSITORY, #FILE_SYSTEM, #NONE, #LOCAL",this._clickHandler),"fileResourceTreeDataProvider"===e.providerId&&(u()("#next").on("click",h._nextClickHandler),u()("#filePath").on("change",h._uploadChangeHandler))},_nextClickHandler:function(e){u()("#fileUpload").hasClass("error")&&e.preventDefault()},_uploadChangeHandler:function(e){u()("#fileUpload").removeClass("error");var t=!0;if(u()("#filePath")[0].value){var i=u()("#filePath")[0].value.match(/.*\.([^\.]+)$/);if(i){var r=i[1];s().indexOf(h.ALLOWED_FILE_RESOURCE_EXTENSIONS,r)<0&&(t=!1)}else t=!1}else t=!1;if(!t){var n=o.Z.messages["resource.report.unsupportedFileType.error"]+" "+h.ALLOWED_FILE_RESOURCE_EXTENSIONS.join(", ");u()("#fileUpload").addClass("error").find("span.warning").html(n)}},_clickHandler:function(e){h._updateResourceSelectorState(e.target.id)},_updateResourceSelectorState:function(e){o.Z.switchButtonState(this.filePath,e===this.FILE_SYSTEM),o.Z.switchButtonState(this.fakeFilePath,e===this.FILE_SYSTEM),o.Z.switchButtonState(this.fakeFileInput,e===this.FILE_SYSTEM),o.Z.switchButtonState(this.browseButton,e===this.CONTENT_REPOSITORY),o.Z.switchDisableState(this.resourceUri,e!==this.CONTENT_REPOSITORY);var t=e===this.LOCAL?["disabled","launcher"]:[];this._switchElementClasses(this.newResourceLink,t)},_initFileSelector:function(e){this.fileSelector=new c.Z.FileSelector(s().extend({},e,{uriTextboxId:this.resourceUri,browseButtonId:this.browseButton,title:e.dialogTitle}))},remove:function(e){this.fileSelector.remove()},_switchElementClasses:function(e,t){e&&t&&u()(e).removeClass(t[0]).addClass(t[1])}};const d=h;var p=i(43852),f={messages:[],initialize:function(){this.form=u()("input[name=_flowExecutionKey]").parent("form"),this.defineRadio=u()("#LOCAL")[0],this.resourceUriInput=u()("#resourceUri")[0];try{this.resourcePicker(),this.updateButtonsState()}finally{this.initEvents()}},resourcePicker:function(){d.initialize({resourceInput:"resourceUri",browseButton:"browser_button",treeId:"inputControlTreeRepoLocation",providerId:"inputControlResourceTreeDataProvider",dialogTitle:f.messages["InputControlLocate.Title"],selectLeavesOnly:!0})},initEvents:function(){this.form.length&&new a.Form.Observer(this.form[0],.3,function(){this.updateButtonsState()}.bind(this))},updateButtonsState:function(){this.resourceUriInput.getValue().blank()&&"LOCAL"!==this.defineRadio.getValue()?p.Z.disable("next"):p.Z.enable("next")}};const E=f;var S=i(64155);s().extend(E.messages,n.Z.addJasperReport.inputControl.messages),E.initialize(),(0,S.zcy)()&&o.Z.initSwipeScroll()}}]);
//# sourceMappingURL=chunk.9473.js.map