{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/system/systemError.common.js","webpack://jrs-ui/../js-sdk/src/common/util/xssUtil.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","nothingToDisplay","removeClass","layoutModule","centerElement","horz","vert","htmlTagWhiteList","escapeMap","regexKeys","map","str","arr","k","Object","prototype","hasOwnProperty","call","push","replace","unescapeMap","hardEscapeRegex","RegExp","join","_stringCanonicObfuscator","obfChar","obfuscatedStr","i","charAt","canonicExclusionMap","key","obfuscStr","addCanonicObfuscArr","c","addObfuscStr","reverseCanonicExclusionMap","canonicExclusionRegex","reverseCanonicExclusionRegex","_getXssNonce","jrsConfigs","Error","_getNoncePrefix","undefined","noncePrefix","xssNonce","_getHtmlTagWhitelist","configHtmlTagWhitelist","_getConfigHtmlTagWhitelist","whitelistInitialized","startsWith","substr","_getWhitelistLeftRegex","leftTagRegexp","whitelistRegexInsert","_getWhitelistRightRegex","rightTagRegexp","_defaultAttribSoftEscapeMap","_getAttribSoftHtmlEscapeMap","attribSoftEscapeArr","configAttribSoftHtmlEscapeMap","configRegexArr","configReplArr","err","console","warn","softHtmlEscape","string","options","String","indexOf","noncePref","substring","match","canonicElem","createElement","innerHTML","value","_canonicalize","whiteList","Array","whitelistRegexStr","rtLeftTagRegexp","rtRightTagRegexp","tmpLeftTagRegexp","tmpRightTagRegexp","lastIndex","escapeTags","tmpTagWhiteList","attribSoftHtmlEscapeMap","regexArr","replArr","regex","replacement","hardEscape","unescape","unescapeRegexp","Draggable","startDrag","event","isDragging","dragging","delta","currentDelta","zindex","originalZ","parseInt","Element","getStyle","element","style","zIndex","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","tagName","body","appendChild","superghosting","prepare","pointer","Event","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","id","hide","removeChild","width","height","getWidth","getHeight","originalScrollTop","draw","show","scroll","window","where","_getWindowScroll","originalScrollLeft","left","top","scrollLeft","scrollTop","Draggables","notify","starteffect","point","pos","cumulativeOffset","r","realOffset","deltaX","deltaY","d","_isScrollChild","p","mouseOffset","offset","bind","snap","isFunction","isArray","v","round","constraint","visibility","initDrag","isUndefined","_dragging","touches","isLeftClick","tag_name","toUpperCase","jQuery","activate","countdown","DEFAULT_TOLERANCE","stop","fire","targetEvent","Droppables","isAffected","drop","jo","w","h","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","include","finishDrag","success","isIE","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","reset","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","initialize","observer","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","each","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.240.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {centerElement} from '../util/utils.common';\nimport $ from 'jquery';\nimport layoutModule from '../core/core.layout';\n\nvar nothingToDisplay = $('#nothingToDisplay');\nnothingToDisplay.removeClass(layoutModule.HIDDEN_CLASS);\ncenterElement(nothingToDisplay, {\n    horz: true,\n    vert: true\n});\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * This is a standalone module.  jQuery,prototype, etc. - depend on this\n * @author: Borys Kolesnykov\n *\n */\n\nimport jrsConfigs from '../../jrs.configs';\n\nvar htmlTagWhiteList = 'a,abbr,acronym,address,animate,animateMotion,animateTransform,area,article,aside,b,bdi,bdo,big,blockquote,body,br,button,' +\n    'canvas,caption,center,circle,cite,clipPath,code,col,colgroup,color-profile,dd,defs,desc,details,dfn,discard,div,dl,dt,ellipse,em,' +\n    'feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,' +\n    'fieldset,filter,font,footer,form,h1,h2,h3,h4,h5,h6,head,' +\n    'header,hr,html,i,g,iframe,image,img,input,js-templateNonce,label,legend,li,line,linearGradient,main,map,mark,marker,mask,menu,menuitem,meta,metadata,mpath,nav,ol,option,p,path,pattern,polygon,polyline,' +\n    'pre,radialGradient,rect,section,select,set,small,span,stop,strike,strong,style,sub,summary,sup,svg,switch,symbol,table,tbody,td,text,textPath,textarea,tfoot,th,thead,title,tr,tspan,u,ul,use,view';\n\n// None of the chars in the values of the map should appear as the map key to\n// avoid multiple escaping in a case like xssUtil.hardEscape(xssUtil.hardEscape(str))\n// Also, the escapeMap keys should NOT contain any initial values of unescapeMap.map.\n// The canonicalization would be broken.  Eg. if escapeMap has a key 'c',\n// 'javas&#99;ript' won't be canonicalized to 'javascript', because canonicExclusionMap\n// would have {'&#99;': '*&*#*9*9*;*'}. '&#99;' would be excluded from canonic.\nvar escapeMap = {\n    '(': '&#40;',\n    ')': '&#41;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\n\n// here, we are escaping all the characters in str that are special in regex's.\n// The str returned here is used to further construct a regex as follows: (?: str ).\n// Eg. str = \"a{}\" results in \"a\\{\\}\" after replace().\nvar makeStringRegex = function(str){\n    return str == null ? '' : str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n};\n\n// Need to escape chars like ) and ( in order to construct correct regex later /(?: \\)|\\( )/g\nvar regexKeys = function(map) {\n    var arr = [];\n    for (var k in map) {\n        if (Object.prototype.hasOwnProperty.call(map, k))\n            arr.push(makeStringRegex(k));\n    }\n    return arr;\n};\n\n// unescapeMap is made from reverse of escapeMap + extra chars.\nvar unescapeMap = (function() {\n    var map = {\n            '&#111;': 'o',\n            '&#110;': 'n',\n            '&#115;': 's',\n            '&#114;': 'r',\n            '&#99;': 'c',\n            '&#100;': 'd',\n            '&amp;': '&'\n        }, k;\n    for (k in escapeMap) {\n        if (Object.prototype.hasOwnProperty.call(escapeMap, k))\n            map[escapeMap[k]] = k;\n    }\n\n    return map;\n})();\n\n//'hard' escape regex\nvar hardEscapeRegex = RegExp('(?:' + regexKeys(escapeMap).join('|') + ')', 'g');\n\n/*\n    'str' func argument should not be escaped (func returns false) if:\n    - str is not a String\n    - str is not an HTML; does not contain < and >\n */\nvar _isHTMLString = function (str) {\n    if (!(typeof(str) === 'string' || str instanceof String))\n        return false;\n\n    // not an HTML string\n    if (str.indexOf('<') < 0 && str.indexOf('>') < 0)\n        return false;\n\n    return true;\n};\n\n// This func. takes a string on input and retuns the string obfuscated it with an input char (obfChar).\n// It intersperses the obfuscation char around all the input string chars.\n// E.g.  &#40; is converted to *&*#*4*0*;* value\nvar _stringCanonicObfuscator = function (str, obfChar) {\n    var obfuscatedStr = obfChar;\n    for (var i = 0; i < str.length; ++i) {\n        obfuscatedStr += str.charAt(i);\n        obfuscatedStr += obfChar;\n    }\n\n    return obfuscatedStr;\n};\n\n// The keys of canonicExclusionMap are the html encoded characters that are not canonicalized during soft\n// escape (They are the values from escapeMap used in hardEscape func).  The values of the canonicExclusionMap\n// are its modified keys such that canonicalization does not decode the map keys found in the string.\n// It should be unlikely that these mutant values would be found in the application data stream.\n// If the values are found in the string by accident, they would be replaced by the map keys (danger)\nvar canonicExclusionMap = (function() {\n    var map = {}, key;\n\n    for (key in escapeMap) {\n        if (Object.prototype.hasOwnProperty.call(escapeMap, key)) {\n            var obfuscStr = escapeMap[key];\n            map[obfuscStr] = _stringCanonicObfuscator(obfuscStr, '*');\n        }\n    }\n\n    //textarea needs to be obfuscated because we are inserting into <textarea> elem. to canonicalize.  Firefox breaks in this case.\n    var addCanonicObfuscArr = ['<textarea', '</textarea>'];\n    for (var c = 0; c < addCanonicObfuscArr.length; ++c) {\n        var addObfuscStr = addCanonicObfuscArr[c];\n        map[addObfuscStr] = _stringCanonicObfuscator(addObfuscStr, '*');\n    }\n\n    return map;\n})();\n\nvar reverseCanonicExclusionMap = (function () {\n    var map = {}, key;\n    for (key in canonicExclusionMap) {\n        if (Object.prototype.hasOwnProperty.call(canonicExclusionMap, key)) {\n            map[canonicExclusionMap[key]] = key;\n        }\n    }\n\n    return map;\n})();\n\nvar canonicExclusionRegex = RegExp('(?:' + regexKeys(canonicExclusionMap).join('|') + ')', 'g');\nvar reverseCanonicExclusionRegex = RegExp('(?:' + regexKeys(reverseCanonicExclusionMap).join('|') + ')', 'g');\n\n/**\n * Canonicalize/decode the string from any HTML encoding to ASCII.\n * Hard escaped characters listed as keys in escapeMap are not canonicalized to prevent soft\n * escape from reversing the hard escape as in xssUtil.softHtmlEscape(xssUtil.hardEscape(str))\n *\n * @param string\n * @returns canonicalized {string}\n * @private\n */\nfunction _canonicalize(string) {\n    string = string == null ? '' : string;\n\n    // exclude potentially hard escaped chars from escapeMap values\n    string = canonicExclusionRegex.test(string) ? string.replace(canonicExclusionRegex, function(match) { return canonicExclusionMap[match]; }) : string;\n\n    var canonicElem = document.createElement('textarea');\n    canonicElem.innerHTML = string; // eslint-disable-line\n    string = canonicElem.value;\n\n    // revert the chars excluded above to their original values\n    string = reverseCanonicExclusionRegex.test(string) ? string.replace(reverseCanonicExclusionRegex, function(match) { return reverseCanonicExclusionMap[match]; }) : string;\n\n    return string;\n}\n\n/**\n * In visualize, jquery & xssUtil dependency are loaded before 'settings';\n * hence, it's possible for jrsConfigs.xssNonce to be undefined till jrsConfigs is\n * populated from 'settings'.\n *\n * @returns xssNonce\n * @private\n */\nfunction _getXssNonce() {\n    if (!jrsConfigs.xssNonce) {\n        throw new Error('xssNonce is not set. No render is allowed without xssNonce.');\n    }\n\n    return jrsConfigs.xssNonce;\n}\n\n/**\n * noncePrefix is used to prefix the result of xssUtil.softHtmlEscape(str, {whitelist: ['img']}), so that\n * the result is not overwritten during the subsequent call for html output -> xssUtil.softHtmlEscape(str)\n *\n * @returns nonce prefix\n * @private\n */\nfunction _getNoncePrefix() {\n    if (_getNoncePrefix.noncePrefix === undefined) {\n        var xssNonce = _getXssNonce();\n        if (!xssNonce)\n            return null;\n        _getNoncePrefix.noncePrefix = '<!--@' + xssNonce + '@-->'\n    }\n\n    return _getNoncePrefix.noncePrefix;\n}\n\n/**\n * In visualize, jquery & xssUtil dependency are loaded before 'settings';\n * hence, it's possible for jrsConfigs.xssHtmlTagWhiteList to be undefined till jrsConfigs is\n * populated from 'settings'.\n *\n * @returns configured htmlTagWhiteList (on the server)\n * @private\n */\nfunction _getConfigHtmlTagWhitelist() {\n    var configHtmlTagWhitelist = jrsConfigs.xssHtmlTagWhiteList;\n\n    configHtmlTagWhitelist = (typeof configHtmlTagWhitelist === 'string' ? configHtmlTagWhitelist : \"\");\n    configHtmlTagWhitelist = configHtmlTagWhitelist.replace(/\\s/g,'');   //remove the spaces from xss.soft.html.escape.tag.whitelist in security-config.properties\n    return configHtmlTagWhitelist;\n}\n\n/**\n * If htmlTagWhiteList is configured on the server, replace/modify htmlTagWhiteList with the server value.\n * if the 'configured htmlTagWhiteList' starts with +, the tags in config are added to the hard-coded htmlTagWhiteList;\n * otherwise, 'configured htmlTagWhiteList' replaces htmlTagWhiteList\n *\n * If there is no configuration on the server, return the default hard-coded htmlTagWhiteList.\n *\n * @returns htmlTagWhiteList\n * @private\n */\nfunction _getHtmlTagWhitelist() {\n    var configHtmlTagWhitelist = _getConfigHtmlTagWhitelist();\n\n    // if jrsConfigs.xssHtmlTagWhiteList starts with +, the tags are added to the htmlTagWhiteList;\n    // o/w, jrsConfigs.xssHtmlTagWhiteList replaces htmlTagWhiteList\n    if (configHtmlTagWhitelist.length > 0 && !_getHtmlTagWhitelist.whitelistInitialized) {\n        htmlTagWhiteList =\n            (configHtmlTagWhitelist.startsWith(\"+\") ? htmlTagWhiteList + ',' + configHtmlTagWhitelist.substr(1) : configHtmlTagWhitelist);\n        _getHtmlTagWhitelist.whitelistInitialized = true;\n    }\n\n    return htmlTagWhiteList;\n}\n\n/**\n * Construct left HTML tag regext from htmlTagWhiteList.\n *\n * @return {RegExp}\n * @private\n */\nfunction _getWhitelistLeftRegex() {\n    if (_getWhitelistLeftRegex.leftTagRegexp !== undefined)\n        return _getWhitelistLeftRegex.leftTagRegexp;\n\n    var whitelist = _getHtmlTagWhitelist();\n    var whitelistRegexInsert = whitelist.replace(/,/g,'\\\\b|');\n    _getWhitelistLeftRegex.leftTagRegexp =  RegExp('<(?!/|' + whitelistRegexInsert + '\\\\b|!--)', 'ig');\n\n    return _getWhitelistLeftRegex.leftTagRegexp;\n}\n\n/**\n * Construct right HTML tag regext from htmlTagWhiteList.\n *\n * @return {RegExp}\n * @private\n */\nfunction _getWhitelistRightRegex() {\n    if (_getWhitelistRightRegex.rightTagRegexp !== undefined)\n        return _getWhitelistRightRegex.rightTagRegexp;\n\n    var whitelist = _getHtmlTagWhitelist();\n    var whitelistRegexInsert = whitelist.replace(/,/g,'\\\\b|');\n    _getWhitelistRightRegex.rightTagRegexp = RegExp('</(?!' + whitelistRegexInsert + '\\\\b)', 'ig');\n\n    return _getWhitelistRightRegex.rightTagRegexp;\n}\n\n//regex map used to escape HTML tag attributes which produce javascript context.\n// During 'soft' html escape, the map keys are converted into Regexp(\\b<key>\\b, 'gi')\n// and replaced with the corresponding map values.\nvar _defaultAttribSoftEscapeMap = {\n    'regex': [\n        /\\bjavascript:/ig,\n        /\\bon(\\w+?)\\s*=/ig,\n        /\\bsrcdoc\\s*=/ig\n    ],\n    'replacement': [\n        '',\n        '&#111;&#110;$1=',\n        '&#115;&#114;&#99;doc='\n    ]\n};\n\nfunction _getConfigAttribSoftHtmlEscapeMap() {\n    return jrsConfigs.xssAttribSoftHtmlEscapeMap;\n}\n\nfunction _getAttribSoftHtmlEscapeMap() {\n    if (_getAttribSoftHtmlEscapeMap.attribSoftEscapeArr !== undefined)\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n\n    var configAttribSoftHtmlEscapeMap = _getConfigAttribSoftHtmlEscapeMap();\n    if (!configAttribSoftHtmlEscapeMap) {\n        _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr = _defaultAttribSoftEscapeMap;\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n    }\n\n    try {\n        var configRegexArr = [];\n        var configReplArr = [];\n        for (var k in configAttribSoftHtmlEscapeMap) {\n            if (configAttribSoftHtmlEscapeMap.hasOwnProperty(k)) {\n                configRegexArr.push(RegExp( k, 'ig'));\n                configReplArr.push(configAttribSoftHtmlEscapeMap[k]);\n            }\n        }\n\n        _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr = {\n            'regex': configRegexArr,\n            'replacement': configReplArr\n        };\n\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr\n    }\n    catch (err) {\n        console.warn(\"Unable to parse xss.soft.html.escape.attrib.map.  Using _defaultAttribSoftEscapeMap.\"); // eslint-disable-line no-console\n        return _getAttribSoftHtmlEscapeMap.attribSoftEscapeArr;\n    }\n}\n\n/*\n        _xssSoftHtmlEscape performs 'soft HTML escape': an escape of html such that no Javascript is executed in the browser.\n        _xssSoftHtmlEscape escapes parenthesis and <.  < is escaped only if it's not followed by a valid html tag as defined by\n        htmlTagWhiteList or options.whitelist.  _xssSoftHtmlEscape also escapes some HTML attributes switching the HTML context\n        to Javascript.\n\n        If the 'string' input is not an HTML or contains a session nonce, soft HTML escape is not applied.\n        Session nonce marks the HTML as safe; that HTML does not require escaping against XSS.  This lets us\n        mark our html templates as safe (allows to include javascript and gives a performance boost).\n\n        Note: it's important that applying this function more than once does not escape the string multiple times.\n        Multiple escapes will break UI.\n        E.g. < is replaced with &lt;.  None of the chars & l t or ; should be escaped. If, say, & were replaced with\n        &amp;, < would become &amp;lt; after two escapes instead of staying &lt;.\n\n        Note2: The regular expressions are defined outside the function to improve performance.  The regex's\n        persist on the page; they have an internal state parameter lastIndex (last match loc.).  It's important\n        to reset lastIndex=0 before using each regex, so that the regex exec. results are correct.  Alternatively,\n        one can recreate the regex on each function call.\n\n        Parameters:\n        string - string to be purged of XSS via 'soft' HTML escape.\n        options.whitelist - [array] if defined, substitutes htmlTagWhiteList tags.  Tags in whitelist won't be escaped.\n                            This option is useful when we want to prevent the text input rendered as HTML.\n                            E.g. options.whitelist=['a'].  <a> won't be escaped. <img> will be escaped as &lt;img>.\n        options.escapeTags - [array] the tags excluded from htmlTagWhiteList; those tags would be escaped.\n                            E.g. options.escapeTags = ['iframe'].  <iframe > would become &lt;iframe >.\n                            This option is available only when whitelist is not specified.\n     */\nvar _xssSoftHtmlEscape = function(string, options) {\n    string = string == null ? '' : string;\n    options = options || { };\n\n    if (!_isHTMLString(string))\n        return string;\n\n    // The case in which options.whitelist escape was applied first; string starts with nonce.\n    // Avoid the subsequent escape during html output on the page.\n    // E.g. jquery.html(xssUtil.softHtmlEscape(str, {whitelist:['img']})).  If not for the following statement,\n    // subsequent call to xssUtil.softHtmlEscape inside jquery.html would use the default htmlTagWhiteList\n    // and would write over options.whitelist escape.  noncePrefix is an html comment to avoid showing it on the page.\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        return string.substring(noncePref.length);\n\n    // If the string contains nonce (not noncePrefix in the 1st pos-n), it comes from JRS; it's safe to exec javascript.\n    var xssNonce = _getXssNonce();\n    if (xssNonce && string.indexOf(xssNonce) >= 0)\n        return string;\n\n    string = _canonicalize(string);\n\n    //avoid escaping < or > in <TAG> or </TAG>, where TAG is white-listed\n    if (options.whiteList && options.whiteList instanceof Array && options.whiteList.length > 0) {\n        //escape <TAG>\n        var whitelistRegexStr = options.whiteList.join('\\\\b|');\n        var rtLeftTagRegexp = RegExp('<(?!/|' + whitelistRegexStr + '\\\\b|!--)', 'ig');\n        string = rtLeftTagRegexp.test(string) ? string.replace(rtLeftTagRegexp, '&lt;') : string;\n\n        //escape </TAG>\n        var rtRightTagRegexp = RegExp('</(?!' + whitelistRegexStr + '\\\\b)', 'ig');\n        string = rtRightTagRegexp.test(string) ? string.replace(rtRightTagRegexp, '&lt;/') : string;\n\n        string = noncePref + string;\n    }\n    else {\n        var tmpLeftTagRegexp = _getWhitelistLeftRegex(), tmpRightTagRegexp = _getWhitelistRightRegex();\n        tmpLeftTagRegexp.lastIndex = 0;\n        tmpRightTagRegexp.lastIndex = 0;\n\n        if (options.escapeTags && options.escapeTags instanceof Array) {\n            var tmpTagWhiteList = _getHtmlTagWhitelist();\n            for (var i = 0; i < options.escapeTags.length; ++i) {\n                tmpTagWhiteList = tmpTagWhiteList.replace(options.escapeTags[i] + ',', '')\n            }\n\n            tmpLeftTagRegexp = RegExp('<(?!/|' + tmpTagWhiteList.replace(/,/g, '\\\\b|') + '\\\\b|!--)', 'ig');\n            tmpRightTagRegexp = RegExp('</(?!' + tmpTagWhiteList.replace(/,/g, '\\\\b|') + '\\\\b)', 'ig');\n        }\n\n        //escape <TAG>\n        string = tmpLeftTagRegexp.test(string) ? string.replace(tmpLeftTagRegexp, '&lt;') : string;\n\n        //escape </TAG>\n        string = tmpRightTagRegexp.test(string) ? string.replace(tmpRightTagRegexp, '&lt;/') : string;\n    }\n\n    var attribSoftHtmlEscapeMap = _getAttribSoftHtmlEscapeMap();\n    var regexArr = attribSoftHtmlEscapeMap['regex'];\n    var replArr = attribSoftHtmlEscapeMap['replacement'];\n\n    for (var k=0; k<regexArr.length; ++k) {\n        var regex = regexArr[k];\n        regex.lastIndex = 0;\n\n        var replacement = replArr[k];\n        string = regex.test(string) ? string.replace(regex, replacement) : string;\n    }\n\n    return string;\n};\n\n/*\n     Unlike 'soft' HTML escape (_xssSoftHtmlEscape), this function simply escapes based on escapeMap key-value pairs.\n     It will break all html and javasctipt.\n */\nvar _xssHardEscape = function(string) {\n    string = string == null ? '' : string;\n\n    if (!(typeof(string) === 'string' || string instanceof String))\n        return string;\n\n    // The case in which soft html escape with options.whitelist was applied first; string starts with nonce.\n    // Remove nonce prefix.  Hard escape happens anyways.\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        string = string.substring(noncePref.length);\n\n    hardEscapeRegex.lastIndex = 0;\n    string = hardEscapeRegex.test(string) ? string.replace(hardEscapeRegex, function(match) { return escapeMap[match]; }) : string;\n    return string;\n};\n\n//Unescape function\nvar _xssUnescape = function(string) {\n    string = string == null ? '' : string;\n\n    if (!(typeof(string) === 'string' || string instanceof String)) {\n        return string;\n    }\n\n    // after soft escape with options.whitelist, the string will have a nonce prefix.\n    // Remove it to unescape the string in xssUtil.unescape(xssUtil.softHtmlEscape(string, {whitelist: ['a','div']})).\n    var noncePref = _getNoncePrefix();\n    if (noncePref && string.indexOf(noncePref) === 0)\n        string = string.substring(noncePref.length);\n\n    // If the string contains nonce, it comes from JRS: was not escaped\n    var xssNonce = _getXssNonce();\n    if (xssNonce && string.indexOf(xssNonce) >= 0)\n        return string;\n\n    var unescapeRegexp = RegExp('(?:' + regexKeys(unescapeMap).join('|') + ')', 'ig');\n    return unescapeRegexp.test(string) ? string.replace(unescapeRegexp, function(match) { return unescapeMap[match]; }) : string;\n};\n\nexport default {\n    softHtmlEscape: _xssSoftHtmlEscape,\n    hardEscape: _xssHardEscape,\n    unescape: _xssUnescape\n};\n","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}