(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[2705,6004,73,8522,236],{17335:(e,t,s)=>{var i,o,n;
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */o=[s(72157),s(91544)],void 0===(n="function"==typeof(i=function(e){return e.fn.scrollParent=function(t){var s=this.css("position"),i="absolute"===s,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==s&&n.length?n:e(this[0].ownerDocument||document)}})?i.apply(t,o):i)||(e.exports=n)},84581:(e,t,s)=>{"use strict";s.d(t,{p:()=>d,k:()=>p});var i=s(97836),o=s.n(i),n=s(64155),a=s(72157),r=s.n(a),l=s(84612),_=s(51516);function d(e,t){if(e){if(this.srcElement=e,t&&(this.label=t.label,this.text=t.text,this.offsets=t.offsets,this.showBelow=!!t.showBelow,this.templateId=t.templateId,this.loadTextCallback=t.loadTextCallback,this.loadTextExecuted=!1),this.disabled=!1,this.removed=!1,this.templateId)this._toAttribute(this.TOOLTIP_TEMPLATE,this.templateId);else{var s=this._fromAttribute(this.TOOLTIP_TEMPLATE);this.templateId=s&&s.length>0?s:this.TOOLTIP_TEMPLATE_ID}this.label?this._toAttribute(this.TOOLTIP_LABEL,this.label):this.label=this._fromAttribute(this.TOOLTIP_LABEL),this.text?this._toAttribute(this.TOOLTIP_TEXT,this.text):this.text=this._fromAttribute(this.TOOLTIP_TEXT),this.label&&(this.label=this._escapeText(this.label)),this.text&&(this.text=this._escapeText(this.text)),this.srcElement.jsTooltip=this,p.tooltips.push(this)}}d.addVar("SEPARATOR","@@"),d.addVar("TOOLTIP_LABEL","tooltiplabel"),d.addVar("TOOLTIP_TEXT","tooltiptext"),d.addVar("TOOLTIP_TEMPLATE","tooltiptemplate"),d.addVar("TOOLTIP_TEMPLATE_ID","jsTooltip"),d.addVar("LABEL_PATTERN",".message.label"),d.addVar("TEXT_PATTERN",".message:not(.label)"),d.addMethod("_toAttribute",(function(e,t){this.srcElement&&(t=l.Z.hardEscape(t),this.srcElement.writeAttribute(e,(0,n.kJL)(t)?t.join(this.SEPARATOR):t))})),d.addMethod("_fromAttribute",(function(e){if(this.srcElement&&this.srcElement.hasAttribute(e)){var t=this.srcElement.readAttribute(e);return t.include(this.SEPARATOR)?t.split(this.SEPARATOR):t}return null})),d.addMethod("_setValues",(function(e,t){e.each((function(e,s){(o().isString(t[s])||o().isNumber(t[s]))&&e.update(l.Z.hardEscape(t[s]))}))})),d.addMethod("_calculateZIndex",(function(e){function t(e){return parseInt(r()(e).css("z-index"))}var s=t(e);o().isNumber(s)&&!o().isNaN(s)||(s=1e3);var i=o().flatten([this.srcElement,r()(this.srcElement).parents().toArray()]);return o().reduce(i,(function(e,s){var i=t(s);return o().isNumber(i)&&!o().isNaN(i)&&(e=Math.max(e,i)),e}),s)+1})),d.addMethod("_escapeText",(function(e){return o().isArray(e)?o().map(e,(function(e){return l.Z.hardEscape(e)})):l.Z.hardEscape(e)})),d.addMethod("show",(function(e){var t;e&&(this.offsets=e),this._element=r()("#"+this.templateId)[0],this.showBelow?(t=(0,n.Qyk)(this.srcElement))[1]+=this.srcElement.clientHeight+5:t=[(0,n.vjD)()+5,(0,n.cxm)()+5],this.offsets&&(t[0]+=this.offsets[0],t[1]+=this.offsets[1]),this._element.setStyle({position:"absolute",left:t[0]+"px",top:t[1]+"px",zIndex:this._calculateZIndex(this._element)});var s=this._element.select(this.LABEL_PATTERN),i=this._element.select(this.TEXT_PATTERN);if(this.label&&this._setValues(s,(0,n.kJL)(this.label)?this.label:[this.label]),this.text&&this._setValues(i,(0,n.kJL)(this.text)?this.text:[this.text]),r()(this._element).removeClass(_.Z.HIDDEN_CLASS),t[0]+this._element.clientWidth>r()(window).width()){var o=t[0]-this._element.clientWidth>0?t[0]-this._element.clientWidth:15;this._element.setStyle({left:o+"px"})}if(t[1]+this._element.clientHeight>r()(window).height()){var a=t[1]-this._element.clientHeight-10;this._element.setStyle({top:a+"px"})}return this.loadTextCallback&&!this.loadTextExecuted&&(this.loadTextExecuted=!0,this.loadTextCallback(this)),this})),d.addMethod("updateText",(function(e){if(this.text=this._escapeText(e),this._element){var t=this._element.select(this.TEXT_PATTERN);this._setValues(t,(0,n.kJL)(this.text)?this.text:[this.text])}})),d.addMethod("hide",(function(){this._element&&r()(this._element).addClass(_.Z.HIDDEN_CLASS)})),d.addMethod("disable",(function(){p.hideJSTooltip(this.srcElement),this.disabled=!0})),d.addMethod("enable",(function(){this.disabled=!1,p.showJSTooltip(this.srcElement,this.offsets)})),d.addMethod("remove",(function(){var e=p.tooltips.indexOf(this.srcElement.jsTooltip);-1!==e&&(p.hideJSTooltip(this.srcElement),p.tooltips.splice(e,1)),this.removed=!0})),d.addMethod("isRemoved",(function(){return this.removed}));var p={TOOLTIP_PATTERN:"*[tooltiptext] > *",ELEMENT_WITH_TOOLTIP_PATTERN:"*[tooltiptext]",actualX:0,actualY:0,tooltips:[],showJSTooltip:function(e,t){if(e.jsTooltip){if(!e.jsTooltip.disabled&&t){this.actualX=t[0],this.actualY=t[1],this.cleanUp();var s=r()(e).attr("tooltipappeardelay");s=s?parseInt(s):1e3,e.jsTooltip.timer&&clearTimeout(e.jsTooltip.timer),e.jsTooltip.timer=setTimeout((function(){e.jsTooltip.show([p.actualX,p.actualY])}),s),r()(e).on("mousemove",(function(e){p.actualX=e.clientX,p.actualY=e.clientY}))}}else e.jsTooltip=new d(e,{})},enableTooltips:function(){(this.tooltips||[]).forEach((function(e){e.enable()}))},disableTooltips:function(){(this.tooltips||[]).forEach((function(e){e.disable()}))},hideJSTooltip:function(e){e&&e.jsTooltip&&(e.jsTooltip.timer&&clearTimeout(e.jsTooltip.timer),e.jsTooltip.hide(),r()(e).off("mousemove"))},cleanUp:function(){if(this.tooltips&&this.tooltips.length>0){var e=[],t="fuigasuifdughaiadbvguaidbapvuwbev";this.tooltips.each((function(s){s.srcElement.id&&document.getElementById(s.srcElement.id)||(s.srcElement.setAttribute("id",t),document.getElementById(t)||(s.hide(),e.push(s)),s.srcElement.setAttribute("id",null))})),e.length>0&&(this.tooltips=this.tooltips.reject((function(t){return e.include(t)})))}}}},236:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{mc:()=>ajaxTargettedUpdate,Pw:()=>ajaxNonReturningUpdate,Z8:()=>appendPostData});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72157),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_components_components_dialogs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52687),_util_utils_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64155),_core_ajax_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11129),_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(94277),js_sdk_src_common_util_xssUtil__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84612),scriptaculous_src_builder__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9026),scriptaculous_src_builder__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(scriptaculous_src_builder__WEBPACK_IMPORTED_MODULE_6__),ajax={};function AjaxRequester(e,t,s,i){this.url=e||document.location.toString(),this.params=t,this.xmlhttp=getXMLHTTP();var o=this.processResponse(this);this.xmlhttp.onreadystatechange=o,this.postData=s,this.async=!i,this.requestTime=+new Date}function handleResponse(e){checkForErrors(e)||e.responseHandler(e),ajaxRequestEnded(e),_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl&&_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl.vars&&(_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl.vars.ajax_in_progress=!1),document.getElementById("mainTableContainerOverlay")&&(document.getElementById("mainTableContainerOverlay").className="hidden")}function targettedResponseHandler(e){var t=e.xmlhttp,s=e.params[0],i=e.params[1],o=e.params[2],n=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+s)[0];if(i)jquery__WEBPACK_IMPORTED_MODULE_0___default()(n).html(""),updateUsingResponseSubset(t,i,n);else{var a=t.responseText.trim();if(0===a.indexOf("<div")){var r=a.substring(0,a.indexOf(">")+1),l=a.substring(a.indexOf(">")+1,a.lastIndexOf("</")),_=a.substring(a.lastIndexOf("</")),d=jquery__WEBPACK_IMPORTED_MODULE_0___default()(r+_);l=l.replace(/&quot;/g,"&amp;quot;"),d.text(js_sdk_src_common_util_xssUtil__WEBPACK_IMPORTED_MODULE_5__.Z.hardEscape(l)),jquery__WEBPACK_IMPORTED_MODULE_0___default()(n).html(d)}else jquery__WEBPACK_IMPORTED_MODULE_0___default()(n).html(a)}invokeCallbacks(o,n)}function cumulativeResponseHandler(e){var t=e.xmlhttp,s=e.params[0],i=e.params[1],o=e.params[2],n=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+s)[0];i?updateUsingResponseSubset(t,i,n):n.insert(t.responseText,{position:"after"}),invokeCallbacks(o)}function rowCopyResponseHandler(e){var t=e.xmlhttp,s=e.params[0],i=e.params[2],o=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+s)[0];if("TABLE"===o.tagName){var n=scriptaculous_src_builder__WEBPACK_IMPORTED_MODULE_6___default().node("DIV");jquery__WEBPACK_IMPORTED_MODULE_0___default()(n).html(t.responseText),(0,_util_utils_common__WEBPACK_IMPORTED_MODULE_2__.SG5)(n.getElementsByTagName("table")[0],o,!1,!1),invokeCallbacks(i)}else alert("Ajax Exception: rowCopyResponseHandler will not work for container "+o.tagName)}ajax.cancelRequestsBefore,ajax.LOADING_ID="loading",AjaxRequester.addVar("CUMULATIVE_UPDATE","c").addVar("ROW_COPY_UPDATE","r").addVar("TARGETTED_REPLACE_UPDATE","t").addVar("EVAL_JSON","j").addVar("DUMMY_POST_PARAM","dummyPostData").addVar("MAX_WAIT_TIME",2e3).addVar("errorHandler",(function(){return!1})).addMethod("doGet",(function(){return!!this.xmlhttp&&(this.xmlhttp.open("GET",this.url,this.async),this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xmlhttp.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"),this.xmlhttp.setRequestHeader("x-requested-with","AJAXRequest"),this.xmlhttp.send(null),!0)})).addMethod("doPost",(function(){return!!this.xmlhttp&&(this.postData===AjaxRequester.prototype.DUMMY_POST_PARAM&&(this.postData=null),this.xmlhttp.open("POST",this.url,this.async),this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xmlhttp.setRequestHeader("x-requested-with","AJAXRequest"),this.xmlhttp.send(this.postData),!0)})).addMethod("processResponse",(function(e){return function(){if(4==e.xmlhttp.readyState){if(ajax.cancelRequestsBefore&&ajax.cancelRequestsBefore>e.requestTime)return void ajaxRequestEnded(e);handleResponse(e)}}})).addMethod("setErrorHandler",(function(e){this.errorHandler=_core_ajax_utils__WEBPACK_IMPORTED_MODULE_3__.Po})).addMethod("verifyAjaxResponse",(function(){return this.xmlhttp.getResponseHeader("Server")||this.confirmContinue()})).addMethod("startResponseTimer",(function(){this.responseTimer=window.setTimeout((function(){_components_components_dialogs__WEBPACK_IMPORTED_MODULE_1__.Z.popup.show(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+ajax.LOADING_ID)[0],!0)}),this.MAX_WAIT_TIME)})).addMethod("cancelResponseTimer",(function(){window.clearTimeout(this.responseTimer)})).addMethod("confirmContinue",(function(){return confirm(window.serverIsNotResponding)}));var clobberingResponseHandler=function(e){var t=e.params[2];jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body).html(e.xmlhttp.responseText),document.fire("dom:loaded"),invokeCallbacks(t)},evalJSONResponseHandler=function(e){var t=null;try{t=e.xmlhttp.responseText.evalJSON()}catch(e){window.console&&console.log(e)}invokeCallbacks(e.params[2],t)};function updateUsingResponseSubset(e,t,s){var i=jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.responseText),o=i.filter("#"+t);if("TABLE"==s.tagName&&"TABLE"==jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+t)[0].tagName?(0,_util_utils_common__WEBPACK_IMPORTED_MODULE_2__.M$o)(o,s,!0):jquery__WEBPACK_IMPORTED_MODULE_0___default()(s).append(o.html()),void 0!==jquery__WEBPACK_IMPORTED_MODULE_0___default()){var n=i.filter("script.jasperreports"),a=n.size(),r=0;!function e(){if(!(r>=a)){var t=jquery__WEBPACK_IMPORTED_MODULE_0___default()(n.get(r));t.attr("src")?(r++,s=t.attr("data-custname"),i=t.attr("src"),l=(o=e)||!1,_=document.createElement("script"),window.jr_scripts||(window.jr_scripts={}),window.jr_scripts[s]||"jr_jq_min"===s?l&&o():(_.setAttribute("type","text/javascript"),_.readyState?_.onreadystatechange=function(){"loaded"!==_.readyState&&"complete"!==_.readyState||(_.onreadystatechange=null,l&&o())}:_.onload=function(){l&&o()},_.src=i,document.getElementsByTagName("head")[0].appendChild(_),window.jr_scripts[s]=i)):(r++,function(e,t){var s=t||!1;if(e){var i=e.match(/^.*((\r\n|\n|\r)|$)/gm);window.eval(i.join("\n")),s&&t()}}(t.html(),e))}var s,i,o,l,_}()}}function invokeCallbacks(callback,customArg){callback&&("string"==typeof callback?eval(callback):callback(customArg))}function ajaxClobberredUpdate(e,t){t.responseHandler=clobberingResponseHandler,ajaxUpdate(e,t)}function ajaxTargettedUpdate(url,options){var responseHandler;responseHandler=options.mode==AjaxRequester.prototype.CUMULATIVE_UPDATE?cumulativeResponseHandler:options.mode==AjaxRequester.prototype.ROW_COPY_UPDATE?rowCopyResponseHandler:options.mode==AjaxRequester.prototype.EVAL_JSON?evalJSONResponseHandler:targettedResponseHandler,options.responseHandler=function(requester,params){options.preFillAction?"string"==typeof options.preFillAction?eval(options.preFillAction):options.preFillAction(responseHandler(requester,params)):responseHandler(requester,options.params)},ajaxUpdate(url,options)}function ajaxNonReturningUpdate(e,t){t.responseHandler=null,ajaxUpdate(e,t)}function ajaxClobberedFormSubmit(e,t,s){var i=getPostData(e,window.extraPostData);s.postData=appendPostData(i,window.extraPostData),s.responseHandler=clobberingResponseHandler,ajaxUpdate(t,s)}function ajaxTargettedFormSubmit(e,t,s){var i=getPostData(e,s.extraPostData);s.postData=appendPostData(i,s.extraPostData),s.responseHandler=targettedResponseHandler,ajaxUpdate(t,s)}function ajaxErrorHandler(){(0,_core_ajax_utils__WEBPACK_IMPORTED_MODULE_3__.mr)(window.ajaxError,window.ajaxErrorHeader)}function doNothing(){}function ajaxUpdate(e,t){var s=new AjaxRequester(e,[t.fillLocation,t.fromLocation,t.callback,t.isAutomaticRefresh],t.postData,t.synchronous);(0,_util_utils_common__WEBPACK_IMPORTED_MODULE_2__.zcy)()&&"adhoc"==_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl.vars.current_flow&&(_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl.vars.ajax_in_progress||(_namespace_namespace__WEBPACK_IMPORTED_MODULE_4__.hl.vars.ajax_in_progress=!0)),s.busyCursor=!t.silent,s.showLoading=!t.silent&&!t.hideLoader,s.responseHandler=t.responseHandler||doNothing,s.responseHandler!=doNothing&&ajaxRequestStarted(s),t.errorHandler&&(s.errorHandler=t.errorHandler),s.xmlhttp&&(t.postData?s.doPost():s.doGet())}function checkForErrors(e){return(0,e.errorHandler)(e.xmlhttp)}function getPostData(e,t){"string"==typeof e&&(e=document.forms[e]);for(var s="",i=0;i<e.elements.length;++i){var o=e.elements[i];!o.name||t&&t[o.name]||(s=appendFormInput(s,o))}return s}function appendPostData(e,t){for(var s in t)e=appendFormValue(e,s,t[s]);return e}function appendFormInput(e,t){if(t.name){var s,i=!1;switch(t.type){case"checkbox":case"radio":i=t.checked,s=t.value;break;case"hidden":case"password":case"text":case"Textarea":i=!0,s=t.value;break;case"select-one":case"select-multiple":s=[];for(var o=0;o<t.options.length;++o){var n=t.options[o];n.selected&&(i=!0,s.push(n.value))}}if(i)if(s.shift)for(;s.length>0;)e=appendFormValue(e,t.name,s.shift());else e=appendFormValue(e,t.name,s)}return e}function appendFormValue(e,t,s){return e.length>0&&(e+="&"),e+=t+"="+encodeURIComponent(s)}var ERROR_POPUP_DIV="jsErrorPopup",ERROR_POPUP_CONTENTS="errorPopupContents",ERROR_POPUP_BACK_BUTTON="errorBack",ERROR_POPUP_CLOSE_BUTTON="errorPopupCloseButton";function hideErrorPopup(){(0,_util_utils_common__WEBPACK_IMPORTED_MODULE_2__.JHn)(),document.getElementById(ERROR_POPUP_DIV).style.display="none"}function ajaxRequestStarted(e){++ajax.ajaxRequestCount,e.busyCursor&&(document.body.style.cursor="wait"),!(0,_util_utils_common__WEBPACK_IMPORTED_MODULE_2__.zcy)()&&e.showLoading&&e.startResponseTimer()}function ajaxRequestEnded(e){e.cancelResponseTimer(),ajax.ajaxRequestCount<=1?(document.body.style.cursor="auto",ajax.ajaxRequestCount=0,_components_components_dialogs__WEBPACK_IMPORTED_MODULE_1__.Z.popup.hide(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+ajax.LOADING_ID)[0])):ajax.ajaxRequestCount--}function isValidJsonResponse(e){var t=e.getResponseHeader("Content-Type");return 200==e.status&&null!=t&&t.indexOf("application/json")>=0}function getXMLHTTP(){var e;
/*@cc_on @*/
/*@cc_on @*/
if(!e)try{e=new XMLHttpRequest}catch(e){alert("You need a browser which supports an XMLHttpRequest Object.\nMozilla build 0.9.5 has this Object and IE5 and above, others may do, I don't know, any info jim@jibbering.com")}return e}ajax.ajaxRequestCount=0,window.ajaxNonReturningUpdate=ajaxNonReturningUpdate},11129:(e,t,s)=>{"use strict";s.d(t,{m0:()=>l,Po:()=>_,mr:()=>d});var i=s(52687),o=s(94277),n=s(72157),a=s.n(n);function r(e,t){(e&&e.indexOf("sessionAttributeMissingException"))>-1?i.Z.clusterErrorPopup.show(e):i.Z.errorPopup.show(e,!1,t)}function l(e){if(500==e.status)return r(e.responseText),!0;if(e.getResponseHeader("LoginRequested")){return document.location=".",!0}if(e.getResponseHeader("JasperServerError")){if(!e.getResponseHeader("SuppressError"))if(1==a()(".dashboardViewFrame").length)a()(document.body).html(e.responseText),a()("#"+o.hl.fid,window.parent.document).removeClass("hidden").show();else r(e.responseText);return!0}return!1}function _(){}function d(){}},72861:(e,t,s)=>{var i=s(72157),o=s(52499),n=o.$,a=(o.$$,o.$w,o.Prototype),r=o.Position,l=(o.Hash,o.$A,o.Template,o.Class),_=(o.$F,o.Form,o.$break,o.$H,o.Selector,o.Field,o.Enumerable,s(83114)),d=_.Droppables,p=_.Draggables,h=_.Draggable,c=_.Sortable;h.prototype.startDrag=function(e){if(h.isDragging=!0,this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this._originallyAbsolute="absolute"==this.element.getStyle("position"),this._originallyAbsolute||r.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element),"TR"===this.element.parentNode.tagName&&document.body.appendChild(this.element)),this.options.superghosting){r.prepare();var t=[Event.pointerX(e),Event.pointerY(e)],s=document.getElementsByTagName("body")[0],i=this.element;this._clone=i.cloneNode(!0),a.Browser.IE&&(this._clone.clearAttributes(),this._clone.mergeAttributes(i.cloneNode(!1))),i.parentNode.insertBefore(this._clone,i),i.id="clone_"+i.id,i.hide(),r.absolutize(i),i.parentNode.removeChild(i),s.appendChild(i),"0px"!=i.style.width&&"0px"!=i.style.height||(i.style.width=Element.getWidth(this._clone)+"px",i.style.height=Element.getHeight(this._clone)+"px"),this.originalScrollTop=Element.getHeight(this._clone)/2,this.draw(t),i.show()}if(this.options.scroll)if(this.options.scroll==window){var o=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=o.left,this.originalScrollTop=o.top}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;p.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},h.prototype.draw=function(e){var t=r.cumulativeOffset(this.element);if(this.options.ghosting){var s=r.realOffset(this.element);t[0]+=s[0]-r.deltaX,t[1]+=s[1]-r.deltaY}var i=this.currentDelta();t[0]-=i[0],t[1]-=i[1],this.options.scroll&&(t[0]-=this.options.scroll.scrollLeft,t[1]-=this.options.scroll.scrollTop),this.options.scroll&&this.options.scroll!=window&&this._isScrollChild&&(t[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft,t[1]-=this.options.scroll.scrollTop-this.originalScrollTop);var o=[0,1].map(function(s){return e[s]-t[s]-(this.options.mouseOffset?-2:this.offset[s])}.bind(this));this.options.snap&&(o=Object.isFunction(this.options.snap)?this.options.snap(o[0],o[1],this):Object.isArray(this.options.snap)?o.map(function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this)):o.map(function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this))),this.options.superghosting&&("absolute"==this.element.getStyle("position")?o[1]=e[1]-this.originalScrollTop:o[1]-=this.originalScrollTop||10);var n=this.element.style;this.options.constraint&&"horizontal"!=this.options.constraint||(n.left=o[0]+"px"),this.options.constraint&&"vertical"!=this.options.constraint||(n.top=o[1]+"px"),"hidden"==n.visibility&&(n.visibility="")},h.prototype.initDrag=function(e){if((Object.isUndefined(h._dragging[this.element])||!h._dragging[this.element])&&(e.touches&&1==e.touches.length||Event.isLeftClick(e))){var t=Event.element(e).tagName.toUpperCase();if("INPUT"==t||"SELECT"==t||"OPTION"==t||"BUTTON"==t||"TEXTAREA"==t)return;if(i(this.element).parents("#sortDialog").length>0&&"B"==t)return;var s=[Event.pointerX(e),Event.pointerY(e)],o=r.cumulativeOffset(this.element);this.offset=[0,1].map((function(e){return s[e]-o[e]})),p.activate(this),this.countdown=p.DEFAULT_TOLERANCE,Event.stop(e),this.element.fire("drag:mousedown",{targetEvent:e})}},d.isAffected=function(e,t,s){var o=i(s.element),a=o.width(),r=o.height(),l=o.offset(),_=l.left+a,d=l.top+r,p=e[0]>l.left&&e[0]<_&&e[1]>l.top&&e[1]<d;return s.element!=t&&(t.parentNode===n(document.body)||!s._containers||this.isContained(t,s))&&(!s.accept||Element.classNames(t).detect((function(e){return s.accept.include(e)})))&&p},h.prototype.finishDrag=function(e,t){if(h.isDragging=!1,this.dragging=!1,isIE()&&(document.body.onmousemove=function(){}),this.options.quiet){r.prepare();var s=[Event.pointerX(e),Event.pointerY(e)];d.show(s,this.element)}this.options.ghosting&&(this._originallyAbsolute||(r.relativize(this.element),"TR"===this._clone.parentNode.tagName&&this._clone.parentNode.insertBefore(this.element,this._clone)),delete this._originallyAbsolute,Element.remove(this._clone),this._clone=null);var i=!1;t&&((i=d.fire(e,this.element))||(i=!1)),i&&this.options.onDropped&&this.options.onDropped(this.element),p.notify("onEnd",this,e);var o=this.options.revert;o&&Object.isFunction(o)&&(o=o(this.element));var a=this.currentDelta();o&&this.options.reverteffect?0!=i&&"failure"==o||this.options.reverteffect(this.element,a[1]-this.delta[1],a[0]-this.delta[0]):this.delta=a,this.options.zindex&&(this.element.style.zIndex=this.originalZ,this._clone&&(this._clone.style.zIndex=this.originalZ)),this.options.endeffect&&this.options.endeffect(this.element),this.options.superghosting&&(null==this.element.parentNode&&(Element.hide(this.element),n(document.body).appendChild(this.element)),Element.remove(this.element),new h(this._clone,this.options)),p.deactivate(this),d.reset()},c.defaultOnHover=c.onHover,c.onHover=function(e,t,s){e.hasClassName("dialog")||c.defaultOnHover(e,t,s)},c.defaultOnEmptyHover=c.onEmptyHover,c.onEmptyHover=function(e,t,s){e.hasClassName("dialog")||c.defaultOnEmptyHover(e,t,s)};var u=l.create({initialize:function(e,t){this.element=n(e),this.observer=t,this.lastValue=c.serialize(this.element)},onStart:function(){this.lastValue=c.serialize(this.element)},onEnd:function(e,t){c.unmark(),this.lastValue!=c.serialize(this.element)&&this.observer(this.element,t)}});c.getSortableObserverConstructor=function(){return u},d.show=function(e,t){if(this.drops.length){var s,i=[];this.drops.each((function(s){d.isAffected(e,t,s)&&((t.hasClassName("sortDialogAvailable")||t.hasClassName("sortDialogSortFields"))&&"sortDialogAvailable"!=s.element.id&&"sortDialogSortFields"!=s.element.id||i.push(s))})),i.length>0&&(s=d.findDeepestChild(i)),this.last_active&&this.last_active!=s&&this.deactivate(this.last_active),s&&(r.within(s.element,e[0],e[1]),s.onHover&&(t.classNames().include("wrap")&&(t.relativize(),t.classNames().include("measure")?t.classNames().set("draggable dragging measure"+(t.classNames().include("supportsFilter")?" supportsFilter":"")):t.classNames().set("draggable dragging dimension"+(t.classNames().include("supportsFilter")?" supportsFilter":"")),t.style.position="relative",t.style.display="inline-block",t.style.width="",t.style.height=""),s.onHover(t,s.element,r.overlap(s.overlap,s.element))),s!=this.last_active&&d.activate(s))}},t.m9=d,t.Mw=p,t._l=h}}]);
//# sourceMappingURL=chunk.2705.js.map